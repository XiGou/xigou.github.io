"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([[6044],{36157:(t,e,r)=>{r.d(e,{IU:()=>m,Jo:()=>K,T_:()=>b,g0:()=>E,jP:()=>x});var a=r(67231),n=r(44007),i=r(72355),o=r(25664),s=r(55395),l=r(63300),d=r(35855),c=r(29893),p=(0,l.K2)(((t,e,r,a,n,i)=>{e.arrowTypeStart&&f(t,"start",e.arrowTypeStart,r,a,n,i),e.arrowTypeEnd&&f(t,"end",e.arrowTypeEnd,r,a,n,i)}),"addEdgeMarkers"),h={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},f=(0,l.K2)(((t,e,r,a,n,i,o)=>{const s=h[r];if(!s)return void l.Rm.warn(`Unknown arrow type: ${r}`);const d=`${n}_${i}-${s.type}${"start"===e?"Start":"End"}`;if(o&&""!==o.trim()){const r=`${d}_${o.replace(/[^\dA-Za-z]/g,"_")}`;if(!document.getElementById(r)){const t=document.getElementById(d);if(t){const e=t.cloneNode(!0);e.id=r;e.querySelectorAll("path, circle, line").forEach((t=>{t.setAttribute("stroke",o),s.fill&&t.setAttribute("fill",o)})),t.parentNode?.appendChild(e)}}t.attr(`marker-${e}`,`url(${a}#${r})`)}else t.attr(`marker-${e}`,`url(${a}#${d})`)}),"addEdgeMarker"),u=new Map,g=new Map,m=(0,l.K2)((()=>{u.clear(),g.clear()}),"clear"),y=(0,l.K2)((t=>t?t.reduce(((t,e)=>t+";"+e),""):""),"getLabelStyles"),x=(0,l.K2)((async(t,e)=>{let r=(0,l._3)((0,l.D7)().flowchart.htmlLabels);const a=await(0,o.GZ)(t,e.label,{style:y(e.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});l.Rm.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),s=i.insert("g").attr("class","label");s.node().appendChild(a);let c,p=a.getBBox();if(r){const t=a.children[0],e=(0,d.Ltv)(a);p=t.getBoundingClientRect(),e.attr("width",p.width),e.attr("height",p.height)}if(s.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),u.set(e.id,i),e.width=p.width,e.height=p.height,e.startLabelLeft){const r=await(0,n.DA)(e.startLabelLeft,y(e.labelStyle)),a=t.insert("g").attr("class","edgeTerminals"),i=a.insert("g").attr("class","inner");c=i.node().appendChild(r);const o=r.getBBox();i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),g.get(e.id)||g.set(e.id,{}),g.get(e.id).startLeft=a,k(c,e.startLabelLeft)}if(e.startLabelRight){const r=await(0,n.DA)(e.startLabelRight,y(e.labelStyle)),a=t.insert("g").attr("class","edgeTerminals"),i=a.insert("g").attr("class","inner");c=a.node().appendChild(r),i.node().appendChild(r);const o=r.getBBox();i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),g.get(e.id)||g.set(e.id,{}),g.get(e.id).startRight=a,k(c,e.startLabelRight)}if(e.endLabelLeft){const r=await(0,n.DA)(e.endLabelLeft,y(e.labelStyle)),a=t.insert("g").attr("class","edgeTerminals"),i=a.insert("g").attr("class","inner");c=i.node().appendChild(r);const o=r.getBBox();i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a.node().appendChild(r),g.get(e.id)||g.set(e.id,{}),g.get(e.id).endLeft=a,k(c,e.endLabelLeft)}if(e.endLabelRight){const r=await(0,n.DA)(e.endLabelRight,y(e.labelStyle)),a=t.insert("g").attr("class","edgeTerminals"),i=a.insert("g").attr("class","inner");c=i.node().appendChild(r);const o=r.getBBox();i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a.node().appendChild(r),g.get(e.id)||g.set(e.id,{}),g.get(e.id).endRight=a,k(c,e.endLabelRight)}return a}),"insertEdgeLabel");function k(t,e){(0,l.D7)().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}(0,l.K2)(k,"setTerminalWidth");var b=(0,l.K2)(((t,e)=>{l.Rm.debug("Moving label abc88 ",t.id,t.label,u.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath;const a=(0,l.D7)(),{subGraphTitleTotalMargin:n}=(0,i.O)(a);if(t.label){const a=u.get(t.id);let i=t.x,o=t.y;if(r){const a=s._K.calcLabelPosition(r);l.Rm.debug("Moving label "+t.label+" from (",i,",",o,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(i=a.x,o=a.y)}a.attr("transform",`translate(${i}, ${o+n/2})`)}if(t.startLabelLeft){const e=g.get(t.id).startLeft;let a=t.x,n=t.y;if(r){const e=s._K.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.startLabelRight){const e=g.get(t.id).startRight;let a=t.x,n=t.y;if(r){const e=s._K.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.endLabelLeft){const e=g.get(t.id).endLeft;let a=t.x,n=t.y;if(r){const e=s._K.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.endLabelRight){const e=g.get(t.id).endRight;let a=t.x,n=t.y;if(r){const e=s._K.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}}),"positionEdgeLabel"),w=(0,l.K2)(((t,e)=>{const r=t.x,a=t.y,n=Math.abs(e.x-r),i=Math.abs(e.y-a),o=t.width/2,s=t.height/2;return n>=o||i>=s}),"outsideNode"),M=(0,l.K2)(((t,e,r)=>{l.Rm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(e)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const a=t.x,n=t.y,i=Math.abs(a-r.x),o=t.width/2;let s=r.x<e.x?o-i:o+i;const d=t.height/2,c=Math.abs(e.y-r.y),p=Math.abs(e.x-r.x);if(Math.abs(n-e.y)*o>Math.abs(a-e.x)*d){let t=r.y<e.y?e.y-d-n:n-d-e.y;s=p*t/c;const a={x:r.x<e.x?r.x+s:r.x-p+s,y:r.y<e.y?r.y+c-t:r.y-c+t};return 0===s&&(a.x=e.x,a.y=e.y),0===p&&(a.x=e.x),0===c&&(a.y=e.y),l.Rm.debug(`abc89 top/bottom calc, Q ${c}, q ${t}, R ${p}, r ${s}`,a),a}{s=r.x<e.x?e.x-o-a:a-o-e.x;let t=c*s/p,n=r.x<e.x?r.x+p-s:r.x-p+s,i=r.y<e.y?r.y+t:r.y-t;return l.Rm.debug(`sides calc abc89, Q ${c}, q ${t}, R ${p}, r ${s}`,{_x:n,_y:i}),0===s&&(n=e.x,i=e.y),0===p&&(n=e.x),0===c&&(i=e.y),{x:n,y:i}}}),"intersection"),L=(0,l.K2)(((t,e)=>{l.Rm.warn("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],n=!1;return t.forEach((t=>{if(l.Rm.info("abc88 checking point",t,e),w(e,t)||n)l.Rm.warn("abc88 outside",t,a),a=t,n||r.push(t);else{const i=M(e,a,t);l.Rm.debug("abc88 inside",t,a,i),l.Rm.debug("abc88 intersection",i,e);let o=!1;r.forEach((t=>{o=o||t.x===i.x&&t.y===i.y})),r.some((t=>t.x===i.x&&t.y===i.y))?l.Rm.warn("abc88 no intersect",i,r):r.push(i),n=!0}})),l.Rm.debug("returning points",r),r}),"cutPathAtIntersect");function _(t){const e=[],r=[];for(let a=1;a<t.length-1;a++){const n=t[a-1],i=t[a],o=t[a+1];(n.x===i.x&&i.y===o.y&&Math.abs(i.x-o.x)>5&&Math.abs(i.y-n.y)>5||n.y===i.y&&i.x===o.x&&Math.abs(i.x-n.x)>5&&Math.abs(i.y-o.y)>5)&&(e.push(i),r.push(a))}return{cornerPoints:e,cornerPointPositions:r}}(0,l.K2)(_,"extractCornerPoints");var v=(0,l.K2)((function(t,e,r){const a=e.x-t.x,n=e.y-t.y,i=r/Math.sqrt(a*a+n*n);return{x:e.x-i*a,y:e.y-i*n}}),"findAdjacentPoint"),$=(0,l.K2)((function(t){const{cornerPointPositions:e}=_(t),r=[];for(let a=0;a<t.length;a++)if(e.includes(a)){const e=t[a-1],n=t[a+1],i=t[a],o=v(e,i,5),s=v(n,i,5),d=s.x-o.x,c=s.y-o.y;r.push(o);const p=2*Math.sqrt(2);let h={x:i.x,y:i.y};if(Math.abs(n.x-e.x)>10&&Math.abs(n.y-e.y)>=10){l.Rm.debug("Corner point fixing",Math.abs(n.x-e.x),Math.abs(n.y-e.y));const t=5;h=i.x===o.x?{x:d<0?o.x-t+p:o.x+t-p,y:c<0?o.y-p:o.y+p}:{x:d<0?o.x-p:o.x+p,y:c<0?o.y-t+p:o.y+t-p}}else l.Rm.debug("Corner point skipping fixing",Math.abs(n.x-e.x),Math.abs(n.y-e.y));r.push(h,s)}else r.push(t[a]);return r}),"fixCorners"),K=(0,l.K2)((function(t,e,r,i,o,s,h){const{handDrawnSeed:f}=(0,l.D7)();let u=e.points,g=!1;const m=o;var y=s;const x=[];for(const a in e.cssCompiledStyles)(0,n.KX)(a)||x.push(e.cssCompiledStyles[a]);y.intersect&&m.intersect&&(u=u.slice(1,e.points.length-1),u.unshift(m.intersect(u[0])),l.Rm.debug("Last point APA12",e.start,"--\x3e",e.end,u[u.length-1],y,y.intersect(u[u.length-1])),u.push(y.intersect(u[u.length-1]))),e.toCluster&&(l.Rm.info("to cluster abc88",r.get(e.toCluster)),u=L(e.points,r.get(e.toCluster).node),g=!0),e.fromCluster&&(l.Rm.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(u,null,2)),u=L(u.reverse(),r.get(e.fromCluster).node).reverse(),g=!0);let k=u.filter((t=>!Number.isNaN(t.y)));k=$(k);let b=d.qrM;switch(b=d.lUB,e.curve){case"linear":b=d.lUB;break;case"basis":default:b=d.qrM;break;case"cardinal":b=d.y8u;break;case"bumpX":b=d.Wi0;break;case"bumpY":b=d.PGM;break;case"catmullRom":b=d.oDi;break;case"monotoneX":b=d.nVG;break;case"monotoneY":b=d.uxU;break;case"natural":b=d.Xf2;break;case"step":b=d.GZz;break;case"stepAfter":b=d.UPb;break;case"stepBefore":b=d.dyv}const{x:w,y:M}=(0,a.R)(e),_=(0,d.n8j)().x(w).y(M).curve(b);let v,K;switch(e.thickness){case"normal":default:v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-invisible"}switch(e.pattern){case"solid":default:v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed"}let S=_(k);const R=Array.isArray(e.style)?e.style:[e.style];let E=R.find((t=>t?.startsWith("stroke:")));if("handDrawn"===e.look){const r=c.A.svg(t);Object.assign([],k);const a=r.path(S,{roughness:.3,seed:f});v+=" transition",K=(0,d.Ltv)(a).select("path").attr("id",e.id).attr("class"," "+v+(e.classes?" "+e.classes:"")).attr("style",R?R.reduce(((t,e)=>t+";"+e),""):"");let n=K.attr("d");K.attr("d",n),t.node().appendChild(K.node())}else{const r=x.join(";"),a=R?R.reduce(((t,e)=>t+e+";"),""):"";let n="";e.animate&&(n=" edge-animation-fast"),e.animation&&(n=" edge-animation-"+e.animation);const i=r?r+";"+a+";":a;K=t.append("path").attr("d",S).attr("id",e.id).attr("class"," "+v+(e.classes?" "+e.classes:"")+(n??"")).attr("style",i),E=i.match(/stroke:([^;]+)/)?.[1]}let C="";((0,l.D7)().flowchart.arrowMarkerAbsolute||(0,l.D7)().state.arrowMarkerAbsolute)&&(C=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,C=C.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),l.Rm.info("arrowTypeStart",e.arrowTypeStart),l.Rm.info("arrowTypeEnd",e.arrowTypeEnd),p(K,e,C,h,i,E);let T={};return g&&(T.updatedPath=u),T.originalPath=e.points,T}),"insertEdge"),S=(0,l.K2)(((t,e,r,a)=>{e.forEach((e=>{R[e](t,r,a)}))}),"insertMarkers"),R={extension:(0,l.K2)(((t,e,r)=>{l.Rm.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")}),"extension"),composition:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"composition"),aggregation:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"aggregation"),dependency:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"dependency"),lollipop:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)}),"lollipop"),point:(0,l.K2)(((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"point"),circle:(0,l.K2)(((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"circle"),cross:(0,l.K2)(((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")}),"cross"),barb:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"barb"),only_one:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")}),"only_one"),zero_or_one:(0,l.K2)(((t,e,r)=>{const a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")}),"zero_or_one"),one_or_more:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")}),"one_or_more"),zero_or_more:(0,l.K2)(((t,e,r)=>{const a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}),"zero_or_more"),requirement_arrow:(0,l.K2)(((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d","M0,0\n      L20,10\n      M20,10\n      L0,20")}),"requirement_arrow"),requirement_contains:(0,l.K2)(((t,e,r)=>{const a=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)}),"requirement_contains")},E=S},55395:(t,e,r)=>{r.d(e,{$C:()=>K,$t:()=>D,C4:()=>N,I5:()=>U,Ib:()=>g,KL:()=>j,Sm:()=>q,Un:()=>B,_K:()=>I,bH:()=>T,dq:()=>X,pe:()=>l,rY:()=>G,ru:()=>W,sM:()=>v,vU:()=>f,yT:()=>R});var a=r(63300),n=r(16750),i=r(35855),o=r(46632),s=r(42837),l="\u200b",d={curveBasis:i.qrM,curveBasisClosed:i.Yu4,curveBasisOpen:i.IA3,curveBumpX:i.Wi0,curveBumpY:i.PGM,curveBundle:i.OEq,curveCardinalClosed:i.olC,curveCardinalOpen:i.IrU,curveCardinal:i.y8u,curveCatmullRomClosed:i.Q7f,curveCatmullRomOpen:i.cVp,curveCatmullRom:i.oDi,curveLinear:i.lUB,curveLinearClosed:i.Lx9,curveMonotoneX:i.nVG,curveMonotoneY:i.uxU,curveNatural:i.Xf2,curveStep:i.GZz,curveStepAfter:i.UPb,curveStepBefore:i.dyv},c=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,p=(0,a.K2)((function(t,e){const r=h(t,/(?:init\b)|(?:initialize\b)/);let n={};if(Array.isArray(r)){const t=r.map((t=>t.args));(0,a.$i)(t),n=(0,a.hH)(n,[...t])}else n=r.args;if(!n)return;let i=(0,a.Ch)(t,e);const o="config";return void 0!==n[o]&&("flowchart-v2"===i&&(i="flowchart"),n[i]=n[o],delete n[o]),n}),"detectInit"),h=(0,a.K2)((function(t,e=null){try{const r=new RegExp(`[%]{2}(?![{]${c.source})(?=[}][%]{2}).*\n`,"ig");let n;t=t.trim().replace(r,"").replace(/'/gm,'"'),a.Rm.debug(`Detecting diagram directive${null!==e?" type:"+e:""} based on the text:${t}`);const i=[];for(;null!==(n=a.DB.exec(t));)if(n.index===a.DB.lastIndex&&a.DB.lastIndex++,n&&!e||e&&n[1]?.match(e)||e&&n[2]?.match(e)){const t=n[1]?n[1]:n[2],e=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:t,args:e})}return 0===i.length?{type:t,args:null}:1===i.length?i[0]:i}catch(r){return a.Rm.error(`ERROR: ${r.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}}),"detectDirective"),f=(0,a.K2)((function(t){return t.replace(a.DB,"")}),"removeDirectives"),u=(0,a.K2)((function(t,e){for(const[r,a]of e.entries())if(a.match(t))return r;return-1}),"isSubstringInArray");function g(t,e){if(!t)return e;const r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return d[r]??e}function m(t,e){const r=t.trim();if(r)return"loose"!==e.securityLevel?(0,n.J)(r):r}(0,a.K2)(g,"interpolateToCurve"),(0,a.K2)(m,"formatUrl");var y=(0,a.K2)(((t,...e)=>{const r=t.split("."),n=r.length-1,i=r[n];let o=window;for(let s=0;s<n;s++)if(o=o[r[s]],!o)return void a.Rm.error(`Function name: ${t} not found in window`);o[i](...e)}),"runFunc");function x(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function k(t){let e,r=0;t.forEach((t=>{r+=x(t,e),e=t}));return M(t,r/2)}function b(t){return 1===t.length?t[0]:k(t)}(0,a.K2)(x,"distance"),(0,a.K2)(k,"traverseEdge"),(0,a.K2)(b,"calcLabelPosition");var w=(0,a.K2)(((t,e=2)=>{const r=Math.pow(10,e);return Math.round(t*r)/r}),"roundNumber"),M=(0,a.K2)(((t,e)=>{let r,a=e;for(const n of t){if(r){const t=x(n,r);if(0===t)return r;if(t<a)a-=t;else{const e=a/t;if(e<=0)return r;if(e>=1)return{x:n.x,y:n.y};if(e>0&&e<1)return{x:w((1-e)*r.x+e*n.x,5),y:w((1-e)*r.y+e*n.y,5)}}}r=n}throw new Error("Could not find a suitable point for the given distance")}),"calculatePoint"),L=(0,a.K2)(((t,e,r)=>{a.Rm.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());const n=M(e,25),i=t?10:5,o=Math.atan2(e[0].y-n.y,e[0].x-n.x),s={x:0,y:0};return s.x=Math.sin(o)*i+(e[0].x+n.x)/2,s.y=-Math.cos(o)*i+(e[0].y+n.y)/2,s}),"calcCardinalityPosition");function _(t,e,r){const n=structuredClone(r);a.Rm.info("our points",n),"start_left"!==e&&"start_right"!==e&&n.reverse();const i=M(n,25+t),o=10+.5*t,s=Math.atan2(n[0].y-i.y,n[0].x-i.x),l={x:0,y:0};return"start_left"===e?(l.x=Math.sin(s+Math.PI)*o+(n[0].x+i.x)/2,l.y=-Math.cos(s+Math.PI)*o+(n[0].y+i.y)/2):"end_right"===e?(l.x=Math.sin(s-Math.PI)*o+(n[0].x+i.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(n[0].y+i.y)/2-5):"end_left"===e?(l.x=Math.sin(s)*o+(n[0].x+i.x)/2-5,l.y=-Math.cos(s)*o+(n[0].y+i.y)/2-5):(l.x=Math.sin(s)*o+(n[0].x+i.x)/2,l.y=-Math.cos(s)*o+(n[0].y+i.y)/2),l}function v(t){let e="",r="";for(const a of t)void 0!==a&&(a.startsWith("color:")||a.startsWith("text-align:")?r=r+a+";":e=e+a+";");return{style:e,labelStyle:r}}(0,a.K2)(_,"calcTerminalLabelPosition"),(0,a.K2)(v,"getStylesFromArray");var $=0,K=(0,a.K2)((()=>($++,"id-"+Math.random().toString(36).substr(2,12)+"-"+$)),"generateId");function S(t){let e="";const r="0123456789abcdef";for(let a=0;a<t;a++)e+=r.charAt(Math.floor(16*Math.random()));return e}(0,a.K2)(S,"makeRandomHex");var R=(0,a.K2)((t=>S(t.length)),"random"),E=(0,a.K2)((function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}}),"getTextObj"),C=(0,a.K2)((function(t,e){const r=e.text.replace(a.Y2.lineBreakRegex," "),[,n]=U(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",n),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),void 0!==e.class&&i.attr("class",e.class);const o=i.append("tspan");return o.attr("x",e.x+2*e.textMargin),o.attr("fill",e.fill),o.text(r),i}),"drawSimpleText"),T=(0,o.A)(((t,e,r)=>{if(!t)return t;if(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),a.Y2.lineBreakRegex.test(t))return t;const n=t.split(" ").filter(Boolean),i=[];let o="";return n.forEach(((t,a)=>{const s=B(`${t} `,r),l=B(o,r);if(s>e){const{hyphenatedStrings:a,remainingWord:n}=O(t,e,"-",r);i.push(o,...a),o=n}else l+s>=e?(i.push(o),o=t):o=[o,t].filter(Boolean).join(" ");a+1===n.length&&i.push(o)})),i.filter((t=>""!==t)).join(r.joinWith)}),((t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`)),O=(0,o.A)(((t,e,r="-",a)=>{a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},a);const n=[...t],i=[];let o="";return n.forEach(((t,s)=>{const l=`${o}${t}`;if(B(l,a)>=e){const t=s+1,e=n.length===t,a=`${l}${r}`;i.push(e?l:a),o=""}else o=l})),{hyphenatedStrings:i,remainingWord:o}}),((t,e,r="-",a)=>`${t}${e}${r}${a.fontSize}${a.fontWeight}${a.fontFamily}`));function W(t,e){return A(t,e).height}function B(t,e){return A(t,e).width}(0,a.K2)(W,"calculateTextHeight"),(0,a.K2)(B,"calculateTextWidth");var P,A=(0,o.A)(((t,e)=>{const{fontSize:r=12,fontFamily:n="Arial",fontWeight:o=400}=e;if(!t)return{width:0,height:0};const[,s]=U(r),d=["sans-serif",n],c=t.split(a.Y2.lineBreakRegex),p=[],h=(0,i.Ltv)("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const f=h.append("svg");for(const a of d){let t=0;const e={width:0,height:0,lineHeight:0};for(const r of c){const n=E();n.text=r||l;const i=C(f,n).style("font-size",s).style("font-weight",o).style("font-family",a),d=(i._groups||i)[0][0].getBBox();if(0===d.width&&0===d.height)throw new Error("svg element not in render tree");e.width=Math.round(Math.max(e.width,d.width)),t=Math.round(d.height),e.height+=t,e.lineHeight=Math.round(Math.max(e.lineHeight,t))}p.push(e)}f.remove();return p[isNaN(p[1].height)||isNaN(p[1].width)||isNaN(p[1].lineHeight)||p[0].height>p[1].height&&p[0].width>p[1].width&&p[0].lineHeight>p[1].lineHeight?0:1]}),((t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`)),H=class{constructor(t=!1,e){this.count=0,this.count=e?e.length:0,this.next=t?()=>this.count++:()=>Date.now()}static{(0,a.K2)(this,"InitIDGenerator")}},Y=(0,a.K2)((function(t){return P=P||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),P.innerHTML=t,unescape(P.textContent)}),"entityDecode");function X(t){return"str"in t}(0,a.K2)(X,"isDetailedError");var z=(0,a.K2)(((t,e,r,a)=>{if(!a)return;const n=t.node()?.getBBox();n&&t.append("text").text(a).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",e)}),"insertTitle"),U=(0,a.K2)((t=>{if("number"==typeof t)return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]}),"parseFontSize");function D(t,e){return(0,s.A)({},t,e)}(0,a.K2)(D,"cleanAndMerge");var I={assignWithDepth:a.hH,wrapLabel:T,calculateTextHeight:W,calculateTextWidth:B,calculateTextDimensions:A,cleanAndMerge:D,detectInit:p,detectDirective:h,isSubstringInArray:u,interpolateToCurve:g,calcLabelPosition:b,calcCardinalityPosition:L,calcTerminalLabelPosition:_,formatUrl:m,getStylesFromArray:v,generateId:K,random:R,runFunc:y,entityDecode:Y,insertTitle:z,parseFontSize:U,InitIDGenerator:H},N=(0,a.K2)((function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})),e=e.replace(/#\w+;/g,(function(t){const e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"\ufb02\xb0\xb0"+e+"\xb6\xdf":"\ufb02\xb0"+e+"\xb6\xdf"})),e}),"encodeEntities"),q=(0,a.K2)((function(t){return t.replace(/\ufb02\xb0\xb0/g,"&#").replace(/\ufb02\xb0/g,"&").replace(/\xb6\xdf/g,";")}),"decodeEntities"),G=(0,a.K2)(((t,e,{counter:r=0,prefix:a,suffix:n},i)=>i||`${a?`${a}_`:""}${t}_${e}_${r}${n?`_${n}`:""}`),"getEdgeId");function j(t){return t??null}(0,a.K2)(j,"handleUndefinedAttr")},72355:(t,e,r)=>{r.d(e,{O:()=>a});var a=(0,r(63300).K2)((({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:e+r}}),"getSubGraphTitleMargins")},76044:(t,e,r)=>{r.d(e,{XX:()=>c,q7:()=>p,sO:()=>d});var a=r(36157),n=r(44007),i=r(55395),o=r(63300),s={common:o.Y2,getConfig:o.zj,insertCluster:n.U,insertEdge:a.Jo,insertEdgeLabel:a.jP,insertMarkers:a.g0,insertNode:n.on,interpolateToCurve:i.Ib,labelHelper:n.Zk,log:o.Rm,positionEdgeLabel:a.T_},l={},d=(0,o.K2)((t=>{for(const e of t)l[e.name]=e}),"registerLayoutLoaders");(0,o.K2)((()=>{d([{name:"dagre",loader:(0,o.K2)((async()=>await Promise.all([r.e(3624),r.e(2334),r.e(7816)]).then(r.bind(r,7816))),"loader")}])}),"registerDefaultLayoutLoaders")();var c=(0,o.K2)((async(t,e)=>{if(!(t.layoutAlgorithm in l))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const r=l[t.layoutAlgorithm];return(await r.loader()).render(t,e,s,{algorithm:r.algorithm})}),"render"),p=(0,o.K2)(((t="",{fallback:e="dagre"}={})=>{if(t in l)return t;if(e in l)return o.Rm.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)}),"getRegisteredLayoutAlgorithm")}}]);