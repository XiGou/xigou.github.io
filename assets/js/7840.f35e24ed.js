"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([[7840],{47840:(t,e,n)=>{n.d(e,{ak:()=>u.ak,mT:()=>Ie,LT:()=>I.LT,jr:()=>Se,T6:()=>Bt,JG:()=>ie.J,wL:()=>u.wL,c$:()=>u.c$,Y2:()=>u.Y2,$P:()=>u.$P,Cy:()=>u.Cy,Pp:()=>u.Pp,BK:()=>u.BK,PW:()=>Oe.P,my:()=>O,jk:()=>q,Sk:()=>I.Sk,G:()=>I.G});var i=n(8058),r=n(38207),s=n(66401),o=n(74722),a=n(48585),c=n(50053),l=n(66786),h=n(79595),u=n(38664);class d{walk(t,e=[]){(0,i.A)(t.definition,((n,i)=>{const r=(0,h.A)(t.definition,i+1);if(n instanceof u.wL)this.walkProdRef(n,r,e);else if(n instanceof u.BK)this.walkTerminal(n,r,e);else if(n instanceof u.EF)this.walkFlat(n,r,e);else if(n instanceof u.c$)this.walkOption(n,r,e);else if(n instanceof u.$P)this.walkAtLeastOne(n,r,e);else if(n instanceof u.Cy)this.walkAtLeastOneSep(n,r,e);else if(n instanceof u.Pp)this.walkManySep(n,r,e);else if(n instanceof u.Y2)this.walkMany(n,r,e);else{if(!(n instanceof u.ak))throw Error("non exhaustive match");this.walkOr(n,r,e)}}))}walkTerminal(t,e,n){}walkProdRef(t,e,n){}walkFlat(t,e,n){const i=e.concat(n);this.walk(t,i)}walkOption(t,e,n){const i=e.concat(n);this.walk(t,i)}walkAtLeastOne(t,e,n){const i=[new u.c$({definition:t.definition})].concat(e,n);this.walk(t,i)}walkAtLeastOneSep(t,e,n){const i=A(t,e,n);this.walk(t,i)}walkMany(t,e,n){const i=[new u.c$({definition:t.definition})].concat(e,n);this.walk(t,i)}walkManySep(t,e,n){const i=A(t,e,n);this.walk(t,i)}walkOr(t,e,n){const r=e.concat(n);(0,i.A)(t.definition,(t=>{const e=new u.EF({definition:[t]});this.walk(e,r)}))}}function A(t,e,n){return[new u.c$({definition:[new u.BK({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}var p=n(41343),f=n(34098);function m(t){if(t instanceof u.wL)return m(t.referencedRule);if(t instanceof u.BK)return[t.terminalType];if((0,u.NC)(t))return function(t){let e=[];const n=t.definition;let i,r=0,s=n.length>r,o=!0;for(;s&&o;)i=n[r],o=(0,u.Q1)(i),e=e.concat(m(i)),r+=1,s=n.length>r;return(0,p.A)(e)}(t);if((0,u.FF)(t))return function(t){const e=(0,o.A)(t.definition,(t=>m(t)));return(0,p.A)((0,f.A)(e))}(t);throw Error("non exhaustive match")}var T=n(38923);const E="_~IN~_";class R extends d{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,e,n){}walkProdRef(t,e,n){const i=(r=t.referencedRule,s=t.idx,r.name+s+E+this.topProd.name);var r,s;const o=e.concat(n),a=m(new u.EF({definition:o}));this.follows[i]=a}}var I=n(91620),N=n(47360),S=n(89463);const O={buildMismatchTokenMessage:({expected:t,actual:e,previous:n,ruleName:i})=>`Expecting ${(0,I.Q)(t)?`--\x3e ${(0,I.Sk)(t)} <--`:`token of type --\x3e ${t.name} <--`} but found --\x3e '${e.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:t,ruleName:e})=>"Redundant input, expecting EOF but found: "+t.image,buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:i,ruleName:r}){const s="Expecting: ",a="\nbut found: '"+(0,N.A)(e).image+"'";if(i)return s+i+a;{const e=(0,S.A)(t,((t,e)=>t.concat(e)),[]),n=(0,o.A)(e,(t=>`[${(0,o.A)(t,(t=>(0,I.Sk)(t))).join(", ")}]`));return s+`one of these possible Token sequences:\n${(0,o.A)(n,((t,e)=>`  ${e+1}. ${t}`)).join("\n")}`+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:i}){const r="Expecting: ",s="\nbut found: '"+(0,N.A)(e).image+"'";if(n)return r+n+s;return r+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${(0,o.A)(t,(t=>`[${(0,o.A)(t,(t=>(0,I.Sk)(t))).join(",")}]`)).join(" ,")}>`+s}};Object.freeze(O);const L={buildRuleNotFoundError:(t,e)=>"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"},g={buildDuplicateFoundError(t,e){const n=t.name,i=(0,N.A)(e),r=i.idx,s=(0,u.a4)(i),o=(a=i)instanceof u.BK?a.terminalType.name:a instanceof u.wL?a.nonTerminalName:"";var a;let c=`->${s}${r>0?r:""}<- ${o?`with argument: ->${o}<-`:""}\n                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:t=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(t){const e=(0,o.A)(t.prefixPath,(t=>(0,I.Sk)(t))).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${t.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(t){const e=(0,o.A)(t.prefixPath,(t=>(0,I.Sk)(t))).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;let i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\n`;return i+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",i},buildEmptyRepetitionError(t){let e=(0,u.a4)(t.repetition);0!==t.repetition.idx&&(e+=t.repetition.idx);return`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:t=>"deprecated",buildEmptyAlternationError:t=>`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:t=>`An Alternation cannot have more than 256 alternatives:\n<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.\n has ${t.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(t){const e=t.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${e}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${e} --\x3e ${(0,o.A)(t.leftRecursionPath,(t=>t.name)).concat([e]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:t=>"deprecated",buildDuplicateRuleNameError(t){let e;e=t.topLevelRule instanceof u.jO?t.topLevelRule.name:t.topLevelRule;return`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};var k=n(23068);class y extends u.C_{constructor(t,e){super(),this.nameToTopRule=t,this.errMsgProvider=e,this.errors=[]}resolveRefs(){(0,i.A)((0,r.A)(this.nameToTopRule),(t=>{this.currTopLevel=t,t.accept(this)}))}visitNonTerminal(t){const e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{const e=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:e,type:Ee.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}var _=n(18139),P=n(24739),v=n(41470),x=n(42531),C=n(17089),M=n(68993),w=n(81254),F=n(39241),b=n(94092),U=n(98817),D=n(26666);class K extends d{constructor(t,e){super(),this.topProd=t,this.path=e,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,c.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,c.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,e=[]){this.found||super.walk(t,e)}walkProdRef(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const i=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){(0,s.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class $ extends K{constructor(t,e){super(t,e),this.path=e,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,e,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const t=e.concat(n),i=new u.EF({definition:t});this.possibleTokTypes=m(i),this.found=!0}}}class B extends d{constructor(t,e){super(),this.topRule=t,this.occurrence=e,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class G extends B{walkMany(t,e,n){if(t.idx===this.occurrence){const t=(0,N.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof u.BK&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkMany(t,e,n)}}class V extends B{walkManySep(t,e,n){if(t.idx===this.occurrence){const t=(0,N.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof u.BK&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkManySep(t,e,n)}}class Y extends B{walkAtLeastOne(t,e,n){if(t.idx===this.occurrence){const t=(0,N.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof u.BK&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkAtLeastOne(t,e,n)}}class W extends B{walkAtLeastOneSep(t,e,n){if(t.idx===this.occurrence){const t=(0,N.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof u.BK&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkAtLeastOneSep(t,e,n)}}function H(t,e,n=[]){n=(0,c.A)(n);let r=[],o=0;function a(i){const s=H(i.concat((0,h.A)(t,o+1)),e,n);return r.concat(s)}for(;n.length<e&&o<t.length;){const e=t[o];if(e instanceof u.EF)return a(e.definition);if(e instanceof u.wL)return a(e.definition);if(e instanceof u.c$)r=a(e.definition);else{if(e instanceof u.$P){return a(e.definition.concat([new u.Y2({definition:e.definition})]))}if(e instanceof u.Cy){return a([new u.EF({definition:e.definition}),new u.Y2({definition:[new u.BK({terminalType:e.separator})].concat(e.definition)})])}if(e instanceof u.Pp){const t=e.definition.concat([new u.Y2({definition:[new u.BK({terminalType:e.separator})].concat(e.definition)})]);r=a(t)}else if(e instanceof u.Y2){const t=e.definition.concat([new u.Y2({definition:e.definition})]);r=a(t)}else{if(e instanceof u.ak)return(0,i.A)(e.definition,(t=>{!1===(0,s.A)(t.definition)&&(r=a(t.definition))})),r;if(!(e instanceof u.BK))throw Error("non exhaustive match");n.push(e.terminalType)}}o++}return r.push({partialPath:n,suffixDef:(0,h.A)(t,o)}),r}function j(t,e,n,i){const r="EXIT_NONE_TERMINAL",o=[r],a="EXIT_ALTERNATIVE";let l=!1;const d=e.length,A=d-i-1,p=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!(0,s.A)(f);){const t=f.pop();if(t===a){l&&(0,D.A)(f).idx<=A&&f.pop();continue}const i=t.def,m=t.idx,T=t.ruleStack,E=t.occurrenceStack;if((0,s.A)(i))continue;const R=i[0];if(R===r){const t={idx:m,def:(0,h.A)(i),ruleStack:(0,M.A)(T),occurrenceStack:(0,M.A)(E)};f.push(t)}else if(R instanceof u.BK)if(m<d-1){const t=m+1;if(n(e[t],R.terminalType)){const e={idx:t,def:(0,h.A)(i),ruleStack:T,occurrenceStack:E};f.push(e)}}else{if(m!==d-1)throw Error("non exhaustive match");p.push({nextTokenType:R.terminalType,nextTokenOccurrence:R.idx,ruleStack:T,occurrenceStack:E}),l=!0}else if(R instanceof u.wL){const t=(0,c.A)(T);t.push(R.nonTerminalName);const e=(0,c.A)(E);e.push(R.idx);const n={idx:m,def:R.definition.concat(o,(0,h.A)(i)),ruleStack:t,occurrenceStack:e};f.push(n)}else if(R instanceof u.c$){const t={idx:m,def:(0,h.A)(i),ruleStack:T,occurrenceStack:E};f.push(t),f.push(a);const e={idx:m,def:R.definition.concat((0,h.A)(i)),ruleStack:T,occurrenceStack:E};f.push(e)}else if(R instanceof u.$P){const t=new u.Y2({definition:R.definition,idx:R.idx}),e={idx:m,def:R.definition.concat([t],(0,h.A)(i)),ruleStack:T,occurrenceStack:E};f.push(e)}else if(R instanceof u.Cy){const t=new u.BK({terminalType:R.separator}),e=new u.Y2({definition:[t].concat(R.definition),idx:R.idx}),n={idx:m,def:R.definition.concat([e],(0,h.A)(i)),ruleStack:T,occurrenceStack:E};f.push(n)}else if(R instanceof u.Pp){const t={idx:m,def:(0,h.A)(i),ruleStack:T,occurrenceStack:E};f.push(t),f.push(a);const e=new u.BK({terminalType:R.separator}),n=new u.Y2({definition:[e].concat(R.definition),idx:R.idx}),r={idx:m,def:R.definition.concat([n],(0,h.A)(i)),ruleStack:T,occurrenceStack:E};f.push(r)}else if(R instanceof u.Y2){const t={idx:m,def:(0,h.A)(i),ruleStack:T,occurrenceStack:E};f.push(t),f.push(a);const e=new u.Y2({definition:R.definition,idx:R.idx}),n={idx:m,def:R.definition.concat([e],(0,h.A)(i)),ruleStack:T,occurrenceStack:E};f.push(n)}else if(R instanceof u.ak)for(let e=R.definition.length-1;e>=0;e--){const t={idx:m,def:R.definition[e].definition.concat((0,h.A)(i)),ruleStack:T,occurrenceStack:E};f.push(t),f.push(a)}else if(R instanceof u.EF)f.push({idx:m,def:R.definition.concat((0,h.A)(i)),ruleStack:T,occurrenceStack:E});else{if(!(R instanceof u.jO))throw Error("non exhaustive match");f.push(z(R,m,T,E))}}return p}function z(t,e,n,i){const r=(0,c.A)(n);r.push(t.name);const s=(0,c.A)(i);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}var X,J=n(73590);function Q(t){if(t instanceof u.c$||"Option"===t)return X.OPTION;if(t instanceof u.Y2||"Repetition"===t)return X.REPETITION;if(t instanceof u.$P||"RepetitionMandatory"===t)return X.REPETITION_MANDATORY;if(t instanceof u.Cy||"RepetitionMandatoryWithSeparator"===t)return X.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof u.Pp||"RepetitionWithSeparator"===t)return X.REPETITION_WITH_SEPARATOR;if(t instanceof u.ak||"Alternation"===t)return X.ALTERNATION;throw Error("non exhaustive match")}function q(t){const{occurrence:e,rule:n,prodType:i,maxLookahead:r}=t,s=Q(i);return s===X.ALTERNATION?at(e,n,r):ct(e,n,s,r)}function Z(t,e,n,r){const s=t.length,c=(0,U.A)(t,(t=>(0,U.A)(t,(t=>1===t.length))));if(e)return function(e){const i=(0,o.A)(e,(t=>t.GATE));for(let r=0;r<s;r++){const e=t[r],s=e.length,o=i[r];if(void 0===o||!1!==o.call(this))t:for(let t=0;t<s;t++){const i=e[t],s=i.length;for(let t=0;t<s;t++){const e=this.LA(t+1);if(!1===n(e,i[t]))continue t}return r}}};if(c&&!r){const e=(0,o.A)(t,(t=>(0,f.A)(t))),n=(0,S.A)(e,((t,e,n)=>((0,i.A)(e,(e=>{(0,a.A)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),(0,i.A)(e.categoryMatches,(e=>{(0,a.A)(t,e)||(t[e]=n)}))})),t)),{});return function(){const t=this.LA(1);return n[t.tokenTypeIdx]}}return function(){for(let e=0;e<s;e++){const i=t[e],r=i.length;t:for(let t=0;t<r;t++){const r=i[t],s=r.length;for(let t=0;t<s;t++){const e=this.LA(t+1);if(!1===n(e,r[t]))continue t}return e}}}}function tt(t,e,n){const r=(0,U.A)(t,(t=>1===t.length)),o=t.length;if(r&&!n){const e=(0,f.A)(t);if(1===e.length&&(0,s.A)(e[0].categoryMatches)){const t=e[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===t}}{const t=(0,S.A)(e,((t,e,n)=>(t[e.tokenTypeIdx]=!0,(0,i.A)(e.categoryMatches,(e=>{t[e]=!0})),t)),[]);return function(){const e=this.LA(1);return!0===t[e.tokenTypeIdx]}}}return function(){t:for(let n=0;n<o;n++){const i=t[n],r=i.length;for(let t=0;t<r;t++){const n=this.LA(t+1);if(!1===e(n,i[t]))continue t}return!0}return!1}}!function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(X||(X={}));class et extends d{constructor(t,e,n){super(),this.topProd=t,this.targetOccurrence=e,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,e,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(i),!0)}walkOption(t,e,n){this.checkIsTarget(t,X.OPTION,e,n)||super.walkOption(t,e,n)}walkAtLeastOne(t,e,n){this.checkIsTarget(t,X.REPETITION_MANDATORY,e,n)||super.walkOption(t,e,n)}walkAtLeastOneSep(t,e,n){this.checkIsTarget(t,X.REPETITION_MANDATORY_WITH_SEPARATOR,e,n)||super.walkOption(t,e,n)}walkMany(t,e,n){this.checkIsTarget(t,X.REPETITION,e,n)||super.walkOption(t,e,n)}walkManySep(t,e,n){this.checkIsTarget(t,X.REPETITION_WITH_SEPARATOR,e,n)||super.walkOption(t,e,n)}}class nt extends u.C_{constructor(t,e,n){super(),this.targetOccurrence=t,this.targetProdType=e,this.targetRef=n,this.result=[]}checkIsTarget(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,X.OPTION)}visitRepetition(t){this.checkIsTarget(t,X.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,X.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,X.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,X.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,X.ALTERNATION)}}function it(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function rt(t){let e=[""];for(let n=0;n<t.length;n++){const i=t[n],r=[];for(let t=0;t<e.length;t++){const n=e[t];r.push(n+"_"+i.tokenTypeIdx);for(let t=0;t<i.categoryMatches.length;t++){const e="_"+i.categoryMatches[t];r.push(n+e)}}e=r}return e}function st(t,e,n){for(let i=0;i<t.length;i++){if(i===n)continue;const r=t[i];for(let t=0;t<e.length;t++){if(!0===r[e[t]])return!1}}return!0}function ot(t,e){const n=(0,o.A)(t,(t=>H([t],1))),r=it(n.length),a=(0,o.A)(n,(t=>{const e={};return(0,i.A)(t,(t=>{const n=rt(t.partialPath);(0,i.A)(n,(t=>{e[t]=!0}))})),e}));let c=n;for(let o=1;o<=e;o++){const t=c;c=it(t.length);for(let n=0;n<t.length;n++){const l=t[n];for(let t=0;t<l.length;t++){const h=l[t].partialPath,u=l[t].suffixDef,d=rt(h);if(st(a,d,n)||(0,s.A)(u)||h.length===e){const t=r[n];if(!1===lt(t,h)){t.push(h);for(let t=0;t<d.length;t++){const e=d[t];a[n][e]=!0}}}else{const t=H(u,o+1,h);c[n]=c[n].concat(t),(0,i.A)(t,(t=>{const e=rt(t.partialPath);(0,i.A)(e,(t=>{a[n][t]=!0}))}))}}}}return r}function at(t,e,n,i){const r=new nt(t,X.ALTERNATION,i);return e.accept(r),ot(r.result,n)}function ct(t,e,n,i){const r=new nt(t,n);e.accept(r);const s=r.result,o=new et(e,t,n).startWalking();return ot([new u.EF({definition:s}),new u.EF({definition:o})],i)}function lt(t,e){t:for(let n=0;n<t.length;n++){const i=t[n];if(i.length===e.length){for(let t=0;t<i.length;t++){const n=e[t],r=i[t];if(!1===(n===r||void 0!==r.categoryMatchesMap[n.tokenTypeIdx]))continue t}return!0}}return!1}function ht(t){return(0,U.A)(t,(t=>(0,U.A)(t,(t=>(0,U.A)(t,(t=>(0,s.A)(t.categoryMatches)))))))}function ut(t,e,n,s){const a=(0,_.A)(t,(t=>function(t,e){const n=new pt;t.accept(n);const i=n.allProductions,s=(0,P.A)(i,dt),a=(0,v.A)(s,(t=>t.length>1)),c=(0,o.A)((0,r.A)(a),(n=>{const i=(0,N.A)(n),r=e.buildDuplicateFoundError(t,n),s=(0,u.a4)(i),o={message:r,type:Ee.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:s,occurrence:i.idx},a=At(i);return a&&(o.parameter=a),o}));return c}(t,n))),c=function(t,e,n){const r=[],s=(0,o.A)(e,(t=>t.name));return(0,i.A)(t,(t=>{const e=t.name;if((0,x.A)(s,e)){const i=n.buildNamespaceConflictError(t);r.push({message:i,type:Ee.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),r}(t,e,n),l=(0,_.A)(t,(t=>function(t,e){const n=new Tt;t.accept(n);const i=n.alternations,r=(0,_.A)(i,(n=>n.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:n}),type:Ee.TOO_MANY_ALTS,ruleName:t.name,occurrence:n.idx}]:[]));return r}(t,n))),h=(0,_.A)(t,(e=>function(t,e,n,i){const r=[],s=(0,S.A)(e,((e,n)=>n.name===t.name?e+1:e),0);if(s>1){const e=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});r.push({message:e,type:Ee.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}(e,t,s,n)));return a.concat(c,l,h)}function dt(t){return`${(0,u.a4)(t)}_#_${t.idx}_#_${At(t)}`}function At(t){return t instanceof u.BK?t.terminalType.name:t instanceof u.wL?t.nonTerminalName:""}class pt extends u.C_{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function ft(t,e,n,i=[]){const r=[],o=mt(e.definition);if((0,s.A)(o))return[];{const e=t.name;(0,x.A)(o,t)&&r.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:Ee.LEFT_RECURSION,ruleName:e});const s=(0,C.A)(o,i.concat([t])),a=(0,_.A)(s,(e=>{const r=(0,c.A)(i);return r.push(e),ft(t,e,n,r)}));return r.concat(a)}}function mt(t){let e=[];if((0,s.A)(t))return e;const n=(0,N.A)(t);if(n instanceof u.wL)e.push(n.referencedRule);else if(n instanceof u.EF||n instanceof u.c$||n instanceof u.$P||n instanceof u.Cy||n instanceof u.Pp||n instanceof u.Y2)e=e.concat(mt(n.definition));else if(n instanceof u.ak)e=(0,f.A)((0,o.A)(n.definition,(t=>mt(t.definition))));else if(!(n instanceof u.BK))throw Error("non exhaustive match");const i=(0,u.Q1)(n),r=t.length>1;if(i&&r){const n=(0,h.A)(t);return e.concat(mt(n))}return e}class Tt extends u.C_{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function Et(t,e,n){const r=new Tt;t.accept(r);let s=r.alternations;s=(0,w.A)(s,(t=>!0===t.ignoreAmbiguities));const a=(0,_.A)(s,(r=>{const s=r.idx,a=r.maxLookahead||e,c=at(s,t,a,r),l=function(t,e,n,r){const s=[],a=(0,S.A)(t,((n,r,o)=>(!0===e.definition[o].ignoreAmbiguities||(0,i.A)(r,(r=>{const a=[o];(0,i.A)(t,((t,n)=>{o!==n&&lt(t,r)&&!0!==e.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!lt(s,r)&&(s.push(r),n.push({alts:a,path:r}))})),n)),[]),c=(0,o.A)(a,(t=>{const i=(0,o.A)(t.alts,(t=>t+1));return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path}),type:Ee.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:t.alts}}));return c}(c,r,t,n),h=function(t,e,n,i){const r=(0,S.A)(t,((t,e,n)=>{const i=(0,o.A)(e,(t=>({idx:n,path:t})));return t.concat(i)}),[]),s=(0,F.A)((0,_.A)(r,(t=>{if(!0===e.definition[t.idx].ignoreAmbiguities)return[];const s=t.idx,a=t.path,c=(0,b.A)(r,(t=>{return!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<s&&(n=t.path,i=a,n.length<i.length&&(0,U.A)(n,((t,e)=>{const n=i[e];return t===n||n.categoryMatchesMap[t.tokenTypeIdx]})));var n,i}));return(0,o.A)(c,(t=>{const r=[t.idx+1,s+1],o=0===e.idx?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:r,prefixPath:t.path}),type:Ee.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:r}}))})));return s}(c,r,t,n);return l.concat(h)}));return a}class Rt extends u.C_{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function It(t){const e=(0,k.A)(t,{errMsgProvider:L}),n={};return(0,i.A)(t.rules,(t=>{n[t.name]=t})),function(t,e){const n=new y(t,e);return n.resolveRefs(),n.errors}(n,e.errMsgProvider)}var Nt=n(16145);const St="MismatchedTokenException",Ot="NoViableAltException",Lt="EarlyExitException",gt="NotAllInputParsedException",kt=[St,Ot,Lt,gt];function yt(t){return(0,x.A)(kt,t.name)}Object.freeze(kt);class _t extends Error{constructor(t,e){super(t),this.token=e,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Pt extends _t{constructor(t,e,n){super(t,e),this.previousToken=n,this.name=St}}class vt extends _t{constructor(t,e,n){super(t,e),this.previousToken=n,this.name=Ot}}class xt extends _t{constructor(t,e){super(t,e),this.name=gt}}class Ct extends _t{constructor(t,e,n){super(t,e),this.previousToken=n,this.name=Lt}}const Mt={},wt="InRuleRecoveryException";class Ft extends Error{constructor(t){super(t),this.name=wt}}function bt(t,e,n,i,r,s,o){const a=this.getKeyForAutomaticLookahead(i,r);let c=this.firstAfterRepMap[a];if(void 0===c){const t=this.getCurrRuleFullName();c=new s(this.getGAstProductions()[t],r).startWalking(),this.firstAfterRepMap[a]=c}let l=c.token,h=c.occurrence;const u=c.isEndOfRule;1===this.RULE_STACK.length&&u&&void 0===l&&(l=I.LT,h=1),void 0!==l&&void 0!==h&&this.shouldInRepetitionRecoveryBeTried(l,h,o)&&this.tryInRepetitionRecovery(t,e,n,l)}const Ut=1024,Dt=1280,Kt=1536;function $t(t,e,n){return n|e|t}class Bt{constructor(t){var e;this.maxLookahead=null!==(e=null==t?void 0:t.maxLookahead)&&void 0!==e?e:me.maxLookahead}validate(t){const e=this.validateNoLeftRecursion(t.rules);if((0,s.A)(e)){const n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),r=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...e,...n,...i,...r]}return e}validateNoLeftRecursion(t){return(0,_.A)(t,(t=>ft(t,t,g)))}validateEmptyOrAlternatives(t){return(0,_.A)(t,(t=>function(t,e){const n=new Tt;t.accept(n);const i=n.alternations;return(0,_.A)(i,(n=>{const i=(0,M.A)(n.definition);return(0,_.A)(i,((i,r)=>{const o=j([i],[],J.xU,1);return(0,s.A)(o)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:n,emptyChoiceIdx:r}),type:Ee.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:n.idx,alternative:r+1}]:[]}))}))}(t,g)))}validateAmbiguousAlternationAlternatives(t,e){return(0,_.A)(t,(t=>Et(t,e,g)))}validateSomeNonEmptyLookaheadPath(t,e){return function(t,e,n){const r=[];return(0,i.A)(t,(t=>{const o=new Rt;t.accept(o);const a=o.allProductions;(0,i.A)(a,(i=>{const o=Q(i),a=i.maxLookahead||e,c=ct(i.idx,t,o,a)[0];if((0,s.A)((0,f.A)(c))){const e=n.buildEmptyRepetitionError({topLevelRule:t,repetition:i});r.push({message:e,type:Ee.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),r}(t,e,g)}buildLookaheadForAlternation(t){return function(t,e,n,i,r,s){const o=at(t,e,n);return s(o,i,ht(o)?J.yJ:J.xU,r)}(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Z)}buildLookaheadForOptional(t){return function(t,e,n,i,r,s){const o=ct(t,e,r,n),a=ht(o)?J.yJ:J.xU;return s(o[0],a,i)}(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,Q(t.prodType),tt)}}class Gt extends u.C_{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const Vt=new Gt;function Yt(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset)}function Wt(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset==!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}var Ht=n(42302),jt=n(69592),zt=n(27422),Xt=n(92049),Jt=n(89610);function Qt(t,e){Object.defineProperty(t,"name",{enumerable:!1,configurable:!0,writable:!1,value:e})}function qt(t,e){const n=(0,zt.A)(t),i=n.length;for(let r=0;r<i;r++){const i=t[n[r]],s=i.length;for(let t=0;t<s;t++){const n=i[t];void 0===n.tokenTypeIdx&&this[n.name](n.children,e)}}}function Zt(t,e){const n=function(){};Qt(n,t+"BaseSemantics");const i={visit:function(t,e){if((0,Xt.A)(t)&&(t=t[0]),!(0,jt.A)(t))return this[t.name](t.children,e)},validateVisitor:function(){const t=function(t,e){const n=function(t,e){const n=(0,b.A)(e,(e=>!1===(0,Jt.A)(t[e]))),i=(0,o.A)(n,(e=>({msg:`Missing visitor method: <${e}> on ${t.constructor.name} CST Visitor.`,type:te.MISSING_METHOD,methodName:e})));return(0,F.A)(i)}(t,e);return n}(this,e);if(!(0,s.A)(t)){const e=(0,o.A)(t,(t=>t.msg));throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${e.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(n.prototype=i).constructor=n,n._RULE_NAMES=e,n}var te;!function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(te||(te={}));var ee=n(23149);var ne=n(52582),ie=n(6495);const re={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(re);const se=!0,oe=Math.pow(2,8)-1,ae=(0,I.Ey)({name:"RECORDING_PHASE_TOKEN",pattern:ie.J.NA});(0,J.SF)([ae]);const ce=(0,I.fx)(ae,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(ce);const le={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function he(t,e,n,i=!1){Ae(n);const r=(0,D.A)(this.recordingProdStack),s=(0,Jt.A)(e)?e:e.DEF,o=new t({definition:[],idx:n});return i&&(o.separator=e.SEP),(0,a.A)(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),re}function ue(t,e){Ae(e);const n=(0,D.A)(this.recordingProdStack),r=!1===(0,Xt.A)(t),s=!1===r?t:t.DEF,o=new u.ak({definition:[],idx:e,ignoreAmbiguities:r&&!0===t.IGNORE_AMBIGUITIES});(0,a.A)(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD);const c=(0,ne.A)(s,(t=>(0,Jt.A)(t.GATE)));return o.hasPredicates=c,n.definition.push(o),(0,i.A)(s,(t=>{const e=new u.EF({definition:[]});o.definition.push(e),(0,a.A)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:(0,a.A)(t,"GATE")&&(e.ignoreAmbiguities=!0),this.recordingProdStack.push(e),t.ALT.call(this),this.recordingProdStack.pop()})),re}function de(t){return 0===t?"":`${t}`}function Ae(t){if(t<0||t>oe){const e=new Error(`Invalid DSL Method idx value: <${t}>\n\tIdx value must be a none negative value smaller than ${oe+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}var pe=n(10009);const fe=(0,I.fx)(I.LT,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(fe);const me=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:O,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Te=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Ee,Re;function Ie(t=void 0){return function(){return t}}!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Ee||(Ee={}));class Ne{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{let t;this.selfAnalysisDone=!0;const e=this.className;this.TRACE_INIT("toFastProps",(()=>{(0,l.B)(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),(0,i.A)(this.definedRulesNames,(t=>{const e=this[t].originalGrammarAction;let n;this.TRACE_INIT(`${t} Rule`,(()=>{n=this.topLevelRuleRecord(t,e)})),this.gastProductionsCache[t]=n}))}finally{this.disableRecording()}}));let n=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{n=It({rules:(0,r.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)})),this.TRACE_INIT("Grammar Validations",(()=>{if((0,s.A)(n)&&!1===this.skipValidations){const n=(t={rules:(0,r.A)(this.gastProductionsCache),tokenTypes:(0,r.A)(this.tokensMap),errMsgProvider:g,grammarName:e},ut((t=(0,k.A)(t,{errMsgProvider:g})).rules,t.tokenTypes,t.errMsgProvider,t.grammarName)),i=function(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return(0,o.A)(e,(t=>Object.assign({type:Ee.CUSTOM_LOOKAHEAD_VALIDATION},t)))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,r.A)(this.gastProductionsCache),tokenTypes:(0,r.A)(this.tokensMap),grammarName:e});this.definitionErrors=this.definitionErrors.concat(n,i)}var t})),(0,s.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{const t=function(t){const e={};return(0,i.A)(t,(t=>{const n=new R(t).startWalking();(0,T.A)(e,n)})),e}((0,r.A)(this.gastProductionsCache));this.resyncFollows=t})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var t,e;null===(e=(t=this.lookaheadStrategy).initialize)||void 0===e||e.call(t,{rules:(0,r.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,r.A)(this.gastProductionsCache))}))),!Ne.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,s.A)(this.definitionErrors))throw t=(0,o.A)(this.definitionErrors,(t=>t.message)),new Error(`Parser Definition Errors detected:\n ${t.join("\n-------------------------------\n")}`)}))}constructor(t,e){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(e),n.initLexerAdapter(),n.initLooksAhead(e),n.initRecognizerEngine(t,e),n.initRecoverable(e),n.initTreeBuilder(e),n.initContentAssist(),n.initGastRecorder(e),n.initPerformanceTracer(e),(0,a.A)(e,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,a.A)(e,"skipValidations")?e.skipValidations:me.skipValidations}}Ne.DEFER_DEFINITION_ERRORS_HANDLING=!1,Re=Ne,[class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,a.A)(t,"recoveryEnabled")?t.recoveryEnabled:me.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=bt)}getTokenToInsert(t){const e=(0,I.fx)(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,e,n,i){const r=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let a=!1;const c=this.LA(1);let l=this.LA(1);const h=()=>{const t=this.LA(0),e=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:t,ruleName:this.getCurrRuleFullName()}),n=new Pt(e,c,this.LA(0));n.resyncedTokens=(0,M.A)(o),this.SAVE_ERROR(n)};for(;!a;){if(this.tokenMatcher(l,i))return void h();if(n.call(this))return h(),void t.apply(this,e);this.tokenMatcher(l,r)?a=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o))}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,e,n){return!1!==n&&!this.tokenMatcher(this.LA(1),t)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e))}getFollowsForInRuleRecovery(t,e){const n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const t=this.SKIP_TOKEN();return this.consumeToken(),t}throw new Ft("sad sad panda")}canPerformInRuleRecovery(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,e){if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if((0,s.A)(e))return!1;const n=this.LA(1);return void 0!==(0,Nt.A)(e,(t=>this.tokenMatcher(n,t)))}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return(0,x.A)(n,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let e=this.LA(1),n=2;for(;;){const i=(0,Nt.A)(t,(t=>(0,I.G)(e,t)));if(void 0!==i)return i;e=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return Mt;const t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,e=this.RULE_OCCURRENCE_STACK;return(0,o.A)(t,((n,i)=>0===i?Mt:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:e[i],inRule:this.shortRuleNameToFullName(t[i-1])}))}flattenFollowSet(){const t=(0,o.A)(this.buildFullFollowKeyStack(),(t=>this.getFollowSetFromFollowKey(t)));return(0,f.A)(t)}getFollowSetFromFollowKey(t){if(t===Mt)return[I.LT];const e=t.ruleName+t.idxInCallingRule+E+t.inRule;return this.resyncFollows[e]}addToResyncTokens(t,e){return this.tokenMatcher(t,I.LT)||e.push(t),e}reSyncTo(t){const e=[];let n=this.LA(1);for(;!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return(0,M.A)(e)}attemptInRepetitionRecovery(t,e,n,i,r,s,o){}getCurrentGrammarPath(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,c.A)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}}getHumanReadableRuleStack(){return(0,o.A)(this.RULE_STACK,(t=>this.shortRuleNameToFullName(t)))}},class{initLooksAhead(t){this.dynamicTokensEnabled=(0,a.A)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:me.dynamicTokensEnabled,this.maxLookahead=(0,a.A)(t,"maxLookahead")?t.maxLookahead:me.maxLookahead,this.lookaheadStrategy=(0,a.A)(t,"lookaheadStrategy")?t.lookaheadStrategy:new Bt({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){(0,i.A)(t,(t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,(()=>{const{alternation:e,repetition:n,option:r,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:a}=function(t){Vt.reset(),t.accept(Vt);const e=Vt.dslMethods;return Vt.reset(),e}(t);(0,i.A)(e,(e=>{const n=0===e.idx?"":e.idx;this.TRACE_INIT(`${(0,u.a4)(e)}${n}`,(()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:e.idx,rule:t,maxLookahead:e.maxLookahead||this.maxLookahead,hasPredicates:e.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),i=$t(this.fullRuleNameToShort[t.name],256,e.idx);this.setLaFuncCache(i,n)}))})),(0,i.A)(n,(e=>{this.computeLookaheadFunc(t,e.idx,768,"Repetition",e.maxLookahead,(0,u.a4)(e))})),(0,i.A)(r,(e=>{this.computeLookaheadFunc(t,e.idx,512,"Option",e.maxLookahead,(0,u.a4)(e))})),(0,i.A)(s,(e=>{this.computeLookaheadFunc(t,e.idx,Ut,"RepetitionMandatory",e.maxLookahead,(0,u.a4)(e))})),(0,i.A)(o,(e=>{this.computeLookaheadFunc(t,e.idx,Kt,"RepetitionMandatoryWithSeparator",e.maxLookahead,(0,u.a4)(e))})),(0,i.A)(a,(e=>{this.computeLookaheadFunc(t,e.idx,Dt,"RepetitionWithSeparator",e.maxLookahead,(0,u.a4)(e))}))}))}))}computeLookaheadFunc(t,e,n,i,r,s){this.TRACE_INIT(`${s}${0===e?"":e}`,(()=>{const s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:e,rule:t,maxLookahead:r||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),o=$t(this.fullRuleNameToShort[t.name],n,e);this.setLaFuncCache(o,s)}))}getKeyForAutomaticLookahead(t,e){return $t(this.getLastExplicitRuleShortName(),t,e)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,e){this.lookAheadFuncsCache.set(t,e)}},class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,a.A)(t,"nodeLocationTracking")?t.nodeLocationTracking:me.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Wt,this.setNodeLocationFromNode=Wt,this.cstPostRule=Ht.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ht.A,this.setNodeLocationFromNode=Ht.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Yt,this.setNodeLocationFromNode=Yt,this.cstPostRule=Ht.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ht.A,this.setNodeLocationFromNode=Ht.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=Ht.A,this.setNodeLocationFromNode=Ht.A,this.cstPostRule=Ht.A,this.setInitialNodeLocation=Ht.A}else this.cstInvocationStateUpdate=Ht.A,this.cstFinallyStateUpdate=Ht.A,this.cstPostTerminal=Ht.A,this.cstPostNonTerminal=Ht.A,this.cstPostRule=Ht.A}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const e={name:t,children:Object.create(null)};this.setInitialNodeLocation(e),this.CST_STACK.push(e)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==1?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==1?n.endOffset=e.endOffset:n.startOffset=NaN}cstPostTerminal(t,e){const n=this.CST_STACK[this.CST_STACK.length-1];var i,r,s;r=e,s=t,void 0===(i=n).children[s]?i.children[s]=[r]:i.children[s].push(r),this.setNodeLocationFromToken(n.location,e)}cstPostNonTerminal(t,e){const n=this.CST_STACK[this.CST_STACK.length-1];!function(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}(n,e,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if((0,jt.A)(this.baseCstVisitorConstructor)){const t=Zt(this.className,(0,zt.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,jt.A)(this.baseCstVisitorWithDefaultsConstructor)){const t=function(t,e,n){const r=function(){};Qt(r,t+"BaseSemanticsWithDefaults");const s=Object.create(n.prototype);return(0,i.A)(e,(t=>{s[t]=qt})),(r.prototype=s).constructor=r,r}(this.className,(0,zt.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):fe}LA(t){const e=this.currIdx+t;return e<0||this.tokVectorLength<=e?fe:this.tokVector[e]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(t,e){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=J.yJ,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,a.A)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,Xt.A)(t)){if((0,s.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,Xt.A)(t))this.tokensMap=(0,S.A)(t,((t,e)=>(t[e.name]=e,t)),{});else if((0,a.A)(t,"modes")&&(0,U.A)((0,f.A)((0,r.A)(t.modes)),J.E8)){const e=(0,f.A)((0,r.A)(t.modes)),n=(0,p.A)(e);this.tokensMap=(0,S.A)(n,((t,e)=>(t[e.name]=e,t)),{})}else{if(!(0,ee.A)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,c.A)(t)}this.tokensMap.EOF=I.LT;const n=(0,a.A)(t,"modes")?(0,f.A)((0,r.A)(t.modes)):(0,r.A)(t),i=(0,U.A)(n,(t=>(0,s.A)(t.categoryMatches)));this.tokenMatcher=i?J.yJ:J.xU,(0,J.SF)((0,r.A)(this.tokensMap))}defineRule(t,e,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=(0,a.A)(n,"resyncEnabled")?n.resyncEnabled:Te.resyncEnabled,r=(0,a.A)(n,"recoveryValueFunc")?n.recoveryValueFunc:Te.recoveryValueFunc,s=this.ruleShortNameIdx<<12;let o;return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s,o=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),e.apply(this,n);const i=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(i),i}catch(o){return this.invokeRuleCatch(o,i,r)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),e.apply(this,n)}catch(o){return this.invokeRuleCatch(o,i,r)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:t,originalGrammarAction:e})}invokeRuleCatch(t,e,n){const i=1===this.RULE_STACK.length,r=e&&!this.isBackTracking()&&this.recoveryEnabled;if(yt(t)){const e=t;if(r){const i=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(i)){if(e.resyncedTokens=this.reSyncTo(i),this.outputCst){const t=this.CST_STACK[this.CST_STACK.length-1];return t.recoveredNode=!0,t}return n(t)}if(this.outputCst){const t=this.CST_STACK[this.CST_STACK.length-1];t.recoveredNode=!0,e.partialCstResult=t}throw e}if(i)return this.moveToTerminatedState(),n(t);throw e}throw t}optionInternal(t,e){const n=this.getKeyForAutomaticLookahead(512,e);return this.optionInternalLogic(t,e,n)}optionInternalLogic(t,e,n){let i,r=this.getLaFuncFromCache(n);if("function"!=typeof t){i=t.DEF;const e=t.GATE;if(void 0!==e){const t=r;r=()=>e.call(this)&&t.call(this)}}else i=t;if(!0===r.call(this))return i.call(this)}atLeastOneInternal(t,e){const n=this.getKeyForAutomaticLookahead(Ut,t);return this.atLeastOneInternalLogic(t,e,n)}atLeastOneInternalLogic(t,e,n){let i,r=this.getLaFuncFromCache(n);if("function"!=typeof e){i=e.DEF;const t=e.GATE;if(void 0!==t){const e=r;r=()=>t.call(this)&&e.call(this)}}else i=e;if(!0!==r.call(this))throw this.raiseEarlyExitException(t,X.REPETITION_MANDATORY,e.ERR_MSG);{let t=this.doSingleRepetition(i);for(;!0===r.call(this)&&!0===t;)t=this.doSingleRepetition(i)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],r,Ut,t,Y)}atLeastOneSepFirstInternal(t,e){const n=this.getKeyForAutomaticLookahead(Kt,t);this.atLeastOneSepFirstInternalLogic(t,e,n)}atLeastOneSepFirstInternalLogic(t,e,n){const i=e.DEF,r=e.SEP;if(!0!==this.getLaFuncFromCache(n).call(this))throw this.raiseEarlyExitException(t,X.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);{i.call(this);const e=()=>this.tokenMatcher(this.LA(1),r);for(;!0===this.tokenMatcher(this.LA(1),r);)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,e,i,W],e,Kt,t,W)}}manyInternal(t,e){const n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,e,n)}manyInternalLogic(t,e,n){let i,r=this.getLaFuncFromCache(n);if("function"!=typeof e){i=e.DEF;const t=e.GATE;if(void 0!==t){const e=r;r=()=>t.call(this)&&e.call(this)}}else i=e;let s=!0;for(;!0===r.call(this)&&!0===s;)s=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],r,768,t,G,s)}manySepFirstInternal(t,e){const n=this.getKeyForAutomaticLookahead(Dt,t);this.manySepFirstInternalLogic(t,e,n)}manySepFirstInternalLogic(t,e,n){const i=e.DEF,r=e.SEP;if(!0===this.getLaFuncFromCache(n).call(this)){i.call(this);const e=()=>this.tokenMatcher(this.LA(1),r);for(;!0===this.tokenMatcher(this.LA(1),r);)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,e,i,V],e,Dt,t,V)}}repetitionSepSecondInternal(t,e,n,i,r){for(;n();)this.CONSUME(e),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,i,r],n,Kt,t,r)}doSingleRepetition(t){const e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e}orInternal(t,e){const n=this.getKeyForAutomaticLookahead(256,e),i=(0,Xt.A)(t)?t:t.DEF,r=this.getLaFuncFromCache(n).call(this,i);if(void 0!==r)return i[r].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new xt(e,t))}}subruleInternal(t,e,n){let i;try{const r=void 0!==n?n.ARGS:void 0;return this.subruleIdx=e,i=t.apply(this,r),this.cstPostNonTerminal(i,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),i}catch(r){throw this.subruleInternalError(r,n,t.ruleName)}}subruleInternalError(t,e,n){throw yt(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,e,n){let i;try{const e=this.LA(1);!0===this.tokenMatcher(e,t)?(this.consumeToken(),i=e):this.consumeInternalError(t,e,n)}catch(r){i=this.consumeInternalRecovery(t,e,r)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.name,i),i}consumeInternalError(t,e,n){let i;const r=this.LA(0);throw i=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Pt(i,e,r))}consumeInternalRecovery(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(i){throw i.name===wt?n:i}}}saveRecogState(){const t=this.errors,e=(0,c.A)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),I.LT)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(t){return t.call(this)}consume(t,e,n){return this.consumeInternal(e,t,n)}subrule(t,e,n){return this.subruleInternal(e,t,n)}option(t,e){return this.optionInternal(e,t)}or(t,e){return this.orInternal(e,t)}many(t,e){return this.manyInternal(t,e)}atLeastOne(t,e){return this.atLeastOneInternal(t,e)}CONSUME(t,e){return this.consumeInternal(t,0,e)}CONSUME1(t,e){return this.consumeInternal(t,1,e)}CONSUME2(t,e){return this.consumeInternal(t,2,e)}CONSUME3(t,e){return this.consumeInternal(t,3,e)}CONSUME4(t,e){return this.consumeInternal(t,4,e)}CONSUME5(t,e){return this.consumeInternal(t,5,e)}CONSUME6(t,e){return this.consumeInternal(t,6,e)}CONSUME7(t,e){return this.consumeInternal(t,7,e)}CONSUME8(t,e){return this.consumeInternal(t,8,e)}CONSUME9(t,e){return this.consumeInternal(t,9,e)}SUBRULE(t,e){return this.subruleInternal(t,0,e)}SUBRULE1(t,e){return this.subruleInternal(t,1,e)}SUBRULE2(t,e){return this.subruleInternal(t,2,e)}SUBRULE3(t,e){return this.subruleInternal(t,3,e)}SUBRULE4(t,e){return this.subruleInternal(t,4,e)}SUBRULE5(t,e){return this.subruleInternal(t,5,e)}SUBRULE6(t,e){return this.subruleInternal(t,6,e)}SUBRULE7(t,e){return this.subruleInternal(t,7,e)}SUBRULE8(t,e){return this.subruleInternal(t,8,e)}SUBRULE9(t,e){return this.subruleInternal(t,9,e)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,e,n=Te){if((0,x.A)(this.definedRulesNames,t)){const e={message:g.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Ee.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(e)}this.definedRulesNames.push(t);const i=this.defineRule(t,e,n);return this[t]=i,i}OVERRIDE_RULE(t,e,n=Te){const i=function(t,e,n){const i=[];let r;return(0,x.A)(e,t)||(r=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,i.push({message:r,type:Ee.INVALID_RULE_OVERRIDE,ruleName:t})),i}(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const r=this.defineRule(t,e,n);return this[t]=r,r}BACKTRACK(t,e){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,e),!0}catch(i){if(yt(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return(0,u._3)((0,r.A)(this.gastProductionsCache))}},class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=(0,a.A)(t,"errorMessageProvider")?t.errorMessageProvider:me.errorMessageProvider}SAVE_ERROR(t){if(yt(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,c.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,c.A)(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,e,n){const i=this.getCurrRuleFullName(),r=ct(t,this.getGAstProductions()[i],e,this.maxLookahead)[0],s=[];for(let a=1;a<=this.maxLookahead;a++)s.push(this.LA(a));const o=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:r,actual:s,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Ct(o,this.LA(1),this.LA(0)))}raiseNoAltException(t,e){const n=this.getCurrRuleFullName(),i=at(t,this.getGAstProductions()[n],this.maxLookahead),r=[];for(let a=1;a<=this.maxLookahead;a++)r.push(this.LA(a));const s=this.LA(0),o=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:r,previous:s,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new vt(o,this.LA(1),s))}},class{initContentAssist(){}computeContentAssist(t,e){const n=this.gastProductionsCache[t];if((0,jt.A)(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return j([n],e,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const e=(0,N.A)(t.ruleStack),n=this.getGAstProductions()[e];return new $(n,t).startWalking()}},class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(let t=0;t<10;t++){const e=t>0?t:"";this[`CONSUME${e}`]=function(e,n){return this.consumeInternalRecord(e,t,n)},this[`SUBRULE${e}`]=function(e,n){return this.subruleInternalRecord(e,t,n)},this[`OPTION${e}`]=function(e){return this.optionInternalRecord(e,t)},this[`OR${e}`]=function(e){return this.orInternalRecord(e,t)},this[`MANY${e}`]=function(e){this.manyInternalRecord(t,e)},this[`MANY_SEP${e}`]=function(e){this.manySepFirstInternalRecord(t,e)},this[`AT_LEAST_ONE${e}`]=function(e){this.atLeastOneInternalRecord(t,e)},this[`AT_LEAST_ONE_SEP${e}`]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}}this.consume=function(t,e,n){return this.consumeInternalRecord(e,t,n)},this.subrule=function(t,e,n){return this.subruleInternalRecord(e,t,n)},this.option=function(t,e){return this.optionInternalRecord(e,t)},this.or=function(t,e){return this.orInternalRecord(e,t)},this.many=function(t,e){this.manyInternalRecord(t,e)},this.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{const t=this;for(let e=0;e<10;e++){const n=e>0?e:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))}ACTION_RECORD(t){}BACKTRACK_RECORD(t,e){return()=>!0}LA_RECORD(t){return fe}topLevelRuleRecord(t,e){try{const n=new u.jO({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(n){if(!0!==n.KNOWN_RECORDER_ERROR)try{n.message=n.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw n}throw n}}optionInternalRecord(t,e){return he.call(this,u.c$,t,e)}atLeastOneInternalRecord(t,e){he.call(this,u.$P,e,t)}atLeastOneSepFirstInternalRecord(t,e){he.call(this,u.Cy,e,t,se)}manyInternalRecord(t,e){he.call(this,u.Y2,e,t)}manySepFirstInternalRecord(t,e){he.call(this,u.Pp,e,t,se)}orInternalRecord(t,e){return ue.call(this,t,e)}subruleInternalRecord(t,e,n){if(Ae(e),!t||!1===(0,a.A)(t,"ruleName")){const n=new Error(`<SUBRULE${de(e)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const i=(0,D.A)(this.recordingProdStack),r=t.ruleName,s=new u.wL({idx:e,nonTerminalName:r,label:null==n?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?le:re}consumeInternalRecord(t,e,n){if(Ae(e),!(0,J.Jx)(t)){const n=new Error(`<CONSUME${de(e)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const i=(0,D.A)(this.recordingProdStack),r=new u.BK({idx:e,terminalType:t,label:null==n?void 0:n.LABEL});return i.definition.push(r),ce}},class{initPerformanceTracer(t){if((0,a.A)(t,"traceInitPerf")){const e=t.traceInitPerf,n="number"==typeof e;this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=me.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${t}>`);const{time:i,value:r}=(0,pe.O)(e),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,r}return e()}}].forEach((t=>{const e=t.prototype;Object.getOwnPropertyNames(e).forEach((n=>{if("constructor"===n)return;const i=Object.getOwnPropertyDescriptor(e,n);i&&(i.get||i.set)?Object.defineProperty(Re.prototype,n,i):Re.prototype[n]=t.prototype[n]}))}));class Se extends Ne{constructor(t,e=me){const n=(0,c.A)(e);n.outputCst=!1,super(t,n)}}var Oe=n(92566);n(44697)}}]);