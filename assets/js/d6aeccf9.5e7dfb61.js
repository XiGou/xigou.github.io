"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([["1482"],{24951:function(e,s,d){d.r(s),d.d(s,{default:()=>o,frontMatter:()=>c,metadata:()=>i,assets:()=>l,toc:()=>h,contentTitle:()=>r});var i=JSON.parse('{"id":"UsefulSnipets/iscsiadm common commands","title":"iscsiadm common commands","description":"This is a useful iscsiadm command cheat-sheet\uFF1A","source":"@site/knowledges/UsefulSnipets/iscsiadm common commands.md","sourceDirName":"UsefulSnipets","slug":"/UsefulSnipets/iscsiadm common commands","permalink":"/knowledges/UsefulSnipets/iscsiadm common commands","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"dg-publish":true,"Last Edited":"2023-11-17T23:58","date":"2022-11-05T00:22:33.000Z"},"sidebar":"readings","previous":{"title":"Nvme Device Operation cmds","permalink":"/knowledges/UsefulSnipets/Nvme Device Operation cmds"}}'),n=d("85893"),t=d("50065");let c={"dg-publish":!0,"Last Edited":"2023-11-17T23:58",date:new Date("2022-11-05T00:22:33.000Z")},r=void 0,l={},h=[];function x(e){let s={code:"code",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["This is a useful ",(0,n.jsx)(s.code,{children:"iscsiadm"})," command cheat-sheet\uFF1A"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Target\uFF08Discovery\uFF09"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547D\u4EE4"}),(0,n.jsx)(s.th,{children:"\u63CF\u8FF0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m discovery -t st -p <IP>"})}),(0,n.jsx)(s.td,{children:"\u53D1\u73B0\u6307\u5B9A IP \u5730\u5740\u7684 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m discovery -t sendtargets"})}),(0,n.jsx)(s.td,{children:"\u53D1\u73B0\u6240\u6709\u53EF\u7528\u7684 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m discovery -t sendtargets -p <IP>"})}),(0,n.jsx)(s.td,{children:"\u53D1\u73B0\u6307\u5B9A IP \u5730\u5740\u7684\u6240\u6709 iSCSI \u76EE\u6807"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"\uFF08Login/Logout\uFF09"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547D\u4EE4"}),(0,n.jsx)(s.th,{children:"\u63CF\u8FF0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP>"})}),(0,n.jsx)(s.td,{children:"\u767B\u5F55\u6307\u5B9A IP \u5730\u5740\u7684 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> -u"})}),(0,n.jsx)(s.td,{children:"\u767B\u51FA\u6307\u5B9A IP \u5730\u5740\u7684 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node --logoutall=all"})}),(0,n.jsx)(s.td,{children:"\u767B\u51FA\u6240\u6709\u5DF2\u767B\u5F55\u7684 iSCSI \u76EE\u6807"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Session Managemen"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547D\u4EE4"}),(0,n.jsx)(s.th,{children:"\u63CF\u8FF0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session"})}),(0,n.jsx)(s.td,{children:"\u663E\u793A\u5F53\u524D\u6D3B\u52A8\u7684 iSCSI \u4F1A\u8BDD\u4FE1\u606F"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session -r <session_id>"})}),(0,n.jsx)(s.td,{children:"\u79FB\u9664\u6307\u5B9A\u4F1A\u8BDD ID \u7684 iSCSI \u4F1A\u8BDD"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session --rescan"})}),(0,n.jsx)(s.td,{children:"\u91CD\u65B0\u626B\u63CF\u6240\u6709 iSCSI \u4F1A\u8BDD"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session --rescan-target=<IQN>"})}),(0,n.jsx)(s.td,{children:"\u91CD\u65B0\u626B\u63CF\u6307\u5B9A IQN \u7684 iSCSI \u4F1A\u8BDD"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Target Management"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547D\u4EE4"}),(0,n.jsx)(s.th,{children:"\u63CF\u8FF0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node"})}),(0,n.jsx)(s.td,{children:"\u663E\u793A\u5F53\u524D\u5DF2\u914D\u7F6E\u7684 iSCSI \u76EE\u6807\u4FE1\u606F"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --op=new"})}),(0,n.jsx)(s.td,{children:"\u6DFB\u52A0\u65B0\u7684 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --op=delete"})}),(0,n.jsx)(s.td,{children:"\u5220\u9664\u6307\u5B9A iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --op=update"})}),(0,n.jsx)(s.td,{children:"\u66F4\u65B0\u6307\u5B9A iSCSI \u76EE\u6807\u7684\u5C5E\u6027"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"**Other Usual Commands  **"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547D\u4EE4"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"\u63CF\u8FF0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m iface"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663E\u793A\u5F53\u524D\u7684\u7F51\u7EDC\u63A5\u53E3\u4FE1\u606F"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m fw"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663E\u793A iSCSI \u9002\u914D\u5668\u56FA\u4EF6\u4FE1\u606F"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m fw --op=update"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u66F4\u65B0 iSCSI \u9002\u914D\u5668\u56FA\u4EF6"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m sessionstats"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663E\u793A iSCSI \u4F1A\u8BDD\u7EDF\u8BA1\u4FE1\u606F"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m statistics"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663E\u793A iSCSI \u7EDF\u8BA1\u4FE1\u606F"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -p <IP> -l"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u4F7F\u7528 CHAP \u8BA4\u8BC1\u767B\u5F55 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -p <IP> -I <iface>"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u6307\u5B9A\u7F51\u7EDC\u63A5\u53E3\u767B\u5F55 iSCSI \u76EE\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session -P 3  "})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u6BCF\u4E2Alun\u7684\u672C\u5730\u8DEF\u5F84"})]})]})]})]})}function o(e={}){let{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}},50065:function(e,s,d){d.d(s,{Z:function(){return r},a:function(){return c}});var i=d(67294);let n={},t=i.createContext(n);function c(e){let s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);