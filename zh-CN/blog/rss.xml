<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Joker's Bolg</title>
        <link>https://xigou.github.io/zh-CN/blog</link>
        <description>Joker's Bolg</description>
        <lastBuildDate>Sat, 18 Nov 2023 23:11:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh-CN</language>
        <copyright>Joker</copyright>
        <item>
            <title><![CDATA[网友对话: 谈底层赛里斯人的规训]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/11/18/syris-lower-level-discipline</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/11/18/syris-lower-level-discipline</guid>
            <pubDate>Sat, 18 Nov 2023 23:11:04 GMT</pubDate>
            <description><![CDATA[这是旧文新发]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>这是旧文新发</p>
</blockquote>
<blockquote>
<p>今天的话题来自网友： 从小到大他都很厌恶出去见亲友，因为一进门妈妈就会叫他把在场的所有人叫一个遍，临走再再叫一遍 "xx再见"，每次聚会，他妈妈都会极力讨好别人，对自己却只有说教，经常以对比别人家孩子的方式点评自己，感觉自己只是一个讨好别人的工具，觉得自己妈妈拿自己强行制造话题。
毕业工作了，妈妈一点没变，在和亲戚聚会的时候一直对自己催婚，导致自己一点不想回家，她就在外面和人说自己忘了老本，不孝顺。他很苦恼，不知道怎么办</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="称谓">称谓<a href="https://xigou.github.io/zh-CN/blog/2023/11/18/syris-lower-level-discipline#%E7%A7%B0%E8%B0%93" class="hash-link" aria-label="称谓的直接链接" title="称谓的直接链接">​</a></h2>
<p>我也非常讨厌出门见亲友和乡民，我经常会想起那些遥远的下午，我的父母没有带我去见识冰块和奇装异服的吉普赛人，而是带着我在村子里窜来窜去。村子不大，但是有各式各样的人：有饱经田地耕作之苦，满脸沟壑纵横的人，正如蜀国著名画家罗中立的《父亲》所描绘的那样；有老奸巨猾，将脖子伸得像鹅一样长，竖起耳朵仔细听辩你的话语中是否不经意透露出有趣的秘密的人；也有一辈子小心翼翼地活着，连和你对话也感到腼腆和局促的农村妇女。和他们一见面，父母首先就会向我宣读对方的辈份和我应当对其的称呼，我则会机械地复述一遍那个称呼，这根本就不能称为一场交谈，因为我根本就没有正视他们的面容和双眼，我就像宇宙中的一颗星星一样，只是向着漆黑的周围世界发出一个固定频率的电磁波。那时候的我太年轻，脑子里空空如也，而对方早已在改造地球的伟大工程中变得麻木不仁，所以我们之间并没有什么想要交谈的内容，他只是随口应答我的言语，说一句：“你吃饭了吗”， 这让我倍感疑惑，我们那个小山村里没有日料、法餐，更没有米其林，我仔细确认了他家的烟囱也没有冒烟，完全不像是要请我吃饭的样子，所以为了不让对话变得尴尬，我只好用一个没有时间状语的句子回答吃过了，这自然是一句废话，我如果没吃过饭，我不可能活那么多年。</p>
<p>工作后的某一天，同事带着他的爱犬到公司上班，我蹲在狗的面前，摸着它的头却不知道应该对它说些什么，这时候同事对他的狗说：“旺财，蹲下跟他握手”，旺财没有蹲下也没有跟我握手，人群中发出一阵阵哄笑，这让我想起了多年前那些面对陌生老农的瞬间。</p>
<p><img loading="lazy" src="https://imgur.com/vsfoKxQ.jpg" alt="Imgur" class="img_ev3q"></p>
<p>父母在他人面前要求我如何称呼这些人，实际上是在宣示对我的主权，我听话地照做便是让这样的权力关系得到公开的认证与显现。而如果我对那个人说：“小逼崽子，今天我不想说话”，那便是大逆不道十恶不赦了，必定会臭名远扬。而这些等待着我主动向他们打招呼的人，也是在等待着我的服从，来和他们达成一个上下级的社会结构。在赛里斯农村，对他人的称呼需要讲究辈份，我会依据辈份称呼一个没有血缘关系的男人为叔叔或者爷爷，这是宗族社会留下来的痕迹，大家一般都入乡随俗遵守这种祖宗定下来的社会结构来行事。但是凡事总有意外，有些年过半百的人，按照辈份需要称呼我为爷爷，这时候他们就会说：“我的年纪这么大了，你叫我声哥哥就得了”，年幼的我总觉得不公平，既然我辈份高过他，看他年龄大，我自愿降低辈份到和他同辈，那我为什么不能叫他一声弟弟呢？这里的关键就是叫他弟弟，会让他在社会结构中处于我之下，这是他不能忍受的，所以我认为毛润之是赛里斯最伟大的人，他早就看透了这些规矩，所以他曾经说过：“规矩是用来约束敌人的，而不是束缚我们自己手脚的”。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="酒桌">酒桌<a href="https://xigou.github.io/zh-CN/blog/2023/11/18/syris-lower-level-discipline#%E9%85%92%E6%A1%8C" class="hash-link" aria-label="酒桌的直接链接" title="酒桌的直接链接">​</a></h2>
<p>酒桌是赛里斯人引以为傲的社交文化，美国人最伟大的公司是苹果，而赛里斯最伟大的公司却是一个生产白酒的茅台，可见酒桌在赛里斯生活中就如同皇冠上的明珠一般璀璨夺目。在赛里斯的酒桌上，倒酒几分满、酒杯互相撞击时候的高度差、宾客的座位次序都有严格的规矩。当赛里斯人变得越来越有钱，吃饭坐上了碰杯很困难的大桌子的时候，他们甚至还发明了利用“超距作用”完成碰杯的方法：双方使用酒杯敲击桌面，利用固体传递振动波来完成酒杯跨越空间的碰撞。</p>
<p>在古代赛里斯人大多数只有方形的桌子可以使用，所以就规定坐北朝南的地方为上位，只有重要的人物才能入坐，但是在进入现代社会后，赛里斯人住进了房产开发商修建的奇形怪状朝向不正的房子，这个坐北朝南实际上已经失效了，但是原则上来讲靠近屏风的位置依然是上位。我忽然想到一个足以让赛里斯人不用喝酒就能晕头转向的足够申请国家专利的餐桌设计：在椅子下面安装圆形轨道，然后使用电机驱动匀速旋转，这样就能够让赛里斯人不再纠结哪个位置是上位，同时可以很方便地夹到桌子上所有的菜，简直是一举两得。</p>
<p><img loading="lazy" src="https://imgur.com/yBJvBRc.jpg" alt="Imgur" class="img_ev3q"></p>
<p>如果用数学的语言来描述赛里斯的酒桌，用偏序集合来表示简直是再恰当不过了：</p>
<blockquote>
<p>偏序集合（英語：Partially ordered set，简写Poset）是数学中，特别是序理论中，<strong>指配备了偏序关系的集合</strong>。 这个理论将对集合的元素进行排序、顺序或排列等直觉概念抽象化。 这种排序不必是全部的，就是说不需要保证此集合内的所有对象的相互可比较性。</p>
</blockquote>
<p>酒桌上所有人组成一个集合，每一次一对一的敬酒则会在两个人之间形成一个上下关系，主动敬酒的人对接受敬酒的人表达服从，由于有桌子上一整圈的观众围观，这个上下级关系同时也得到了公开的认证。而一对多的敬酒则往往相反，主动敬酒并且开启长篇大论的人，则是在宣示：“我是你们的爹”。在一次又一次的酒局中，整个社会形成了一个巨大的偏序集合，这种氛围令我厌烦，而在偏序集合中，并不是任意两个元素都存在偏序关系，所以我很少请客吃饭或者接受别人的邀请去吃饭，不是 AA 制的局我几乎不参加，不去完成这样的偏序关系认证仪式，可以让自己一定程度和这个巨大的结构保持距离。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="节日问候">节日问候<a href="https://xigou.github.io/zh-CN/blog/2023/11/18/syris-lower-level-discipline#%E8%8A%82%E6%97%A5%E9%97%AE%E5%80%99" class="hash-link" aria-label="节日问候的直接链接" title="节日问候的直接链接">​</a></h2>
<p>赛里斯虽然声称有五千年的历史，但是这些历史中有两千多年不可考证，有数百年分裂混战，有数百年异族入主，还有近代的社会结构和文化的数次暴力改变，所以赛里斯的文化实际上有很多断层现象，真正流传下来的并不多。最近这些年这个民族时常绞尽脑汁想挖出一些自己历史悠久的符号，例如山东曹县不久之前刚发明的化学纤维汉服的流行则体现了这样的期盼。而赛里斯的节日也是一样，两大长假节日劳动节和国庆节都是舶来品，端午、中秋、春节是祖宗流传下来的，但是实际上它们的含义早已被忘得一干二净。所以在赛里斯我总觉得过节是一个特别无聊的事情，我时常不知道自己为什么要过节，也不知道我为什么要给其他人发一句虚情假意毫无用处的节日问候，赛里斯的节日这么无趣，不可能因为我的一句群发的“xx节快乐”就变得充满趣味。</p>
<p>对赛里斯人来讲，不管过什么节，节日问候是必不可少的经典节目。这个抽象的问候，在端午节是炒作成天价的粽子礼盒，在中秋是月饼礼盒，在春节是拜年活动。这些礼盒里面装的都是一些黑厂制作的垃圾食品，但是赛里斯人依旧热衷于送来送去，是因为每一次送礼都是一次人与人之间等级关系的宣告与强化。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="结语">结语<a href="https://xigou.github.io/zh-CN/blog/2023/11/18/syris-lower-level-discipline#%E7%BB%93%E8%AF%AD" class="hash-link" aria-label="结语的直接链接" title="结语的直接链接">​</a></h2>
<p>参与这些活动则是社会已经对你完成规训的标志，代表你已经成功融入这个复杂的社会结构内。而当前的我则是一个悠闲自在的局外人，我们如何与这个世界相处，我认为一切的精妙都藏在那个经典的句子里：“今天，我妈妈死了，可能是昨天，我不知道”。</p>]]></content:encoded>
            <category>philosophy</category>
            <category>lezi</category>
        </item>
        <item>
            <title><![CDATA[赛里斯生存指南：如何证明我妈是我妈]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/11/17/how-to-prove-mom-is-mom</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/11/17/how-to-prove-mom-is-mom</guid>
            <pubDate>Fri, 17 Nov 2023 23:11:04 GMT</pubDate>
            <description><![CDATA[最近我遇到了一点需要证明我妈是我妈的小麻烦,中间还遇到了一些小小波折, 为了防止“没有记录就没有发生”，所以简单记录一下.]]></description>
            <content:encoded><![CDATA[<p>最近我遇到了一点需要证明我妈是我妈的小麻烦,中间还遇到了一些小小波折, 为了防止“没有记录就没有发生”，所以简单记录一下.</p>
<p>看到这个标题，很多人就会想: 这都已经2023年了，你说的这个已经是烂梗老活了，毫无新意, 我不相信 2023 年 11 月还存在这样的事情，但是千真万确这个事情就发生在 2023 年的 11 月，地点就是赛里斯。</p>
<p>虽然大家遇到需要证明你妈是你妈的机会不太多，但是为了防止大家在真的遇到这种情形的时候手足无措，我还是分享一下我在赛里斯的这个生存小技巧，以备不时之需 。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="简要经过">简要经过<a href="https://xigou.github.io/zh-CN/blog/2023/11/17/how-to-prove-mom-is-mom#%E7%AE%80%E8%A6%81%E7%BB%8F%E8%BF%87" class="hash-link" aria-label="简要经过的直接链接" title="简要经过的直接链接">​</a></h2>
<p>事情的经过是这样的，因为种种原因，我和我的母亲已经不在同一个户口本上了，所以在办理一些事情的时候呢，需要证明亲子关系。</p>
<p>首先我就让家人去了故乡的村委会，要求出具我和我母亲的亲子关系证明，村委会以各种奇奇怪怪的理由推脱，一会儿是人不在办公场所，一会儿又劝我们说这个证明其实没有必要开，然后又劝我们去公安局派出所开具这个证明比较有法律效力。当然这些都是胡诌，其实在这个场景下，最佳的方式就是用一包红色外壳的香烟来解决问题，这包烟虽然只价值区区几十元人民币，但是依照联合国的赤贫标准为每日一美元的生活费，这几十元足够支付这些人一周的伙食费。</p>
<p>然后我的家人又去了故乡的派出所，派出所提出：我也不认识你，你应当去村委会开具一个证明，我给你盖一个章他就有法律效力了。其实这个时候为了少跑一趟，你最佳的选择依然是用一包香烟解决问题。但是如果你给出了这一包香烟，方便了你自己，但却会导致成千上万的人民群众因此必须付出一包香烟的代价，所以任何一个有社会责任感的公民，都不应该在此时为了方便自己而导致整个社会风气的败坏。</p>
<p>事实上在 2016 年发布的 <strong>公安部等12部门联合出台《关于改进和规范公安派出所出具证明工作的意见》等2个文件</strong> 的第二条第三款就有如下规定：</p>
<blockquote>
<p>二、公民在办理相关社会事务时，无法用法定身份证件证明的事项，需要公安派出所开具相关证明的，由公安派出所根据具体情况予以办理。主要包括下列9类情形：
…
3、亲属关系证明。曾经同户人员间的亲属关系，历史户籍档案等能够反映，需要开具证明的，公安派出所在核实后应当出具。</p>
</blockquote>
<p>派出所的人天天跟法律法规打交道，他能不知道法律法规吗？他每天接触数百人，开着各种稀奇古怪的证明，他能不知道什么证明应该开吗？你笑他不懂法律法规，他笑你不懂人情世故。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="最佳解法">最佳解法<a href="https://xigou.github.io/zh-CN/blog/2023/11/17/how-to-prove-mom-is-mom#%E6%9C%80%E4%BD%B3%E8%A7%A3%E6%B3%95" class="hash-link" aria-label="最佳解法的直接链接" title="最佳解法的直接链接">​</a></h2>
<p>你的最佳做法是拿着这个文件去派出所，阐明自己属于辖区居民，派出所有自己的户籍资料，有义务出具亲属关系证明，如果这个时候对方乖乖的给你开具了证明那就万事大吉了。</p>
<p>如果对方依然顽固不化，拒绝为你开具证明。那么你应该延迟要求他出示拒绝开具证明的书面文件。咱们毕竟是作为文明社会的读书人，做事要讲究一个温文尔雅，言行举止要文质彬彬，这个时候你就可以引用著名文艺界人士陈丹青教授的名言：“我操你mlgb，我要去纪检委举报你，我要去陶然亭排队”，一般到了这个程度，基本上你要开具的证明，也就八九不离十了。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="后记">后记<a href="https://xigou.github.io/zh-CN/blog/2023/11/17/how-to-prove-mom-is-mom#%E5%90%8E%E8%AE%B0" class="hash-link" aria-label="后记的直接链接" title="后记的直接链接">​</a></h2>
<p>这个事情还是令我感到了一点小小的塞里斯特色震撼，这都已经2023年了，文明世界的人工智能，已经快要通过图灵测试了。而我们这个世界，想要证明我妈是我妈，还需要以性侵别人的妈作为代价，多少还是有点野蛮的。这个意见文件居然是 2016 年才发布的，难以想象 2016 年前的赛里斯人想要活着有多么的艰难，因为他们连“我从哪里来”这样的哲学基本问题都回答不了。</p>
<p>现在已经是信息化的时代，这样简单的问题，你去互联网大厂随便找一个程序员，随便写几个SQL语句，就可以做一个可供全国人民使用的亲属关系证明系统。退一万步讲，在过去的三年大抗疫期间，一个小小的二维码，只要你变红了，你的祖宗十八代他都能给挖出来变红，证明一个亲属关系又有何难？</p>
<p>所以这种问题根本不是技术的问题，而是一种文化里的基因。西方的文化是上帝的文化，在上帝这样至高无上的神面前，所有人都是仆人，所以西方的公职人员在面对公众的时候，大多是带着尊重的心态，以帮助别人为自己的乐趣。而在赛力斯的文化是皇帝的文化，人人都想当土皇帝，手上有一丁点的权力，都要时不时拿出来耍威风，过一把皇帝的瘾，一包烟他也不是买不起，主要是抽别人的更有性价比。</p>
<p>这种野蛮与文明的鸿沟一天没有被填平，那么每一天都会有无数公职人员的母亲被无缘无故的性侵，为了保护他们的母亲，尊重女性，希望这个鸿沟快点被填平。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="refs">Refs<a href="https://xigou.github.io/zh-CN/blog/2023/11/17/how-to-prove-mom-is-mom#refs" class="hash-link" aria-label="Refs的直接链接" title="Refs的直接链接">​</a></h2>
<ol>
<li><a href="https://www.gov.cn/xinwen/2016-08/11/content_5098821.htm" target="_blank" rel="noopener noreferrer">公安部等12部门联合出台《关于改进和规范公安派出所出具证明工作的意见》等2个文件</a></li>
</ol>]]></content:encoded>
            <category>law</category>
            <category>lezi</category>
        </item>
        <item>
            <title><![CDATA[Joker 谈治国理政：论治安管理中的殴打他人]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law</guid>
            <pubDate>Sat, 21 Oct 2023 01:11:04 GMT</pubDate>
            <description><![CDATA[背景：我的一位朋友（确实是朋友，后续为叙述方便，简称"我方"）与他人因琐事吵架最后发生打架行为，双方报警后在派出所处理纠纷。]]></description>
            <content:encoded><![CDATA[<p>背景：我的一位朋友（确实是朋友，后续为叙述方便，简称"我方"）与他人因琐事吵架最后发生打架行为，双方报警后在派出所处理纠纷。</p>
<p>在此过程中，经过伤情鉴定，对方达轻微伤，我方未达轻微伤，对方伤势稍重。同时对方家属出示残疾证，证明对方是残疾人，具体为听力损失残疾（非聋人）。</p>
<p>最终经过调查，晶哥对我方处以行政拘留 12 日，罚款 500 元，对方被释放，未作出任何行政处罚，我方不服拒绝签字，后被强制执行行政拘留。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="术语解释">术语解释：<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E6%9C%AF%E8%AF%AD%E8%A7%A3%E9%87%8A" class="hash-link" aria-label="术语解释：的直接链接" title="术语解释：的直接链接">​</a></h2>
<ul>
<li>晶哥："警察哥哥" 的谐音，一种对警察同志的亲昵称呼，体现了警民鱼水情；</li>
<li>赛里斯：（拉丁文：Serica、Seres），意为丝国、丝国人，一般认为指中国或中国附近地区，是一种对中国的雅称。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="案件分析">案件分析<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E6%A1%88%E4%BB%B6%E5%88%86%E6%9E%90" class="hash-link" aria-label="案件分析的直接链接" title="案件分析的直接链接">​</a></h2>
<p>这件事可以说是一个典型的鸡毛蒜皮的小事，在赛里斯民间每天都在大量发生，也是普通赛里斯人最可能接触到的与公检法打交道的案件。</p>
<p>晶哥对我方处以行政处罚的依据是《中华人民共和国治安管理处罚法》第四十三条规定：</p>
<blockquote>
<p>殴打他人的，或者故意伤害他人身体的，处五日以上十日以下拘留，并处二百元以上五百元以下罚款；情节较轻的，处五日以下拘留或者五百元以下罚款。
有下列情形之一的，处十日以上十五日以下拘留，并处五百元以上一千元以下罚款：</p>
<p>（一）结伙殴打、伤害他人的；</p>
<p>（二）殴打、伤害残疾人、孕妇、不满十四周岁的人或者六十周岁以上的人的；</p>
<p>（三）多次殴打、伤害他人或者一次殴打、伤害多人的。</p>
</blockquote>
<p>在此案中行政处罚决定书明确表示晶哥是依据第二款第二项 "殴打、伤害残疾人、孕妇、不满十四周岁的人或者六十周岁以上的人的"对我方进行了从重处罚。</p>
<p>对对方不进行行政处罚，则未有任何明确说明，但是依据口述，办案晶哥曾表示对方是残疾人，所以不予处罚。</p>
<p>再考虑到对方实际上受伤较重，在打架中属于打输的一方，我方实际上一定程度上认可对方应该承担较轻责任，但不认可对方无责任。</p>
<p>总体来看此案的处理是一个相对较为公平但是略有瑕疵的行政行为，其中部分细节仍然值得思考。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="第一点因为对方是残疾人而对我方处以加重处罚是否合理">第一点：因为对方是残疾人而对我方处以加重处罚是否合理？<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E7%AC%AC%E4%B8%80%E7%82%B9%E5%9B%A0%E4%B8%BA%E5%AF%B9%E6%96%B9%E6%98%AF%E6%AE%8B%E7%96%BE%E4%BA%BA%E8%80%8C%E5%AF%B9%E6%88%91%E6%96%B9%E5%A4%84%E4%BB%A5%E5%8A%A0%E9%87%8D%E5%A4%84%E7%BD%9A%E6%98%AF%E5%90%A6%E5%90%88%E7%90%86" class="hash-link" aria-label="第一点：因为对方是残疾人而对我方处以加重处罚是否合理？的直接链接" title="第一点：因为对方是残疾人而对我方处以加重处罚是否合理？的直接链接">​</a></h3>
<p>"主客统一"是刑法的基本原则，也就是在适用法条的时候，任何一项犯罪行为主客是否统一，都会对最终的处罚造成天差地别的影响。当然今天讨论的案件并未达到刑事案件的程度，但是我们今天的行政处罚使用的是《中华人民共和国治安管理处罚法》, 在阅读此法的时候，是否应该遵循主客统一的原则呢？作为赛里斯公民，其实我至今未能从任何权威渠道获得这个回答是肯定的还是否定的。</p>
<p>但是我认为主客统一是应该作为任何法条适用的基本原则的。对于殴打残疾人应该从重处罚，我很认可，因为欺凌弱势群体主观上恶意是很大的。但是在此案中，对方的残疾是听力下降，我方主管不知道对方有此残疾，且这类残疾和四肢缺失这样子的残疾又不一样，不属于一般人可以默认明知的事实，事实上我方并无欺凌残疾人的主观恶意，应当不适用四十三条第二款第二项。从客观事实来讲，对方与我方是因为争吵进而发生互殴，一个人在争吵时 "对答如流，堪比隆中绝对", 我方无论如何也无法想象到对方是一个听力残疾人，其听力残疾亦不影响其打架能力，在打架过程中我们是完全权力对等的两个个体，最终却认为我方在"欺凌"他，确实令人难以认可。</p>
<p>举一个例子便可以更清晰了解到此判罚的不合理性，美国拳王霍利菲尔德曾经被泰森咬掉耳朵，也应当属于听力残疾人，如果霍哥走到你的面前与你对打，你也会被判定欺凌弱小。残疾人的确应当照顾，但是我认为不影响打架的残疾实际上在打架案子中应当不考虑。所以四十三条应当细化，指明被殴打者是何种残疾应当从重处罚。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="第二点因为对方是残疾人对对方免予行政处罚是否合规">第二点：因为对方是残疾人对对方免予行政处罚是否合规？<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E7%AC%AC%E4%BA%8C%E7%82%B9%E5%9B%A0%E4%B8%BA%E5%AF%B9%E6%96%B9%E6%98%AF%E6%AE%8B%E7%96%BE%E4%BA%BA%E5%AF%B9%E5%AF%B9%E6%96%B9%E5%85%8D%E4%BA%88%E8%A1%8C%E6%94%BF%E5%A4%84%E7%BD%9A%E6%98%AF%E5%90%A6%E5%90%88%E8%A7%84" class="hash-link" aria-label="第二点：因为对方是残疾人对对方免予行政处罚是否合规？的直接链接" title="第二点：因为对方是残疾人对对方免予行政处罚是否合规？的直接链接">​</a></h3>
<p>晶哥确实有一些免于处罚的权力，但是众所周知，免予处罚的权力实际上是一种非常大的权力，在二十年以前，你朋友在赛里斯被晶哥抓了，不管是什么原因，唯一正确的做法就是找关系花钱去"捞人", 这种自由裁量权实际上就是一个滋生腐败的土壤。所以现在很多的行政单位均会将这些自由裁量权向社会公布。</p>
<p>我找到了《深圳市公安局治安管理处罚裁量基准（2022 年版）》第一百一十八条、第一百一十九条、第一百二十条关于殴打他人违法行为的规定：</p>
<table><thead><tr><th>情节</th><th>处罚</th></tr></thead><tbody><tr><td>一般情节</td><td>处五日以上十日以下拘留，并处二百元以上五百元以下罚款。</td></tr><tr><td>有下列情形之一的，属于“情节较轻”：<br>1.被侵害方有过错，且伤害后果较轻的；<br>2.亲友、邻里或者同事之间因琐事发生纠纷，双方均有过错，且伤害后果较轻的；<br>3.已满十四周岁未成年在校学生初次殴打他人身体，悔过态度较好且伤害后果较轻的；<br>4.因民间纠纷引发且行为人主动赔偿合理费用，伤害后果较轻的；<br>5.其他情节较轻的情形。</td><td>处五日以下拘留或者五百元以下罚款。</td></tr><tr><td>具有下列情形之一的，处十日以上十五日以下拘留，并处五百元以上一千元以下罚款：<br>1.结伙殴打他人的；<br>2.殴打残疾人、孕妇、不满十四周岁的人或者六十周岁以上的人的；<br>3.多次殴打他人或者一次殴打多人的</td><td>处十日以上十五日以下拘留，并处五百元以上一千元以下罚款。</td></tr></tbody></table>
<p>普通人在面对打架案件的时候，总是纠结于谁先骂人谁先动手，实际上打架案件无论先后只要参与均会受罚，只是有轻重的区别而已。</p>
<p>事实上本案中，对方对我方的殴打适用于“同事纠纷，双方均有过错，后果较轻”，对于在这种情况下对方对我方发生的殴打行为，晶哥已经通过对自由裁量权的基准文件公开表示自己没有免予处罚的权力。在未达刑事案件的状况下，人并没人所谓的 "正当防卫" 的权力。此案中对方殴打我方的行为也是客观存在的，免予处罚实际上不合晶哥对社会公布的自由裁量权的基准。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="赛里斯的残疾人问题">赛里斯的残疾人问题<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E8%B5%9B%E9%87%8C%E6%96%AF%E7%9A%84%E6%AE%8B%E7%96%BE%E4%BA%BA%E9%97%AE%E9%A2%98" class="hash-link" aria-label="赛里斯的残疾人问题的直接链接" title="赛里斯的残疾人问题的直接链接">​</a></h2>
<p>在此也想顺便聊聊残疾人问题，截至 2022 年，赛里斯残疾人人口数量达到 8500 万。这个比例并无不当，和世界其它地区水平相当，但是这个数字还是令人感到震惊，和一般人的认知有很大差距。</p>
<p>在赛里斯残疾人的特权在社会上早就不是什么秘密，在赛里斯农村地区，很早就会挤破头去办理残疾证，很多情况需要找关系帮忙办理，主要是想方设法让自己的残疾评级更高，以领取更多的国家补助。补助数额也不大，大约在 100 - 300 元之间，但是对于贫困的农村地区来讲，这绝对是一笔不算小的钱，一年一两千元相当于几千斤粮食的价格。同时在赛里斯农村，当需要去闹事的时候，找一个残疾人打头阵镇场面已经是一个民间习俗了。但是这些人至少会找一个明显缺胳膊少腿的残疾人去，目标是减少冲突的可能性，相比于仗着自己是残疾人肆无忌惮去发生冲突，还是要更加善良一些。</p>
<p>在制定法律的时候，对于一个涉及到给 8500 万人的群体赋予特权，却不做更深的研究和讨论，的确是一项司法工作的过失。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="谁有解释法律的权力">谁有解释法律的权力<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E8%B0%81%E6%9C%89%E8%A7%A3%E9%87%8A%E6%B3%95%E5%BE%8B%E7%9A%84%E6%9D%83%E5%8A%9B" class="hash-link" aria-label="谁有解释法律的权力的直接链接" title="谁有解释法律的权力的直接链接">​</a></h2>
<p>法律有争议或者规定不明确的，实际上是可以通过对法律进行解释来补全，而"释法"这项权力主要由最高检、最高法、国务院和人大行使，其中人大权力有限。而公安部门实际上没有解释法律的权力，如果一个晶哥告诉你“我认为他是残疾人，应该免予处罚”，但是他不能在法律中找到支持他的论断的条文，实际上就完全不合法。</p>
<p>对于四十三条第二款第二项，我认为主要争议在于“殴打残疾人”的认定是否需要主观明知，我认为是需要明知的，因为这是大多数法律的基本原则，但是晶哥认为不需要明知，我很好奇晶哥为何认为不需要明知，所以请教了懂法律的朋友。他推荐我阅读《治安管理处罚法释义与实务指南》，并且告诉我晶哥办案其实很简单，就是照这个书来查字典。我忽然觉得马斯克确实比马克思更懂赛里斯，他早就说过这个世界看起来是一个复杂而精巧的机器，实际上是一个草台班子。我先不讨论这本书的内容，首先他可能只是一个教授领着几个倒霉研究生写出来的一本用于项目结项的教材，他当然有一定的价值，但是并无法律效力，可以用于日常工作参考，但当成权威标准就是大错特错了。</p>
<p>《治安管理处罚法释义与实务指南》书中引用了 2007 年公安部发布的“公安机关执行《中华人民共和国治安管理 处罚法》有关问题的解释（二）”，其中第七条提到：</p>
<blockquote>
<p>七、关于殴打、伤害特定对象的处罚问题</p>
<p>对违反《治安管理处罚法》第四十三条第二款第二项规定行为的处罚，不要求行为人主观上必须明知殴打、伤害的对象为残疾人、孕妇、不满十四周岁的人或者六十周岁以上的人。</p>
</blockquote>
<p>也就是晶哥实际上是按照他的上级单位的一个“释法”文件认为殴打残疾人的认定不需要主观明知。</p>
<p>但是我认为殴打残疾人必须明知，第一，赛里斯残疾人数量达到了 8500 万级别，而我走在街上几乎从未见过残疾人，说明这些残疾人要么没有行动能力困在家中，要么隐匿于人群中完全正常生活，普通人无法识别，我们因该给予特权的是那些在打架行为中能力受到残疾影响无法平等参与打架的残疾人。第二，这本教材和一个无权释法的机构发表的文件，实际上没有法律效力，而主客统一是一个基本的原则，主观不知实际上就不应该加重处罚。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="如何表达反对意见">如何表达反对意见？<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E5%A6%82%E4%BD%95%E8%A1%A8%E8%BE%BE%E5%8F%8D%E5%AF%B9%E6%84%8F%E8%A7%81" class="hash-link" aria-label="如何表达反对意见？的直接链接" title="如何表达反对意见？的直接链接">​</a></h2>
<p>被拘留是一个可大可小的事情，如果在二十年前，你出门没带暂住证拘留，很可能你就会在拘留所里重开北欧。而今赛里斯社会逐渐向文明社会发展，法律也逐渐完善，进局子不至于失去生命，但是不经常进局子的人在面对审讯室和强制行为和威胁言语的时候实际上还是会不知所措，所以我简单分享下应该如何对晶哥表达反对意见。</p>
<ol>
<li>对于口供和各种文书必须仔细阅读，任何不服的东西都应该提出异议，拒绝签字；</li>
<li>对于行政处罚不服，应该立刻提起复议，有拘留处罚的立刻申请行政复议并申请暂缓拘留；当然行政复议翻案的概率极低，拘留也许会延迟，但是一般跑不掉；</li>
<li>对于行政复议不服，应该向人民法院提起行政诉讼。</li>
</ol>
<p>而我不一样，我对于法律条文及其“释法”有异议，这是最为棘手的，身为一个在塞里斯生活了数十年的公民，我无论从任何渠道也没搞明白公民如何对法律及其解释表示异议。</p>
<p>当然很多法律法规生效之前都有征求意见的公示时期，这个期间一般是普通人可以发表意见的时期，而我关注了近期的 "关于《广东省公安机关对部分违反治安管理行为实施处罚的裁量基准（试行）》公开征求意见的公告", 这个公告已经结束，但是下面只有唯一的一个名叫 Jane 抽象老哥发表了拍马屁评论：</p>
<blockquote>
<p>规范执法行为和正确行使裁量基准，在实践中继续完善。</p>
</blockquote>
<p>但是我读来读去觉得少了几分味道，最后得出结论是互联网难以发布手写字体导致的，如果这条评论加上草书“同意”二字，倒是令人觉得不那么突兀。</p>
<p>可见在赛里斯法律法规制定过程中，人民没有参与意识，官员没有想让更多人参与的动机，一些沉默的印满文字的纸张悄悄漂荡到厅堂之上，统治了所有赛里斯人的吃喝拉撒。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="我们从中获得的教训">我们从中获得的教训<a href="https://xigou.github.io/zh-CN/blog/2023/10/21/fight-in-law#%E6%88%91%E4%BB%AC%E4%BB%8E%E4%B8%AD%E8%8E%B7%E5%BE%97%E7%9A%84%E6%95%99%E8%AE%AD" class="hash-link" aria-label="我们从中获得的教训的直接链接" title="我们从中获得的教训的直接链接">​</a></h2>
<ol>
<li>不要与他人打架，拒绝暴力应该是文明社会的底线;</li>
<li>如果对方很嚣张地想要与你打架，说明对方很可能有残疾证作为底牌，你应当警惕;</li>
<li>减少与赛里斯人非必要的交流，过叔本华一样的生活，能让你尽可能安稳平静地生活。</li>
</ol>
<h1>Refs:</h1>
<ol>
<li><a href="https://gdga.gd.gov.cn/hdjlpt/yjzj/answer/28554" target="_blank" rel="noopener noreferrer">关于《广东省公安机关对部分违反治安管理行为实施处罚的裁量基准（试行）》公开征求意见的公告
</a></li>
<li><a href="http://ga.sz.gov.cn/ZT/XZZFXXGS/QT/content/post_10180545.html" target="_blank" rel="noopener noreferrer">深圳市公安局治安管理处罚裁量基准（2022 年版）
</a></li>
<li><a href="https://www.gjxfj.gov.cn/gjxfj/xxgk/fgwj/flfg/webinfo/2016/03/1460585589901723.htm" target="_blank" rel="noopener noreferrer">中华人民共和国治安管理处罚法</a></li>
</ol>]]></content:encoded>
            <category>law</category>
        </item>
        <item>
            <title><![CDATA[Generate Single Page HTML Data Report Using Plotly in Python]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly</guid>
            <pubDate>Fri, 14 Apr 2023 01:11:04 GMT</pubDate>
            <description><![CDATA[Someone said: the best way to write a blog is not just describe waht you did, but how you resolve a problem, to record how do you think about that at that moment.]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>Someone said: the best way to write a blog is not just describe waht you did, but how you resolve a problem, to record how do you think about that at that moment.</p>
</blockquote>
<blockquote>
<p>I agree with this.</p>
</blockquote>
<p>We often need to generate some data reports, a typical senario is we got some data, and we want to generate a single page data report, so in this blog I will describe how to generate single page HTML data report using open source library Plotly in python.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="requirements-clearify">Requirements Clearify:<a href="https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly#requirements-clearify" class="hash-link" aria-label="Requirements Clearify:的直接链接" title="Requirements Clearify:的直接链接">​</a></h2>
<ol>
<li>the input is processed data, as an example, we assume that it is a combination of tabular data, time series data and barchart data;</li>
<li>we should generate charts one-by-one for each data source, and put them all into a single HTML file;</li>
<li>this is a tool component, we need to integrate it with other software, wo make the integration easier, make it self-contained is a good choice, that means the output file can be accessed in offline environment.</li>
</ol>
<h1>Implementation</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="write-the-interface-and-testcase-first">Write the Interface and Testcase First<a href="https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly#write-the-interface-and-testcase-first" class="hash-link" aria-label="Write the Interface and Testcase First的直接链接" title="Write the Interface and Testcase First的直接链接">​</a></h2>
<p>TDD( Test Driven Developing ) is always a good practice in software developing, according to the TDD work flow, we should write the interface and test case first.</p>
<p>First, let’s build the project structure like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── Makefile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── plotly_offline_report</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── gen_report.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│   ├── __init__.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└── tests</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├── __init__.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └── test_gen_report.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In <code>gen_report.py</code>, we define the structure ReportData as the source data of the report,  and the function <code>gen_report()</code> to finish the report generating, we are not planning to implement it in this stage, so the function body is empty.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ReportData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tabular_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    time_series_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    bar_chart_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ReportGenerator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> report_filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_data </span><span class="token operator">=</span><span class="token plain"> report_data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_filename </span><span class="token operator">=</span><span class="token plain"> report_filename</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">gen_report_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">		</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In <code>test_gen_report.py</code>, we implement the GenReport Testcase, the testcase described what we need to do is get the report data  and call the gen_report() function on the report data to geneate a report file. The report file will be stored in the <code>TMP_DIR</code>, and we can use <code> python3 -m http.server --directory /tmp/plotly_gen_report/</code> to start a webserver on the directory, so we can easily open browser to check if it fullfilled our requirments mannually, TDD workflow makes the dev-test loop faster and accelerates the development.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> unittest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> tempfile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> random</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> plotly_offline_report</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gen_report </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> ReportGenerator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ReportData</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">TMP_DIR </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"/tmp/plotly_gen_report"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">TestGenReport</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">unittest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">TestCase</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">setUp</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">exists</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">TMP_DIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">and</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">isdir</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">TMP_DIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            os</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">mkdir</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">TMP_DIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">test_gen_report</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        report_data </span><span class="token operator">=</span><span class="token plain"> ReportData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tabular_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"test_header"</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tabular_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">extend</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">randint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> j </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">bar_chart_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">randint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">time_series_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">randint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">100</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">range</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        test_report_file </span><span class="token operator">=</span><span class="token plain"> tempfile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">NamedTemporaryFile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token builtin" style="color:rgb(189, 147, 249)">dir</span><span class="token operator">=</span><span class="token plain">TMP_DIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> delete</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> suffix</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">".html"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ReportGenerator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> test_report_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"__main__"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    unittest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In  <code>Makefile</code>, we defined the test step and clean up step of the project.</p>
<div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin-target builtin" style="color:rgb(189, 147, 249)">.PHONY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token target symbol" style="color:rgb(248, 248, 242)">test</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	python3 -m unittest tests/test_gen_report.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin-target builtin" style="color:rgb(189, 147, 249)">.PHONY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> clean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token target symbol" style="color:rgb(248, 248, 242)">clean</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">	rm -rf /tmp/plotly_gen_report</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implement-the-core-function">Implement the Core Function<a href="https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly#implement-the-core-function" class="hash-link" aria-label="Implement the Core Function的直接链接" title="Implement the Core Function的直接链接">​</a></h2>
<p>To make the post more clear, I will just put some code snipets to demostrate the core structure of the implementation, full version of code can be accessed at github repo:</p>
<p><a href="https://github.com/XiGou/plotly_gen_offline_report" target="_blank" rel="noopener noreferrer">https://github.com/XiGou/plotly_gen_offline_report</a></p>
<p>In ReportGenerator class, we use 3 functions to plot the figure or table by plotly and pandas library, and got the HTML string, and use <code>gen_report_html_str()</code> to compose them all and filled into <code>_report_html_template</code> and got the final html string. At lase we write it into an HTML file.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> plotly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offline</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">offline </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> get_plotlyjs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> pkgutil</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> plotly</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">express </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> px</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ReportData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tabular_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">None</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># [["header"], [1]]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    time_series_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># [{"timestamp":1, "value": 1}]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    bar_chart_data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># [{"value":1, "count": 1}]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PKG_NAME </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"plotly_offline_report"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ReportGenerator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    _report_html_template </span><span class="token operator">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">"""</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">		# defined the basic html wrapper to display the report</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">		"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> report_filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> ReportData </span><span class="token operator">=</span><span class="token plain"> report_data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_filename </span><span class="token operator">=</span><span class="token plain"> report_filename</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_sections </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">_gen_report_html_str_for_ts_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">time_series_data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">				</span><span class="token comment" style="color:rgb(98, 114, 164)"># plot line figure using plotly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"""</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;h3&gt; Time Series Data &lt;/h3&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">fig</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">to_html</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">full_html</span><span class="token string-interpolation interpolation operator">=</span><span class="token string-interpolation interpolation boolean">False</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-interpolation interpolation"> include_plotlyjs</span><span class="token string-interpolation interpolation operator">=</span><span class="token string-interpolation interpolation boolean">False</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">_gen_report_html_str_for_barchart_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">bar_chart_data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">sort</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">key</span><span class="token operator">=</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"value"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># plot barchart using plotly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"""</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;h3&gt; Bar Chart Data &lt;/h3&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">fig</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">to_html</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">full_html</span><span class="token string-interpolation interpolation operator">=</span><span class="token string-interpolation interpolation boolean">False</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-interpolation interpolation"> include_plotlyjs</span><span class="token string-interpolation interpolation operator">=</span><span class="token string-interpolation interpolation boolean">False</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">_gen_report_html_str_for_tabular_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        data </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tabular_data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># compose the pandas dataframe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"""</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            &lt;h2&gt; Tabular Data &lt;/h2&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">            </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">df_stylers</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">to_html</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">gen_report_html_str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">				</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">gen_report_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">with</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_filename</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"w"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> encoding</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"utf-8"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">write</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">gen_report_html_str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="make-it-self-contained">Make It Self-contained<a href="https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly#make-it-self-contained" class="hash-link" aria-label="Make It Self-contained的直接链接" title="Make It Self-contained的直接链接">​</a></h2>
<p>The key point of this project is to make the report self-contained, so it can be opened in enviroment without internet.</p>
<p>In the <code>function call to_html(full_html=False, include_plotlyjs=False)</code> of plotly, we set <code>full_html=False</code> to generate just an html div instead of a complete HTML file include the hearder and body. we set  <code>include_plotlyjs=False</code> because we need to include multple figure in one report HTML, we don’t want it to appear multiple time in one page, and each plotly js script make our file few MBs bigger.</p>
<p>the implementation of <code>gen_report_html_str()</code> is below, we make the bootstrap and plotly js/css as static assets of our project, we use bootstrap here to build a grid layout and make our page looks better, and we include these contents directly into the <code>_report_html_template</code> then we got a full version of our report.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">gen_report_html_str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_sections </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_gen_report_html_str_for_tabular_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_gen_report_html_str_for_barchart_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_gen_report_html_str_for_ts_data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        plotlyjs_script </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"""</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">_window_plotly_config</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        &lt;script type="text/javascript"&gt;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">get_plotlyjs</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">        """</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        bootstrapjs </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"""&lt;script&gt;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">pkgutil</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">get_data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation string-interpolation string" style="color:rgb(255, 121, 198)">f"</span><span class="token string-interpolation interpolation string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation string-interpolation interpolation">PKG_NAME</span><span class="token string-interpolation interpolation string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation interpolation string-interpolation string" style="color:rgb(255, 121, 198)">.assets"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">"bootstrap.bundle.min.js"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">decode</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">"utf-8"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&lt;/script&gt;"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        bootstrapcss </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"""&lt;style&gt;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">pkgutil</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">get_data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation string-interpolation string" style="color:rgb(255, 121, 198)">f"</span><span class="token string-interpolation interpolation string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation string-interpolation interpolation">PKG_NAME</span><span class="token string-interpolation interpolation string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation interpolation string-interpolation string" style="color:rgb(255, 121, 198)">.assets"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token string-interpolation interpolation"> </span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">"bootstrap.min.css"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">decode</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">"utf-8"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&lt;/style&gt;"""</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_report_html_template</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token builtin" style="color:rgb(189, 147, 249)">format</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            report_sections</span><span class="token operator">=</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">_compose_report_sections</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            style</span><span class="token operator">=</span><span class="token plain">bootstrapcss</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            scripts</span><span class="token operator">=</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f"</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">plotlyjs_script</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">\n</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">bootstrapjs</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="glimpse-of-the-report-page">Glimpse of The Report Page<a href="https://xigou.github.io/zh-CN/blog/2023/03/23/gen-report-plotly#glimpse-of-the-report-page" class="hash-link" aria-label="Glimpse of The Report Page的直接链接" title="Glimpse of The Report Page的直接链接">​</a></h2>
<p>It looks morden, elegant, and it is interative.</p>
<p><img loading="lazy" src="https://imgur.com/rxpfH1h.jpeg" alt="Web capture_14-4-2023_05713_192.168.75.183.jpeg" class="img_ev3q"></p>]]></content:encoded>
            <category>technology</category>
            <category>data_visualization</category>
        </item>
        <item>
            <title><![CDATA[《第二性》读后感]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex</guid>
            <pubDate>Sun, 05 Feb 2023 09:35:04 GMT</pubDate>
            <description><![CDATA[波伏娃其人]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="波伏娃其人">波伏娃其人<a href="https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex#%E6%B3%A2%E4%BC%8F%E5%A8%83%E5%85%B6%E4%BA%BA" class="hash-link" aria-label="波伏娃其人的直接链接" title="波伏娃其人的直接链接">​</a></h2>
<p>波伏娃是 1908 年出生于法國的作家、存在主義哲學家、政治活動家、女權主義者、社會主義者和社會理論家。我倾向于认为她是与我们同一时代的人，小时候保护过我免于挨揍的我的曾祖父出生于 1917 年，2008 年去世，波伏娃如果足够长寿，也许能够与我的人生有时间上的交叠。1955 年波伏娃和他的情人萨特应邀访问中国，与建国初期茫然四顾的中国人民一同欢度国庆，留下了这张令中国人倍感亲切的照片。</p>
<p><img loading="lazy" src="https://imgur.com/jKVYO7U.jpg" alt="220px-Simone_de_Beauvoir_&amp;_Jean-Paul_Sartre_in_Beijing_1955.jpg" class="img_ev3q"></p>
<p>波伏娃最出名的八卦事件，就是她与萨特的开放关系，没有阅读波伏娃的著作之前，我就已经主观地对这段关系下了定论：萨特是法国富裕家庭的独子，同时也是存在主义哲学家，一个富有而有智慧的男人，没有女人会不喜欢他。而萨特患有眼疾，长相略显丑陋，波伏娃也和现在的那些颜控女孩一样因此拒绝与他结婚。读完了她的著作之后，再看我这个想法实在是过于幼稚。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="我阅读第二性的动机">我阅读《第二性》的动机<a href="https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex#%E6%88%91%E9%98%85%E8%AF%BB%E7%AC%AC%E4%BA%8C%E6%80%A7%E7%9A%84%E5%8A%A8%E6%9C%BA" class="hash-link" aria-label="我阅读《第二性》的动机的直接链接" title="我阅读《第二性》的动机的直接链接">​</a></h2>
<p>这本书被称为是女权主义的圣经，就和文学界的《百年孤独》一样，时常被提及，很少被阅读，主要原因是他是一本严肃的学术著作，同时篇幅达到了 70 万字，文化快餐化的今天，除了起点中文网的用户，没有多少人愿意读这么长的内容。最近这些年，女权主义在中国的发展迅速，90 年代以后出生的几乎没有人不知道这个词汇，女权主义本身也成为了互联网上的流量密码。</p>
<p>这本书已经躺在我的待阅列表里面数年之久，最近我终于选择了将它读完，是因为在去年发生的一些与女权主义毫不相关社会运动当中，中国的女权主义者积极的参与其中，这让我看到了中国女权主义的超越性的显现，她们不再是消极的抱怨，而是选择了主动出击，战场也不局限于女权主义本身而是遍地开花，这激发了我强烈的兴趣。同时男性和女性的矛盾在今后的很长一段时间都会存在。这个矛盾无法被强制力量压制，因为这个矛盾和美国人压迫少数族裔不一样，他是 7 亿人和 7 亿人之间的斗争；同时这个矛盾又和德国人压迫犹太人不一样，不能通过一方完全战胜另一方或者毁灭另一方来达成目的，男性和女性是相互依存的，除了在西游记里面之外，男性和女性从来没有真正意义上的分开建立过互相斗争和抗衡的男国和女国；此外女性还掌握着在远古时期被崇拜着的关乎人类存续的生育的力量。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="书籍整体介绍">书籍整体介绍<a href="https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex#%E4%B9%A6%E7%B1%8D%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D" class="hash-link" aria-label="书籍整体介绍的直接链接" title="书籍整体介绍的直接链接">​</a></h2>
<p>存在主义哲学是西方现代哲学的一个非理性的分支，这里的非理性并不是胡说八道，而是他不基于严格的逻辑推理来描述事情，更加强调人主观的看法。这个主观的看法又和我们平时看着天花板的空想不一样，他是哲学家在广泛的阅读和思考之后发表的见解，所以阅读这样的东西自然是非常有价值的。我阅读中体验到它和现在流行的社会学书籍的区别在于，书中的观点没有严格的论证，没有数据，没有调查问卷，但是读上去又会让你深以为然。书里面的很多观点，如果你要认真的去反驳的话，甚至可以写一本比这本书更长的书出来，所以不要带着吹毛求疵的态度来读这本书。</p>
<p>总体而言，这本书是质量很高的一本书，作为一本长篇著作，读起来偶尔也会发现里面总是有一些车轱辘话来回说的重复与枯燥，但那些枯燥的部分，仔细读着也是一次精神的深度按摩。考虑到作者能够承受写出这么多文字的痛苦，我阅读这么多文字的枯燥就算不上什么了。如果想要跳过一部分，那么我推荐跳过第一卷第 3 部—迷思，因为这一部分主要是对文学家及其作品的分析与批判，批判这些文学家创造的思维产物，对于以认识社会为目的的阅读来讲重要性相对较低。如果你的时间更加紧迫，那么我推荐直接阅读第二卷第 4 部—走向解放，它大约相当于《共产党宣言》在共产主义中的地位。如果短视频和社交网络已经让你失去了阅读长篇大论的兴趣，我将会在这篇文章的底部，附上我摘录的一些经典语句，你可以在地铁上、在马桶上阅读其中的一句然后细细品味，也能领会到书中的很多精神与趣味。</p>
<h1>女性为什么会成为第二性</h1>
<p>这本书的第一部分，作者就详细的分析了男性和女性生理上的差异，但是在对比的大自然当中雌性动物和雄性动物的关系之后，自然而然的发现生理差异并不是导致男性对女性长期压迫的原因。这样的一种长期的不平等，是整个社会有意识的造就的，在这个过程当中男性承担主要责任，而女性则是帮凶。</p>
<p>在男性的意识当中，自己是征服世界的主体，女性是一种特殊的客体，和自然界当中的动植物以及死物不一样，她是一个拥有意识的人；而女人又和其他的男人不一样，她是可以被占有被同化的人。结婚证是一个宣告这种占有关系的证件，婚礼是宣告这种占有关系的仪式，这种意识指导了男性在面对女性时的所有行为。女性对于这种占有则是快乐地接受，因为选择独立就意味着要自己承担风险。当男性正在为自己达成占有的目的而沾沾自喜的时候，丝毫没有发觉他已经掉入了圈套之中：</p>
<blockquote>
<p>后来婚姻也奴役了男人；他落入了大自然设下的陷阱里：男人为了想要拥有青春正盛的年轻女孩，落得后来必须一辈子赡养丰满肥厚的老女人，或是干瘪赢弱的老太太；本来是用来妆点女人的金珠宝玉，到头来反而成了丑陋的负担。</p>
</blockquote>
<p>女性是这种压迫的帮凶，是因为在她们的意识里面男性是人，自己则是矮化了的男人，她们需要依靠男性这个他者来定义自我。比如世界上最出名的 80 后金正恩同志的夫人李雪主，如果你向她询问她是谁，她肯定会回答她是金正恩的夫人，如果你再继续追问她到底是谁，她很可能会哑口无言。男性则不一样，在深圳科兴科学园楼下的饭馆里有很多青年男性，如果你问他们是谁，他们可能会回答自己是互联网公司的程序员，也可能是会回答自己是金融公司的基金经理，甚至不需要你询问，他们将工卡塞进裤兜，而让工卡的带子飘扬在外面，上面印刷着的 Tencent 或者 TIMI 的字样就足以向你介绍他们是谁。这里的一个主要的区别就是男性并没有依靠女性来定义自己。</p>
<p>男性对女性的态度是占有，他可能并不爱她，但是他也不恨她，而女性则不然，女性天生对其他的女性带有敌意。在一个家庭当中，关系最为紧绷的就是婆媳和妯娌。婆婆总是热衷于教导媳妇如何成为一个合格的妻子，并且总是会在她的身后露出嘴角向下的意味深长的表情。这让我想起一个曾经亲眼见到的非常有趣的场景，婆婆和媳妇坐在一起讨论另一个媳妇，她们像古希腊的哲学家一样你一言我一语不断地质疑那个不在场的媳妇，语气越来越高亢，韵脚也压得越来越准，就好像两个  Rapper 正在 Battle。而婆婆作为身经百战的老江湖，自然是最懂得抽象的，她的唱词里面抽象出了媳妇 A 和媳妇 B 的一些共有属性，在另一个下午，她又可以用同一套唱词和那个之前不在场的媳妇一起再唱一次。现在这一代人独生子女成为主流，如果我不记录下来，大家应该很难再见到这样精彩的戏码了。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="男性对于女权主义的态度敌视或�者捧杀">男性对于女权主义的态度：敌视或者捧杀<a href="https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex#%E7%94%B7%E6%80%A7%E5%AF%B9%E4%BA%8E%E5%A5%B3%E6%9D%83%E4%B8%BB%E4%B9%89%E7%9A%84%E6%80%81%E5%BA%A6%E6%95%8C%E8%A7%86%E6%88%96%E8%80%85%E6%8D%A7%E6%9D%80" class="hash-link" aria-label="男性对于女权主义的态度：敌视或者捧杀的直接链接" title="男性对于女权主义的态度：敌视或者捧杀的直接链接">​</a></h2>
<p>最近两年，中国有两个忽然出现的顶流明星：谷爱凌和丁真，然而他们却在互联网上受到了群嘲，网民们乐此不疲地制作了很多“一眼丁真”的表情包，夜以继日扒出谷爱凌的众多“黑料”。仔细观察一下就会发现这些网友多半都是男性，所以分析这件事情，大致可以了解到男性对女权主义崛起的态度。首先说说丁真，这些男性声称自己黑他的主要原因是他大字不识一个，单靠漂亮的脸蛋就登上了央视和联合国的讲台，总结起来就是一个德不配位。但是这种说法不过是这些男性自欺欺人罢了，在我们的社会上，有很多小学学历、初中学历就成为大企业家或者身居高位的人，在面对这些人的时候，他们往往会说“读书不是衡量一个人能力的唯一标准，很多硕士博士读书读呆了还不如初中生”。丁真受到男性群体的攻击，更本质的原因是他的出现让男性从改变世界的主体矮化成了一个供女性观赏玩乐的客体，他没有自己的思想，但是他有迎合女性的漂亮脸蛋，从这个意义上讲丁真就是男性群体当中的叛徒，男性自然会群起而攻之。再来说说谷爱凌，她拥有闪亮的履历，热爱的事业，勇敢无畏的冒险精神，同时她又拥有家族巨额财富的继承权，她没有乖乖地做一个被观赏的被占有的客体，而是把自己“拔高”成为主体侵占了这些传统意义上男性专属的美德和权利，对于这样一个“富有攻击性”的人，男性群体不攻击她才是不科学的。从这个案例便可以窥见男性对女权主义崛起的敌视。</p>
<p>为了让女权主义赶紧销声匿迹，足智多谋的男性除了直接表现出仇视之外，还有另一种态度就是捧杀。这里我就不得不提我的家乡蜀国，在蜀国的婚姻习俗当中，“耙耳朵”（蜀国方言，代表怕老婆）是大部分蜀国男人的人设，跪搓衣板、挨骂、上交工资卡、向妻子讨钱买烟是他们生活当中的常态。这种男性的形象让那些不能上桌吃饭的山东女人直呼羡慕，而我现在看到这些男人，真的想一脚把他们踢到粪坑里，并不是我害怕他们助长的这些风气会让我也难逃跪搓衣板的厄运，而是因为我看穿了他们的阴谋，这种看起来非常滑稽的表达对妻子的爱的方式，实际上是阴险的捧杀。</p>
<blockquote>
<p>巴尔札克表示：「已婚妇女是个必须把她扶到王位上的奴隶。」在无关紧要的小事上，男人要抹除自我，要以女人的意见为意见，把她摆在第一位。</p>
</blockquote>
<p>他们在无关紧要的小事上面吹捧顺从自己的妻子，让她飘飘然忘乎所以，而使得她们在真正的大事上面则是疏忽大意或者心怀歉意地放弃了自己的发言权。同时这也使得女性被塑造成了蛮不讲理的形象 (点名央视春晚)，进而导致社会舆论偏向于男性的一方，当一个蜀国女人被打得鼻青脸肿在外面哭哭啼啼的时候，周围总会有人说“我看他平时那么温柔一个人，是不是你话说重了”。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="未来社会的畅想">未来社会的畅想<a href="https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex#%E6%9C%AA%E6%9D%A5%E7%A4%BE%E4%BC%9A%E7%9A%84%E7%95%85%E6%83%B3" class="hash-link" aria-label="未来社会的畅想的直接链接" title="未来社会的畅想的直接链接">​</a></h2>
<p>在今天的中国，女性的境遇相对于波伏娃年轻的时候已经有了一定的改善，人为选择胎儿性别已经被法律禁止，明面上的男女同工不同酬已经消失，越来越多的女性能够靠着自己的工作过上独立自主的生活。但是暗地里的同工不同酬依然存在，这其中最主要的一个因素就是女性的生育行为。《圣经》断言：“你生产儿女必多受苦楚”，这种生产本身的痛苦因为麻醉药的广泛使用一定程度上被消除，但是生育后的女性本身需要很长时间的恢复，才能重返工作岗位；而照料出生的幼儿则需要花费女性长达数年的大部分精力；这两点让女性在工作上面投入的精力大大减少，做出成绩也是难上加难，企业也会因此而偏向于拒绝给女性提供工作机会。</p>
<p>生育是对于整个国家有重要意义的事情，那么自然而然的国家应该为此而付费。所以知名左派媒体人马前卒曾经多次提及要建立国家级别的社会化抚养体系，女性生下孩子后，不需要耗费精力养育他，而是把他送到社会抚养机构里面，自己则可以继续专注于自己的工作和事业。这样一个方案听起来是美好的，将养育孩子这样一个事情交给专业的人士去做，养育出来的后代也许会有更高的质量，这种细化的分工也是在提高整个社会的运行效率。但是它也可能会导致传统家庭关系的瓦解，父母和孩子之间不会再有亲近的情感，考虑到我们是社会主义国家，而家庭是私有制财产的最小单位，瓦解家庭一直都是马克思同志的梦想，所以这个方案很可能会在未来成为现实。</p>
<p>有了社会化的抚养机构之后，女性唯一面临的痛苦就是生育对自己身体造成的伤害。正如历史上洗衣机、电饭锅等等电器的发明把女性从繁杂耗时的家务当中解放出来一样，要解决这一个问题，自然可以发明一个“生娃机”出来。未来的人类生育过程很有可能是通过试管制造受精卵，然后放入一个循环流动着营养液的塑料袋里面，受精卵将会在这个塑料袋里，经历鱼、蝌蚪、爬行类、哺乳类的形态变化，在时间到达 40 孕周的时候通过中国邮政邮寄到父母的家中，而这些父母则使用剪刀剪开塑料袋，拍摄一个开箱视频发在哔哩哔哩上面，庆祝新生命的到来。这多少会让人担忧因此而出现的众多的伦理危机，比如我们会模糊一个婴儿和一个真空包装的麻辣兔头之间的界限，但是有这种担忧并不意味着那一天就不会到来，就好像你爷爷担忧的事情很多都正在发生一样。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="精彩句子摘录">精彩句子摘录<a href="https://xigou.github.io/zh-CN/blog/2023/02/05/The-Second-Sex#%E7%B2%BE%E5%BD%A9%E5%8F%A5%E5%AD%90%E6%91%98%E5%BD%95" class="hash-link" aria-label="精彩句子摘录的直接链接" title="精彩句子摘录的直接链接">​</a></h2>
<p>第二性 合卷本 - 波伏娃</p>
<p>───────────────</p>
<p>◆ 引言</p>
<p>▪ 某一类的人在一段或长或短的期间全然统辖另一类的人，这样的事例也是有的。这种不平等常常是由彼此数量上的差距造成，人口占多数的族群会强制少数族群遵行它的法则，或是多数会迫害少数。可是女人并不属于少数族群，和美国的黑人，或是和犹太人的情况不一样。女人和男人在这世界的人数几乎相同</p>
<p>▪ 「男人—封建君王」会在物质上保障「女人—忠君之臣」的需求，而且会让女人的存在具有正当性；这使女人避开了经济上的风险，也避开了自由独立要冒的形上风险，因为自由独立必须自行构想其目的，不会有外援</p>
<p>▪ 主宰阶层会多少发自内心的满口颂赞「好黑人」的美德是天真无邪、孩子气、满脸笑容，是做个顺服的黑人，而「真正的女人」的美德是，肤浅、稚气、没责任感，做个只对男人事事顺服的女人。</p>
<p>▪ 幸福这个字并没有确切的意涵，更看不出来它有什么真正的价值；我们根本没有办法衡量别人幸不幸福，更何况，要强迫别人处在某境地时，总是会很轻松地向对方说：那样会很幸福；尤其是对那些被迫处在停滞状态中的人，有人总会以「幸福就是安稳、没有变动」为借口，说他们过得快乐、满足。</p>
<p>◆ 第一章 生物学的基本论据</p>
<p>▪ 如果说身体不是物，那么它就是一种处境——处境也就是意味着，我们对这个世界的探取，是对我们的存在的初步构思；而女人比男人柔弱，她的肌耐力没有男人强壮，红血球比较少，肺活量比较小；她跑得比较慢，只能举起比较轻的东西，几乎是不管哪种体力竞赛，女人都无法与男人匹敌。</p>
<p>◆ 第三章 历史唯物论的观点</p>
<p>▪ 「和其他男人发生私情」是已婚女人唯一的防卫之道，以反抗她在家庭中身为奴隶的处境。</p>
<p>▪ 「女人的解放只有大规模参与生产活动、让家庭劳务成为微不足道之事才可能。</p>
<p>▪ 如果人类意识之中没有「他者」这个内在固有的范畴、没有支配「他者」这种内在固有的心理意图，使用青铜器物并不会导致女人受压迫。</p>
<p>▪ 那么要让女人生育，唯一可行之计就是将女人幽禁在某些境地中，让生育成为她唯一的出口；譬如以法律、风俗迫使女人不得不走入婚姻，婚后，又不准她避孕、不准她堕胎，也不容许离婚。</p>
<p>◆ 第三章</p>
<p>▪ 只要有私有财产的存在，就会把妻子的不贞看做是对夫家严重的背叛。</p>
<p>▪ 只要家庭和私有财产是社会不可动摇的基础，女人便会一直彻底受到异化。</p>
<p>▪ 在这里，我们注意到了在整个历史发展中都会发现的一个重要事实，就是抽象的法律条文并不足以界定女人的真实处境，女人的处境主要取决于她在经济上扮演的角色，甚至，抽象的自由与具体的权利经常是此消彼长。</p>
<p>◆ 第四章</p>
<p>▪ 促使父权家庭过渡到真正的夫妻共治家庭的，比较是源自肇始于中世纪的农奴制。农奴和他的妻子家无恒产，他们唯一共同拥有的是住屋，和家用器物的使用权；因此丈夫没有任何理由成为妻子的主宰。</p>
<p>▪ 对工人阶级的女人来说，资产阶级对她们经济上的压迫事态更为重大，以致遮盖了性别不平等的问题，而且经济上的压迫，也让个人丧失了所有的机会。</p>
<p>◆ 第五章</p>
<p>▪ 巴尔札克表示：「已婚妇女是个必须把她扶到王位上的奴隶。」在无关紧要的小事上，男人要抹除自我，要以女人的意见为意见，把她摆在第一位。</p>
<p>▪ 女人的历史完全是男人造成的。</p>
<p>▪ 所以我们必须先描绘男人梦想中的女性形象，因为这个「为男人而存在」的女性形象是影响女人现实处境的一个重要因素。</p>
<p>◆ 第一章</p>
<p>▪ 她在男人眼中是最恰当的中介，介于他的同类与异类之间，她一方面等同于他，另一方面又如同大自然一样，与他有别</p>
<p>▪ 有些女人是奴隶，但是历史上也一直都有自由的女人，这指的便是那些因为宗教信仰、因为社会地位而受到尊崇的女人，但这些女人尽管拥有自由，她们还是承认男人的主权，男人并不觉得她们会起而反抗他、威胁他，转而将他设立为客体。女人也就因此一直是非本质者，永远不可能回返为本质者，她永远是绝对的「他者」，没有转化的余地。</p>
<p>▪ 男人一直有个梦想，就是将女人「打上烙印」，让她永远属于他所有；不过就连最自傲的男人都很清楚，女人最终只会在他心里留下回忆，最真实的感官滋味之代价往往是：即使记忆中最炙烈的影像到头来都只成冰冷。整个文学都在述说男人这种挫败。</p>
<p>▪ 因此对于女人，不管她是情人，或是母亲，男人最珍视与最痛恶的是，她始终带有动物性的一面，她的存在始终和不可或缺的基本生存有关，而这也使得她注定是有限性之存有，注定要死亡。</p>
<p>▪ 在她是属于他所有时，他爱她，但在她是「他者」时，他畏惧她；不过就因为她是可畏的「他者」，男人更加想要将她据为己有；正因为这样，男人会渐次将女人提升为一个有尊严的人，并承认她和他是同类。</p>
<p>▪ 富有的男人会以毛裘、珠宝来装扮自己的妻子；小康之家的男人会夸说自己的妻子贤良有德，持家有方；而贫穷的男人如果能有个女人服侍他，就会认为自己在世上也拥有一点财物。</p>
<p>▪ 男人彻底奴役了女人，不过如此一来也一并剥除了她身上那种让人想要拥有她的魅力。女人并入家庭、社会以后，她的神奇魔力并没有化为其他的面貌，反而可以说是散失殆尽；女人这时被贬抑为女仆，不再被看做是未驯服的猎物，或是蕴含在大自然中各种宝藏的化身。</p>
<p>▪ 不过我们掌控在手中的往往会反过头来支配我们，所以后来婚姻也奴役了男人；他落入了大自然设下的陷阱里：男人为了想要拥有青春正盛的年轻女孩，落得后来必须一辈子赡养丰满肥厚的老女人，或是干瘪赢弱的老太太；本来是用来妆点女人的金珠宝玉，到头来反而成了丑陋的负担；苏格拉底的老婆赞西佩始终是男人最畏惧的女人典型 (注一三七 (原注) 在古希腊和中世纪时期，许多悲哀叹息都以此为主题。)。</p>
<p>▪ 只有婚姻制度不存在了，在婚姻之外的情事才会随之消失。因为婚姻的目的多少是在于，让男人对「自己的」妻子免疫，不过其他女人在他眼中仍然具有强烈的吸引力；他自然会将焦点转移到其他女人身上。</p>
<p>▪ 女人必须保持神祕低调、陌生而未知，以便男人将她当做是远方国度的公主爱慕她。</p>
<p>◆ 第一节 蒙特朗，以憎恶为粮</p>
<p>▪ 一个人自以为很了不起时，还真是有理由可以鄙视他人！只要审查他人、疵议他人，就足以让他觉得自己和自己谴责的人有所不同；只要指出他人的毛病，就可以让自己轻轻松松变清白。蒙特朗一生是多么陶醉在鄙视他人这件事上！只要说别人是愚蠢的，就足以让他认为自己是聪明的，说别人是懦弱的，就足以让他认为自己很勇敢。</p>
<p>◆ 第二卷 实际经验</p>
<p>▪ 身为女人真是不幸！然而女人自己一点也不会意识到这是个不幸
——齐克果</p>
<p>女人半是受害者，半是共犯，一如所有的人。
——沙特</p>
<p>◆ 第二章 少女</p>
<p>▪ 她会穿低胸的衣服、袒露大腿，但只要有人看她，她便会羞红脸，生起气来。她会故意去挑逗男人，但一发现自己在他身上引起了欲望，她又会非常厌恶，远远避开。男人的欲望对她是恭维，同时也是冒犯。</p>
<p>▪ 她有欲望的肉体不再是污秽不洁的，它是欢愉，是美。与天空与原野融为一体的她是激发万物、鼓动万物的那一缕气息，她也是欧石南每一株岔生的茎;她深深植根于大地的个体，是永无止限的意识，她既是「精神」又是「生命」;她的存在是必然的，是带着胜利之姿的 ,一如大地。</p>
<p>▪ 她很诚实地表示，她再也不会跟以前的女性朋友那么要好，因为对那些太丑太笨的，她讨厌，对那些太漂亮的，她有戒心。</p>
<p>◆ 第七章 社会上的人际往来</p>
<p>▪ 男人与男人交流是个体与个体各自以个人的想法、计划进行交流;女人与女人则是封闭在女人命运的普遍概括性中，彼此带着存在内向性的默契结合在一起。一开始，她们在对方身上寻找的是，确立她们共同拥有的世界。她们不会争议各自不同的观点，她们只会交换心事，分享食谱;她们要联合起来创造一个「对反的世界」,这个对反世界的价值要胜过男性世界的价值</p>
<p>▪ 不过女人之间的情谊很少成为真真正正的友谊;虽然，女人和女人更能自发地团结在一起，比男人和男人为甚，但是在这种团结一气中，个个女人都不是往另外一个女人超越，而是一起转向</p>
<p>▪ 女人之间的关系不是建立在自我个体的独特性上，而是直接在广泛概括性中经历，因此女人往往会对其他女人有敌意。</p>
<p>▪ 总之，婚外私情、朋友情谊、人际往来只不过是婚姻生活中的插曲，既无法帮助女人承担起婚姻中的束缚，也无法解开这层束缚。这些都不过是逃避，无法让女人将自己的命运真正掌握在自己手中。</p>
<p>◆ 第八章 妓女与交际名媛</p>
<p>▪ 在战争期间，没有人会像高级妓女这么激切地展示爱国心;她们自以为有高贵情操，希望藉此行动让自己表现得像公爵夫人一样。她们在公共议题上发表的言论，在在是俗见、成见、陈腔滥调，连表达的情感都很俗套，往往心底连一丝真诚都没有。她要不就谎话连篇，要不就夸夸其谈，内容完全没意义。交际名媛一辈子都活在自我炫耀里，她的谈话、她的模仿行为目的不在表达她的想法，而是为了制造效果。</p>
<p>◆ 第九章 从熟龄到老年</p>
<p>▪ 老妇人的智慧无论是让人愉悦的或是辛酸苦涩的，仍然是负面消极的，因为这些智慧都带着抗议、指责、拒绝的性质，是一种结不出果实的智慧。</p>
<p>◆ 第十章 女人的处境与特征</p>
<p>▪ 大家所谓的「女人的敏感」有一部分是源自于女性迷思，另一部分则来自于女人故做姿态;不过女人比男人更留意自己，也更留意世界，所以会更敏感，这也是真的。</p>
<p>◆ 第十二章 恋爱中的女人</p>
<p>▪ 通常，她寻求的是确立了男性优势地位的男人;她很快就会发现很多男人一样是随机偶发的、属于凡尘的，让人可悲</p>
<p>▪ 男人幸运之处在于，从小到大，他都必须走上一条艰苦的道路，但这却也是一条最可靠、稳当的道路;女人不幸之处在于，种种难以抗拒的诱惑总是园绕在她身边，事事物物都诱使她走上最轻省的道路;大家总是跟她说，只要让自己随波逐流，就可以到达极乐天堂，而从来不曾要她为自己的人生奋斗;当她发现婚姻只是一场幻影时，已经来不及了;她已经在婚姻这场冒险中耗尽了力气。</p>
<p>▪ 在许多女人的爱情中都带有这种童年之梦;女人很喜欢情人称她是「小女孩」、「我心爱的孩子」;男人都懂得这些讨好的话:「你看起来像个小女孩」,这种话最容易打动女人心。</p>
<p>▪ 她总爱问男人：你爱我吗？和昨天一样爱吗？你会永远爱我吗？这等于是迫使男人对她撒谎。</p>
<p>◆ 第十四 章独立的女人</p>
<p>▪ 二十年来的等待、梦想和希望，早已使男人是解救者的迷思深植年轻女人心中，其后，她虽然从工作里得到独立自主，但这并不足以消除她想要弃绝自我的欲望。</p>
<p>◆ 结语</p>
<p>▪ 婚姻也会是建立在你情我愿上，而且任一方都能随时提出离婚;生儿育女也会是出于自由意愿的抉择，也就是说避孕、堕胎都是合法的，而且无论是结婚生子的母亲或是未婚妈妈、无论是婚生子女或是非婚生子女都享有同等的权利;工作妇女会享有支薪的产假，会有公立机构负起照顾幼儿的责任，但这并不表示要从父母身上夺走孩子，而是不让育儿的责任完全推卸给父母。</p>
<p>▪ 人的责任是让自由意识来统辖他所属的这个既定世界;而为了赢得这个终极的胜利，最不可或缺的是：男人、女人要超越性别的自然差异，彼此切切实实地携手建立友爱情谊。</p>
<h1>Refs</h1>
<p><a href="http://rdbk1.ynlib.cn:6251/Qw/Paper/453187" target="_blank" rel="noopener noreferrer">他者 - 中国人民大学复印报刊资料</a></p>
<p><a href="https://m.huanqiu.com/article/9CaKrnJkq02" target="_blank" rel="noopener noreferrer">1955 年，存在主义大师萨特在北京过国庆</a></p>]]></content:encoded>
            <category>philosophy</category>
        </item>
        <item>
            <title><![CDATA[赛里斯春节哲学：回埃及记、逼婚、三劝进]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/01/19/lunar-new-year-philosophy</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/01/19/lunar-new-year-philosophy</guid>
            <pubDate>Thu, 19 Jan 2023 09:35:04 GMT</pubDate>
            <description><![CDATA[前注：之前有部分读者向我询问赛里斯是什么意思，所以有必要解释一下，赛里斯代表的是丝绸，和瓷器一样是古代的中国最重要的贸易物资，所以赛里斯也指代中国，是一个比瓷器更优雅的名称。使用赛里斯指代中国，最大的好处就是让自己获得了一个第三人称的视角，在使用“中国”这个词汇的时候，你潜意识内总会不忍心批判它，生怕批判的火焰烧到自己的身上。]]></description>
            <content:encoded><![CDATA[<blockquote>
<p>前注：之前有部分读者向我询问赛里斯是什么意思，所以有必要解释一下，赛里斯代表的是丝绸，和瓷器一样是古代的中国最重要的贸易物资，所以赛里斯也指代中国，是一个比瓷器更优雅的名称。使用赛里斯指代中国，最大的好处就是让自己获得了一个第三人称的视角，在使用“中国”这个词汇的时候，你潜意识内总会不忍心批判它，生怕批判的火焰烧到自己的身上。</p>
</blockquote>
<p>再过几天，就是赛里斯人民最盛大的春节了，数亿的出生于乡村的赛里斯人会从四面八方回到自己的家乡，这些在城市里被异化了一整年的人，如果没有好的思想武器武装自己，回到那片土地，多半只能瞪大了眼睛好奇地打量周围的世界，多少有点格格不入。所以我想从几个最典型的议题入手，找出赛里斯乡村生活当中的一些形而上的东西，帮助大家武装自己的思想，从那些乡村生活中的瞬间体味出当中的趣味。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="归途赛里斯人的回埃及记">归途：赛里斯人的“回埃及记”<a href="https://xigou.github.io/zh-CN/blog/2023/01/19/lunar-new-year-philosophy#%E5%BD%92%E9%80%94%E8%B5%9B%E9%87%8C%E6%96%AF%E4%BA%BA%E7%9A%84%E5%9B%9E%E5%9F%83%E5%8F%8A%E8%AE%B0" class="hash-link" aria-label="归途：赛里斯人的“回埃及记”的直接链接" title="归途：赛里斯人的“回埃及记”的直接链接">​</a></h2>
<p>对于许多人来讲，在春节期间回到家乡的路程，是遥远的、艰难的、痛苦的。数百到数千公里不等的路程，由硬座火车，飞机，高铁，黑车甚至是摩托车等一种或者多种交通工具接力完成，当然还少不了在寒风中等待下一程白天和夜晚。最近这些年由于家庭汽车保有量的上升，许多人甚至选择亲自驾车数千公里回家，这样的毅力确实让人佩服。</p>
<p>以色列人出走埃及是为了到达流着奶和蜜的土地，而赛里斯人踏上这么一段艰苦的旅程，却是为了到达一个更加贫瘠而无趣的地方，其中的很重要的一个原因就是被称为孝道的一种思想在指引着他们。这一思想让他们把那个一年只能居住七天的地方称为家，而过年需要回到家则是他们那绝对权威的父亲给他们下达的任务。即使他们回到家里也不过就是像蚂蚁一样漫无目的窜来窜去，和并不熟悉的亲戚尴尬的聊天，无休无止的暴饮暴食，绞尽脑汁搜刮着脑袋里为数不多的词汇拼凑出几句违心的并没有什么作用的冠冕堂皇的话语。沉浸其中的人，或许会时而兴奋时而沮丧，时而信心满满，时而坐立难安。而观察着这些的局外人，则如同看着一台喇叭坏掉的电视机里面的节目一般，感到滑稽。</p>
<p>但是回到家乡过年就真的一无是处吗？也不尽然。仔细观察位于农村的“家”: 有带庭院的房子、人与自然和谐相处的广阔空间、静谧的夜晚、过分热情而没有边界感的”土著居民“… 这一切和美国人在夏威夷购买的度假别墅是那么的相像。所以只要你把这里也当成是属于你的夏威夷，一切就变得充满趣味。</p>
<p><img loading="lazy" src="https://imgur.com/1MvZBid.png" alt="Imgur" class="img_ev3q"></p>
<blockquote>
<p>图：笔者在夏威夷山区度假</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="逼婚浅论赛里斯的婚姻习俗">逼婚：浅论赛里斯的婚姻习俗<a href="https://xigou.github.io/zh-CN/blog/2023/01/19/lunar-new-year-philosophy#%E9%80%BC%E5%A9%9A%E6%B5%85%E8%AE%BA%E8%B5%9B%E9%87%8C%E6%96%AF%E7%9A%84%E5%A9%9A%E5%A7%BB%E4%B9%A0%E4%BF%97" class="hash-link" aria-label="逼婚：浅论赛里斯的婚姻习俗的直接链接" title="逼婚：浅论赛里斯的婚姻习俗的直接链接">​</a></h2>
<p>赛迪斯人的婚姻要分两个层面来看，一个是社会意义上的婚姻，使用婚礼作为其隐喻是再恰当不过的；另一个则是小家庭意义上的婚姻。</p>
<p>赛里斯人对于婚礼非常讲究，古代有三媒六聘、八抬大轿，吃席有几酥几扣凑出来的“十大碗”，处处都是讲究。现代社会以来，随着经济的发展，婚礼变得越来越浮夸，有搞得像演唱会一样的婚庆，就是为了满足那些从小看台湾偶像剧长大的女性脑袋里的不切实际的幻想；有游街示众的豪车车队，即使自己只买得起马自达，车队领头也必须是 BBA, 车辆的数目必须是双数，在数公里甚至数十公里的迎亲的路上，车队必须以小于交通法规规定的最小跟车距离紧紧跟着，防止别人加塞，因为那样寓意着婚姻里第三者的出现。照着这个趋势发展下去，在未来的星际时代，一个平凡的午后，M78 星云的奥特曼家族正在吃着火锅唱着歌，忽然来了八个 Space X 牌火箭，箭头紧贴着前方火箭焰尾呼啸着冲过去，奥特曼家族如临大敌正准备发射光波武器反制，接通无线电信号后才发现是赛里斯人结婚了。</p>
<p><img loading="lazy" src="https://imgur.com/r8DPyKY.png" alt="Imgur" class="img_ev3q"></p>
<blockquote>
<p>图：星际时代的赛里斯迎亲队伍概念图</p>
</blockquote>
<p>赛里斯人结婚的仪式这么讲究，那他们结婚之后一定很幸福吧？其实不然，因为他们对结婚的仪式很讲究，而对婚姻本身却没有太多的思考。</p>
<p>对于政治家来讲，美满的婚姻是树立自己良好公众形象的工具，所以有很多的政治家在自己的婚姻里面三心二意，却不愿意离婚；有个别的政治家因为特殊原因离婚了，也会想尽办法控制媒体，不允许报道他离过婚的消息。对很多随波逐流的普通人来讲，婚姻可以是人生的一个不容置疑的必须的任务；可以是“门当户对，强强联合，勇攀高峰，再创辉煌”的财富整合；对无数的父亲母亲来讲，子女的婚姻则是让他们免于遭受嘲笑的“防嘲垫”。在赛里斯人的眼里，婚姻是工具而不是目的，它可以是很多东西，但无论如何都不是婚姻本身。</p>
<p>每次一到春节前夕，所有的互联网媒体，都充斥着各种逼婚的段子或者新闻，也有不少人能够亲身经历父母的逼婚。为什么赛里斯的父母会这么热衷于逼婚？有很多种说法，诸如“惧怕被老伙计们嘲笑”、“想要传宗接代”之类的俗套的观点本文暂且不谈，我是一个不走寻常路的人，所以我今天就要来搞点歪理邪说，好好的剖析一下这里面的人物心理。</p>
<p>首先分析一下在逼婚这个行为当中父母的动机。父母实质上和子女的婚姻关系并不大，并不会从中收获太多正面的影响，很多父母在孩子的婚姻当中往往是出钱出力，最终被挂在豆瓣群组里面批判一番；有部分父母还会因为”掏空六个钱包“这类的社会新风潮而大亏一笔。为什么他们还热衷于这样一件吃力不讨好的事情？要弄清这个问题的答案，还得从赛里斯的传统文化入手，有句古话“养儿方知父母恩”，这句话含义非常丰富，首先他暗示了父母是带着希望你感恩他们的目的而生下你；其次等子女有了后代之后自然就会深刻的体会到父母的恩情。所以父母的逼婚，很可能是希望你尽快感恩。</p>
<p>养儿方知父母恩作为逼婚的理论基础这个观点，还有两个疑点。第一点是，为什么父母想让你报恩不是选择直截了当的告诉你，而是要拐弯抹角的通过逼你结婚这样一个大动作，来让你主动的感恩。这其实不难理解，赛里斯的文化永远在教导人们要被动地等待自己的幸福，而不是主动去追求，在赛里斯的西南地区有一句民间谚语叫“不请自来客”，描述的就是在别人没有邀请你的时候你就去吃席的场景，是一种很丢脸的行为。</p>
<p>第二个疑点是为什么子女在有了自己的后代之后，就会深知父母的恩情呢？要探究它的原因，首先我要追问的是一个人从不知道感恩到知道感恩这样一个转换发生的具体时间。“养儿”这一个词语是一个时间非常模糊的词汇，他指的到底是受精卵开始发育、胎儿分娩完成、还是指的小孩上幼儿园或者上了大学？这每一个时刻看起来都没有和知道感恩父母之间有什么非常强的关联。在苦苦思索很久之后，我才发现时间并不是这个转换的关键，养儿这样的一个词语，蕴含着一个身份的变化，当一个儿子结婚生子之后，他将会拥有一个父亲的身份。而从不知道感恩转换到知道感恩的奇妙变化，就发生在这个新身份出现的时刻，在自己已经成为父亲之后，没有理由不去支持一个把感恩父亲作为纲领的理论。但同时又有一些奇怪的现象，这些同时拥有父亲和儿子两个身份的人，在作为父亲的时候，则满口是仁义道德三纲五常；在作为儿子的时候，就患上了失忆症，不再提感恩这样形而上的东西。在意识形态上，我们经常会提起一个词语叫“马克思主义的赛里斯化”，但事实上，应该是马克思主义来到赛里斯过后，大声地感慨“他乡遇故知”，这对立统一的思想，在赛里斯早就已经存在了数千年之久。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="三劝进赛里斯春节的至高哲学">三劝进：赛里斯春节的至高哲学<a href="https://xigou.github.io/zh-CN/blog/2023/01/19/lunar-new-year-philosophy#%E4%B8%89%E5%8A%9D%E8%BF%9B%E8%B5%9B%E9%87%8C%E6%96%AF%E6%98%A5%E8%8A%82%E7%9A%84%E8%87%B3%E9%AB%98%E5%93%B2%E5%AD%A6" class="hash-link" aria-label="三劝进：赛里斯春节的至高哲学的直接链接" title="三劝进：赛里斯春节的至高哲学的直接链接">​</a></h2>
<p>在赛里斯的封建时代，有许多贵族想称孤道寡，但是又不好意思明说。一些善于揣摩上意的人，就会上劝进表。如果某人一收到劝进表就称帝，这样也会显得过于刻意，所以劝人当皇帝，有严格的程序，要三劝三辞，最终是盛情难却、万不得已才当了皇帝。我们用“三劝进”这个词语来代指这种有趣的现象。</p>
<p>那这个位于庙堂之上的“三劝进”，对于解释处江湖之远的老百姓的生活到底又有什么指导意义呢？如果社会是一个庞大的结构，那我愿意用分形几何来比喻它，分形是数学当中的一种美妙图形（也可以是基于集合论的更抽象的结构），它的特点是不管你如何放大，它的结构都是相似重复的。而我们的社会也是这样，大的层面上皇帝登基需要三劝进，再往下省长，县长，村长以及每一个个体都在践行这样一个至高哲学。</p>
<p><img loading="lazy" src="https://imgur.com/p8PS7Ws.gif" alt="Imgur" class="img_ev3q"></p>
<blockquote>
<p>图：The Mandelbrot Fractal，被称为“上帝的指纹”的曼德勃罗集</p>
</blockquote>
<p>小时候，过年走亲戚的时候，明明我的父母在出发之前就已经盘算好了对方大概会给多少红包。但真到了给红包的时候，父母却教育我要再三的推辞最后收下。这几个来回的假惺惺的推辞和拉扯，和我直接欣然接受相比结果是完全一样的，但是过程上却浪费了无数的 ATP（一种细胞内能源物质）, 不知道得吃几口大米饭才能补回来。这对于整个社会来讲都是一个不经济的行为，而春节期间会集中爆发数十亿次的此类行为，如果把这些能量都节约下来，造一艘航母估计不成问题。</p>
<p>在赛里斯春节的饭桌上，有美酒有美食，在这个美好欢乐的氛围当中，小酌两杯是在所难免的。当开出一瓶好酒来的时候，大家明明都非常想认认真真品品它的味道，但是他们却不甘于共同举杯庆祝，而是要在这个餐桌上分出个三六九等，形成一个桌子上的帝国体系，等待着别人来敬酒。当别人倒酒的时候，无论你酒量如何，你都要不断的说“够了够了够了，不要再倒了”，即使你知道最终还是会倒上满满的一杯，因为赛里斯有一句古谚语叫“酒满敬人，茶满欺人”。如何接受敬酒又是一门大学问，你要先皱着眉头说“你这话说的不好听，我不跟你喝”，等话语纠正过来又说“你这事儿做的不对，我不跟你喝”，最终来来回回推辞数次，两杯酒下肚，这场令人尴尬的表演才算结束。不过这一招只能对在家庭这个帝国当中处于你下级的人使用，如果你对位于你之上的人使用，那你就离被逐出家门不远了。</p>
<p>在上一个逼婚的话题当中，我尚未分析被催婚的人，也就是作为子女的到底是什么样的心态。一开始我以为他们对于逼婚是深恶痛绝，但是在看到互联网上发布的那么多的配着欢快的音乐，同时里面的人还嬉皮笑脸的短视频，我就知道事情不是那么简单。赛里斯人最大的一个特点就是口是心非，比起主动表达自己的意图，他们倾向于选择永远等待着别人来“三劝进”，他们用信奉不婚主义来掩饰着自己没有被爱的尴尬，他们在社交网站上留下“期待入室抢劫的爱情”这样搞笑的签名。而逼婚这个行为对于他们来讲就是劝进，想要主动去追求自己的爱情害怕被辜负，想要被爱又没有足够好的运气，年龄增大、朋友的减少和内心的贫瘠让他们困顿于孤独之中。对着父母的劝进，实际上他们是期待着的，期待着能够从天而降一个父母体制内、孩子开大奔、省城有套房的理想对象。但是在这从天而降的幸福到来之前，自己不能显得太配合太渴望，一定要遵循劝进哲学中的三劝三辞的基本原则。对于这种奇怪的现象，我这边建议过春节的时候还是多吃点菜，不要光喝酒。</p>
<p>Refs：</p>
<p><a href="https://zhuanlan.zhihu.com/p/157233723" target="_blank" rel="noopener noreferrer">"十大碗"最正牌的做法</a></p>
<p><a href="https://theconversation.com/spacex-vs-nasa-who-will-get-us-to-the-moon-first-heres-how-their-latest-rockets-compare-154199" target="_blank" rel="noopener noreferrer">SpaceX vs Nasa: who will get us to the Moon first? Here's how their latest rockets compare</a></p>
<p><a href="https://zh.m.wikipedia.org/zh-sg/%E5%88%86%E5%BD%A2" target="_blank" rel="noopener noreferrer">分形 - 维基百科，自由的百科全书</a></p>
<p><a href="https://chinadigitaltimes.net/chinese/564560.html" target="_blank" rel="noopener noreferrer">知乎专栏｜马伯庸：穿越回古代怎么写好一份劝进表</a></p>]]></content:encoded>
            <category>abstract</category>
        </item>
        <item>
            <title><![CDATA[2022 年底随想]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2023/01/02/annual-review</link>
            <guid>https://xigou.github.io/zh-CN/blog/2023/01/02/annual-review</guid>
            <pubDate>Mon, 02 Jan 2023 09:35:04 GMT</pubDate>
            <description><![CDATA[2022 年结束了，我想我也应该写一点什么，纪念一下。比起那些年轻有为的人，我列不出长长的一串书单，一系列的项目成果，一堆的人生大事来展示自己这一年的精彩，我的人生过得颇为平淡，以至于我拿起笔的时候都不知道应该写什么东西。所以就这样吧，让我的思维随机游走，回忆一下自己这一年的一些思想碎片吧。]]></description>
            <content:encoded><![CDATA[<p>2022 年结束了，我想我也应该写一点什么，纪念一下。比起那些年轻有为的人，我列不出长长的一串书单，一系列的项目成果，一堆的人生大事来展示自己这一年的精彩，我的人生过得颇为平淡，以至于我拿起笔的时候都不知道应该写什么东西。所以就这样吧，让我的思维随机游走，回忆一下自己这一年的一些思想碎片吧。</p>
<p>今年我辞去了我的第 1 份工作，从北京搬到了深圳。相对于北京，深圳有着更好的空气，更温暖的环境，更明媚的自然景色，这一点令我很是喜欢。北方的冬天是漫长的，天空是阴霾的，在小半年的时间只能看见枯黄的草和光秃秃的树枝，仿佛抽根烟就能把整个北京点了。这样的天气总是会让人感到压抑苦闷，来到深圳之后，我住在离海边只有一两公里的地方，每当无聊的时候我就会去看看海，金色的夕阳总是会让我感到放松。工作方面我并没有做出什么漂亮的成绩，我只能给自己打 50 分，希望以后能够更加努力一些吧。</p>
<p><img loading="lazy" src="https://imgur.com/UdBg2f7.jpg" alt="fore_bay_sunset" class="img_ev3q"></p>
<p>今年因为结石病，我体验了人生第一次全麻手术，一举达成了最高等级的孤独成就：独自一人做手术。其实也不完全是独自完成，我的好友得知以后专程去医院照顾我，但是因为核酸过期而被关在门外，手术后他新做的核酸结果出来了，得以进入病房陪伴了我一段时间，我真的真的非常感谢他，我会永远爱他。在医院排队等待手术的时候，由于止痛药的剂量不够，疼痛依然在折磨着我，而当时我已经一天一夜没有好好睡觉，处于崩溃的边缘。所以那是我今年第 1 次大哭，后来护士小姐姐给我加了更多的药，我才安稳的睡了一晚。那一刻我觉得我仿佛回到了婴儿的状态，只是单纯想要通过哭泣来表达自己的意图，我也意识到了，人在病痛面前会变得不堪一击。其实全麻手术的体验还是挺好的，麻醉药物进入静脉以后很快人就会和死去一样完全失去知觉，等再度醒来的时候，医生就已经完成手术了。在被麻醉之前，我一直在想，如果我不会再醒来的话，会因为什么而遗憾呢？想来想去也没有想到什么答案，药物生效让我停止了这个无聊的想法。</p>
<p>刚刚工作了一年多的我，生活就已经开始在痛苦和无聊之间反复摇摆了，今年一整年，我在 steam 平台只玩过两款游戏，CSGO 和星露谷物语，游戏时长也非常的少，总体上我几乎没有怎么玩过游戏。每天的生活都是在重复，无休无止的重复，起床、上班、下班、睡觉，唯一能让我觉得完全属于我的时间，就是在上班和下班过程当中塞上耳机，听着自己喜欢的音乐的时刻。我的生活已经开始程式化了，我有一双鞋坏了，我就从网上直接下单购买了另一双一模一样的，感到最难受的时刻就是打开自己的购物记录里面发现曾经买过的衣服下架了，我又不得不花时间再去寻找一款自己喜欢的颜色布料的衣服。</p>
<p>在通信方式上面，我尽量减少了对社交网络的依赖，不再去频繁的更新朋友圈，因为发朋友圈就是为了满足自己的一个分享的欲望，这个行为可以粗略分为把信息发出去和信息被别人看到这两个阶段，实际上我的分享欲望在我把信息发出去的一刻就已经满足了，而科技公司把我分享的东西推送给不知道是否愿意看的人，这个过程不是我能掌控的。所以我选择开了一篇<a href="https://xigou.simple.ink/moments-c16c997ac14a42a4aefb108a081b9b7d" target="_blank" rel="noopener noreferrer">笔记</a>，来记录我任何想分享的碎片信息，我只完成分享这样一个动作，而别人是否看见，别人的反应是如何？我不再在乎。我最近重拾了邮件作为联系方式，交了一些能够通过邮件联系的朋友，我很喜欢这种方式，比起加好友、查户口、约吃饭、索然无味、删除...这种被科技催化加速的沟通方式，邮件让人与人之间的沟通变得慢了下来。发送邮件这么一个过程中产生的信息都是经过一定程度的思考的，在思考如何组织文字的过程当中，也是在整理自己的思绪，这样的交流比起一秒 10 条掺杂着表情包的即时通讯信息有着更高的质量。</p>
<p>今年必须记录的事情，就是众所周知的荒谬大事件。在做了整整八个月的核酸之后，我打算好好写写日记，准备整个系列文章出来记录一下这些生活里的美好细节，为此我还专门修理好了我的博客，收集了很多可以好好写写的素材，结果刚发了没几篇，我所乘坐的大巴车就来了个 361 度漂移大转弯，而我则如同加缪一样因为没系安全带被甩出了车外（1960 年 1 月 4 日，46 岁的加缪没有系安全带被甩出车外，因车祸死亡） . 我曾经问朋友：假设你对面是一个不了解荒谬为何物的人，能不能用我这个理科生熟悉的三段论，定义一下加缪所说的荒谬是什么？他告诉我不能抱着这样的过分的理性思维来阅读加缪。而在今天这个问题显然已经得到了完美的解决，倒不是说我想出了一个绝妙的答案，而是这一通操作已经让荒谬的观念深入人心，在赛里斯已经找不到不懂得荒谬为何物的人了，这个问题的前提已经不成立了，自然就失去了讨论的价值。</p>
<p>今年我彻彻底底的爱上了加缪，因为我从小到大对于自己的生活一直都有着一种奇怪的不自在的感觉，我一直不知道应该如何描述那种感觉。现在我知道了，那就是生活的荒诞，那也是因为我是自己生活完完全全的局外人。我几乎无法真正地融入任何圈子，我总是觉得自己是孤独的，即使和很多人在一起的时候，我也觉得自己是孤独的。当我第一眼看见加缪的照片的时候，我就爱上了他的眼神，如果让我许愿的话，我希望某一天我也能够拥有他那样的眼神。</p>
<p><img loading="lazy" src="https://imgur.com/OjsczN0.jpg" alt="Camus" class="img_ev3q"></p>
<p>生活不会因为新的一年开始就自动做出任何改变，在过去的一年当中感受到的那些荒诞，新的一年依然会重复。客观世界的重复就像一台巨大的运转着的机器，其实我没有办法去作出什么改变，也许我应该从自己的意识入手，改造改造自己的思想，试着从这重复和单调的世界当中去看出点有趣的东西，更应该有意识地留下更多自己的思考的痕迹，随着年龄的增大，我越来越害怕自己这个自己生活的局外人，完全忘记了自己的生活，回忆的时候只能看见一片空白。</p>]]></content:encoded>
            <category>Annual Review</category>
        </item>
        <item>
            <title><![CDATA[长者死了，我的青年时代也死了]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2022/11/30/jiangzemin-dead</link>
            <guid>https://xigou.github.io/zh-CN/blog/2022/11/30/jiangzemin-dead</guid>
            <pubDate>Wed, 30 Nov 2022 09:35:04 GMT</pubDate>
            <description><![CDATA[今日下午，我如往常一样正在麻木地搬着砖，天气阴沉着，因此砖头给我的手带来的触感有些许凉爽，忽然传来长者死了的消息，我放下砖头，坐到一旁怅然若失。]]></description>
            <content:encoded><![CDATA[<p>今日下午，我如往常一样正在麻木地搬着砖，天气阴沉着，因此砖头给我的手带来的触感有些许凉爽，忽然传来长者死了的消息，我放下砖头，坐到一旁怅然若失。</p>
<p>你们听到的消息也许是“敬爱的、伟大的、逝世”等颇具政治高度的词汇，而对于我来讲，他和这个地球上任何智慧生灵必须经历的完全一样：神经系统失去感知能力，组织器官逐渐失效，微生物开始分解他的躯体，他一点点地变成了各种气体、液体、固体，回到孕育他的大自然。简单来说他就是“死”了。对于一个唯物主义者、一个共产主义战士，你给他加再多华丽的头衔都不如实事求是地描述一件事情能够令他感到欣慰。</p>
<p>江泽民先生一生都在追求平等。中国在他的统治之下，从计划经济转变为市场经济，农民可以自由地进入城市，属于中国人特有的种姓制度一定程度上被废除; 他发起了“三年大下岗”活动，减少了铁饭碗的配额，一鲸落而万物生，此后的中国民营经济百花齐放，体制内外获得了更进一步的平等;  在军事外交上，与世界主要大国和睦相处、互惠共赢，带领中国加入了 WTO , 致力于中国人民和世界人民的平等。1986 年，在面对集会抗议的学生时，他当众背诵了美国总统林肯在葛底斯堡发表的著名演说，而那一句“All Man Created Equal”则暗示了他已经将平等当成了他一生的追求。今天，这个追求平等的人的一生画上了圆满的句号，因为法国作家维克多·雨果曾说过“死亡是伟大的平等，也是伟大的自由”, 无论一个人的一生是成功或是失败、是幸福还是痛苦，死亡对于他来讲都是平等的、无法避免的。</p>
<p>江泽民先生是我整个青年时代的精神导师，他的视频我倒背如流，他的书籍和语录早已经在我的大脑中形成了特定结构的神经突触，他在我的人生中担任了某种类似教父的角色。在大学时期，比起名气更响亮的肯德基和麦当劳，我吃快餐只会去华莱士，因为他说过“美国的华莱士，比你们不知高到哪里去了”;  电子游戏方面，我只玩超级玛丽，因为只有这里面的游戏角色能把裤腰带提到胳肢窝; 在阅读专业技术文献的时候，我会尽量阅读英文原版，因为在 1999 年 12 月 31 日，江泽民在组织家族聚会欢度千禧年时，对家人提出了要求：所有人，不论长幼都必须会说英语。人们总以为我这些类似行为艺术的行为，是在调侃他，讥讽他，只有我自己才知道，这一切都源于我对他深沉的爱。</p>
<p>我爱他的幽默风趣，自信豁达。不管你是一个政治家还是一个打工仔，你总会有被质疑的时候，当江泽民在面对香港记者张宝华的质疑他钦定香港特首时，他没有像其他的政治家那样顾左右而言他或者用假大空的官话傲慢回应，而是用中文、英文、粤语、手语四种语言做出了精彩的陈辞，香港记者在听完后心服口服。关于英语学习，他曾说“I think I speak very poor English, but anyway I dare to say. This is very important”，每次在我因为自己的农民英文口音而不敢开口说话时，他说出这句话时自信的笑容总是能够激励我大胆地说出来。在出访夏威夷的时候，为了活跃酒会的气氛，他主动请缨弹奏起了夏威夷吉他，我看完资料片后，不能说是听到了什么天籁之音，只能说是听了个响，但是这却让我更加喜欢他了，在一个世界名流组成的酒局里面，他没有害怕出糗，而是开心地用不太熟悉的弹奏技术为大家助兴，这体现了他的风趣、自信，这正是近年风靡全球的日本心理学畅销书籍《嫌われる勇気》中所推崇的人生态度。</p>
<p>我爱他大公无私，心系苍生。1998 年，中国发生了大洪水，无数的中国人民的生命和财产处在威胁之中，他本可以学习那些腐败的西方国家的政治家，在电视上发表一次精心准备的虚情假意的演讲，然后派出消防部门象征性地营救几天，自己则作壁上观，继续享受荣华富贵。但是他没有，他冒着生命危险奔赴一线，亲自指挥部署抗洪救灾，在大雨中，在泥泞的大坝上，没有补光灯没有音响和麦克风，他拿着现在你只能在收废品的三轮车上看到的简陋的扩音喇叭，发表了振奋人心的演说：</p>
<blockquote>
<p>我们要坚决地坚持到底，坚持奋战，坚持再坚持！我们就一定能够取得最后的胜利。</p>
<p>我们中华民族是有着很强的凝聚力，任何的困难都压不倒我们。中国人民是不可战胜的！</p>
</blockquote>
<p>文字或许读起来很普通，但是在我听过了那一段录音以后，那个声音就一直在我脑海里回荡，每当我学习生活中遇到困难，这些话总是在激励着我前进。</p>
<p>我爱他博学多识，求知若渴，他精通八国语言，出访世界各地的时候，总是能够用当地语言向当地人民送去问候，向世界展示了一个包容的中国形象，他还录制了美国新闻节目 60 Minutes，在节目中与著名记者华莱士对答如流；上海任职期间，他在少年宫里谈论莫扎特和舒曼，和中学生讨论蒙娜丽莎和莫奈的光线，有人批评他学习西方文化是“放洋屁”，意指他应该推崇中国文化而不是西方文化，但是我认为他接纳一切优秀文化的态度，恰恰展现了中国文化最自信的一面。2008 年，已经卸任国家领导职位的江泽民，在中文核心期刊《上海交通大学学报》分别发表了两篇学术论文《对中国能源问题的思考》和《新时期我国信息技术产业的发展》，其中一篇强调了清洁能源的重要性，另一篇则指出了中国信息产业在芯片方面的先天残疾，如今 A 股的芯片和新能源两条赛道的火热、华为事件、中美贸易战无一不印证了其高瞻远瞩，即使是瑞典环保主义者 Greta Thunberg 在他面前也只能说一句：Sir, You Deserve It !</p>
<p>他死了，我也变成了一个年近三十的麻木不仁的中国人，现在的我看到美国马里兰州大巴侧翻受伤的 27 人、那些在澳大利亚山火中死去的许多只考拉、那些在拉面店里被食客夹出来丢弃在桌子上的香菜，看到他们被抛弃被伤害，我再也没有想为他们做点什么的冲动了。我开始向生活中的荒诞屈服，因为我没有江泽民先生那么幸运，一生怀着热血和赤子之心，我只是一个在时代的洪流中随波逐流自身难保的废物，我的青年时代和我周围世界的青年时代，都随着他一起死掉了。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="refs">Refs：<a href="https://xigou.github.io/zh-CN/blog/2022/11/30/jiangzemin-dead#refs" class="hash-link" aria-label="Refs：的直接链接" title="Refs：的直接链接">​</a></h2>
<p><a href="https://www.hndnews.com/p/534152.html" target="_blank" rel="noopener noreferrer">美国马里兰州一大巴车发生侧翻 导致 27 人受伤</a></p>
<p><a href="https://github.com/yehwaipak/moha" target="_blank" rel="noopener noreferrer">https://github.com/yehwaipak/moha</a></p>
<p><a href="https://www.youtube.com/watch?v=8btQ8jbTJ-0" target="_blank" rel="noopener noreferrer">【罕见】江泽民视察上海：和中学生探讨莫奈的画作，达芬奇《蒙娜丽莎》提出光线透视【唯一完整版本】长者考察上海浦东</a></p>
<p><a href="https://www.youtube.com/watch?v=Yn5Kgk8LYNs" target="_blank" rel="noopener noreferrer">江泽民主席 『不是莫扎特 是舒曼』</a></p>
<p><a href="https://www.dswxyjy.org.cn/n1/2019/0228/c425426-30909749.html" target="_blank" rel="noopener noreferrer">从两篇论著看江泽民关于能源和信息技术的战略思考</a></p>
<p><a href="https://zh.m.wikiquote.org/zh-sg/%E6%B1%9F%E6%B3%BD%E6%B0%91" target="_blank" rel="noopener noreferrer">江泽民 - 维基语录，自由的名人名言录</a></p>
<p><a href="https://www.youtube.com/watch?v=tU5OIVEv0wg" target="_blank" rel="noopener noreferrer">【2022 高清重置】江泽民主席怒斥香港记者，图样图森破，NAIVE, TOO YOUNG TOO SIMPLE 身经百战，和华莱士谈笑风生 #江泽民 #长者 #膜蛤 江泽民香港发飙</a></p>
<p><a href="https://www.youtube.com/watch?v=20VGUzUPwCw" target="_blank" rel="noopener noreferrer"></a></p>
<p><a href="https://www.youtube.com/watch?v=h_a_X9N_jhY" target="_blank" rel="noopener noreferrer">時任中共上海市委書記江澤民，在上海電視台英文台現場。用英語向觀眾講話（諸位覺得長者的英語如何）</a></p>
<p><a href="https://www.youtube.com/watch?v=pLXAVRFDZb8" target="_blank" rel="noopener noreferrer">江泽民长者的人生十大巅峰时刻！！姿势水平高 谈笑风生 身经百战 见得多了 #膜蛤 #蛤丝</a></p>]]></content:encoded>
            <category>Politics</category>
        </item>
        <item>
            <title><![CDATA[Open Source Project Review: Convert command line to Web App with Wooey]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey</link>
            <guid>https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey</guid>
            <pubDate>Sat, 19 Nov 2022 09:35:04 GMT</pubDate>
            <description><![CDATA[There is a problem always annoying the software developer: How to deliver your software to your user?]]></description>
            <content:encoded><![CDATA[<p>There is a problem always annoying the software developer: How to deliver your software to your user?</p>
<p>Recently, I wrote a tool for internal use,  It is implemented in Python , and packaged as a command line program, I think it is esay enough for me to use, but the reality is cruel,  not all the target user have technical background, the feedback is they all think it is hard to use it. when they need to use it, they would definitely asking me to support them again and again,  so the software I developed became a nightmare of mine.</p>
<p>I have to think about what is best way to deliver software to end user, if you are working om a big project you don't need to think about this, because their softwares are complicated and have a very mature deploy or delivery pipeline, you just working on a narrow stage of this  pipeline. But I have to, now.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-makes-command-line-tool-hard-to-use">What Makes Command Line Tool Hard to Use?<a href="https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey#what-makes-command-line-tool-hard-to-use" class="hash-link" aria-label="What Makes Command Line Tool Hard to Use?的直接链接" title="What Makes Command Line Tool Hard to Use?的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="complicated-dependencies">Complicated Dependencies<a href="https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey#complicated-dependencies" class="hash-link" aria-label="Complicated Dependencies的直接链接" title="Complicated Dependencies的直接链接">​</a></h3>
<p>Some colleagues cannot even install it, because the user enviroment are different, and my tool depends on a Python3.7 and some Pypi packages, cause Python3.7 is not the default python version for most linux distributions, so the user need to install it by themselves, it is a hard task for user without a technical background.
This issue is easy to resolve, docker is a powerful weapon deal with the dependencies, I packaged my tool into a docker image with all the dependencies in, then I just need to told the user how to download the image and run it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="has-no-graphical-user-interface">Has No Graphical User Interface<a href="https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey#has-no-graphical-user-interface" class="hash-link" aria-label="Has No Graphical User Interface的直接链接" title="Has No Graphical User Interface的直接链接">​</a></h3>
<p>It's already 21st century now, Most people living in this century don't have a chance to use the command line. Many software deliver with a cross platform and user-friendly GUI, Software as-a Service is the main-stream delivery pattern, you don’t even need to install a software, you can just open a Web page and start to use it.  So the best choice is to provide a GUI with my command line tool, It would be better to provide my Command Line as-a Service.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-convert-command-line-to-web-app">How to Convert Command Line to Web App<a href="https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey#how-to-convert-command-line-to-web-app" class="hash-link" aria-label="How to Convert Command Line to Web App的直接链接" title="How to Convert Command Line to Web App的直接链接">​</a></h2>
<p>So what we need to do now is clear: Convert command line to Web App.</p>
<p>But how to do it? As experienced software engineer, you may open your flowchart drawing software and the start to design the architecture of a backend and front-end separated software architecture, you should choose a database: relational or documentary oriented, you must choose a backend programming language: Node.js or Python, you need to write a restful API by youself, finally you also need to implement a GUI As a Single-paged WebApp or Desktop GUI.</p>
<p>It sounds like a struggling work, and I refuse to do this, I need to find an easy way to achieve this goal: convert our command line to a web application, and the user can just click to set the arguments of the command line and the click submit button to run the tool. The most important thing is we don’t need to write too much code.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wooey-a-script-server-matches-all-our-needs">Wooey: A Script Server Matches All Our Needs<a href="https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey#wooey-a-script-server-matches-all-our-needs" class="hash-link" aria-label="Wooey: A Script Server Matches All Our Needs的直接链接" title="Wooey: A Script Server Matches All Our Needs的直接链接">​</a></h2>
<p>I searched on the internet and tried many projects. Finally I found it, it's Wooey.</p>
<p><a href="https://github.com/wooey/wooey" target="_blank" rel="noopener noreferrer">https://github.com/wooey/wooey</a></p>
<p>The command line tool is something like this, you can run it through the shell with specified arguments, and you can press Enter to execute it, the program will run for sometime and generate some file or print something to the console.</p>
<p>Firstly we package it into a docker image, just makes the command line can run anywhere, and the user don't need to worry about the dependencies</p>
<p>The Wooey introduced itself as “a simple web interface to run command line Python scripts”, through Python we have the ability to run any command line program which installed inside operating system, if we write a script as wrapper for our command line and upload it to the wooey server, it will automatically transform our script to a Web App, that is what we all need!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-solution">Step By Step Solution<a href="https://xigou.github.io/zh-CN/blog/2022/11/19/convert-cmd-web-wooey#step-by-step-solution" class="hash-link" aria-label="Step By Step Solution的直接链接" title="Step By Step Solution的直接链接">​</a></h2>
<p>To keep things simple, assume your command line tool is equivalent to shell commands below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">touch</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>the arguments are text and file, this “command line” will sleep 10 second, then echo the text and create an empty file.</p>
<p>We write a simple script to wrap it as a Python command line program:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># file name is wooey_entry_cmd.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> argparse</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> subprocess</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> sys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">parser </span><span class="token operator">=</span><span class="token plain"> argparse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ArgumentParser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"my cmd tool."</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">parser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"--text"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">help</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"anything"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">type</span><span class="token operator">=</span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"nothing"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">parser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">add_argument</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"--output"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">help</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"file name"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">type</span><span class="token operator">=</span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> default</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">"output"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    args </span><span class="token operator">=</span><span class="token plain"> parser</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">parse_args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subprocess</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"sleep"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"10"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subprocess</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"echo"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    subprocess</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">"touch"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">output</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> __name__ </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"__main__"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sys</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">exit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then we write the Dockerfile to package our command line tool and the wooey project toghter as a docker image, and convert our Python script to a Web App through the wooey provided tool.</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FROM python:3.7 as cmd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># install you command tool here</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># we use linux pre installed command, skip this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">FROM cmd as wooey_ui</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WORKDIR /cmd2web_wooey</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RUN pip3.7 install wooey \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &amp;&amp; wooify -p cmd2web_wooey</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">COPY ./wooey_entry_cmd.py ./cmd2web_wooey/wooey_entry_cmd.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">COPY ./start_wooey.sh ./cmd2web_wooey/start_wooey.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">RUN cd cmd2web_wooey \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &amp;&amp; sed -i "s/ALLOWED_HOSTS = \[\]/ALLOWED_HOSTS = \[\'\*\'\]/" ./cmd2web_wooey/settings/django_settings.py \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &amp;&amp; python3.7 manage.py addscript ./wooey_entry_cmd.py</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">WORKDIR /cmd2web_wooey/cmd2web_wooey</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ENTRYPOINT ./start_wooey.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># port 8000 listening inside container</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the Dockerfile, we specified the entrypoint as ./start_wooey.sh, and it is used to start the wooey project, it is just copied from the wooey document. The content of it is below:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token shebang important">#! /bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">nohup</span><span class="token plain"> celery </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-A</span><span class="token plain"> cmd2web_wooey worker </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-c</span><span class="token plain"> </span><span class="token number">3</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--beat</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-l</span><span class="token plain"> info </span><span class="token operator">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">python3.7 manage.py runserver </span><span class="token number">0.0</span><span class="token plain">.0.0:8000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>I must point out that I run celery inside the same docker container with the wooey server, and I changed the setting of Django project to accept any host, these are all bad practices and not safe at all. Considering my command line tool is for internal use, I don’t care about security issues.</p>
<p>The docker image building command is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token plain"> Dockerfile </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--target</span><span class="token plain"> wooey_ui </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-t</span><span class="token plain"> cmd2web_wooey </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>That’s all we need to do, we now have a docker image provide our Command Line as-a Service. We can run a container from this image as a daemon server through command bellow:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-p</span><span class="token plain"> </span><span class="token number">8000</span><span class="token plain">:8000 cmd2web_wooey:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now we can assess our Command Line WebUI in browser through <a href="http://ip:8000/" target="_blank" rel="noopener noreferrer">http://IP:8000</a></p>
<p><img loading="lazy" src="https://imgur.com/JlRaGqx.png" alt="Imgur" class="img_ev3q"></p>
<p>Click the “wooey_entry_cmd” script, that is the name of our python command line script, then set the arguments through the WebUI, click “submit” to run the command.</p>
<p><img loading="lazy" src="https://imgur.com/OiGSCKa.png" alt="Imgur" class="img_ev3q"></p>
<p>Wait a moment, and we can get the console output and the generated empty file from the result.</p>
<p><img loading="lazy" src="https://imgur.com/ykgGckZ.png" alt="Imgur" class="img_ev3q"></p>
<p>code of this post are published on:</p>
<p><a href="https://github.com/XiGou/cmd2web_wooey" target="_blank" rel="noopener noreferrer">https://github.com/XiGou/cmd2web_wooey</a></p>
<p>Refs:</p>
<ol>
<li><a href="https://wooey.readthedocs.io/en/latest/running_wooey.html" target="_blank" rel="noopener noreferrer">https://wooey.readthedocs.io/en/latest/running_wooey.html</a></li>
<li><a href="https://github.com/adamkewley/jobson" target="_blank" rel="noopener noreferrer">https://github.com/adamkewley/jobson</a></li>
</ol>]]></content:encoded>
            <category>Software Practice</category>
        </item>
        <item>
            <title><![CDATA[真正的核酸爱好者：一天做五次]]></title>
            <link>https://xigou.github.io/zh-CN/blog/2022/11/13/finish-5-covid-test-in-one-day</link>
            <guid>https://xigou.github.io/zh-CN/blog/2022/11/13/finish-5-covid-test-in-one-day</guid>
            <pubDate>Sun, 13 Nov 2022 09:35:04 GMT</pubDate>
            <description><![CDATA[Vlog-I Finished 5 Covid Test in One Day!]]></description>
            <content:encoded><![CDATA[<p><a href="https://youtu.be/zQoC9WkE0TE" target="_blank" rel="noopener noreferrer">Vlog-I Finished 5 Covid Test in One Day!</a></p>
<p>在西方世界的视角中，人是由细胞构成的，所以新冠病毒会损害你的身体健康。</p>
<p>但是在我们的视角中，根据伟大导师马克思的观点，人是一切社会关系的总和，如果你感染了新冠病毒，你的社会关系被被毁灭。你的生活方式将会被放在网上被批判，你必须离开自己的家，坐上大巴去隔离营地。</p>
<p>综上所述，新冠病毒是一个令人恐惧的病毒。</p>
<p>但是好消息是，我们有对抗病毒的强大武器：核酸检测。但是我最近观察到互联网上有很多抱怨核酸检测的声音，很多人不愿意做核酸，真是令人遗憾的消息。</p>
<p>我非常喜欢做核酸，我可以三个月不吃战斧牛排，但是我不能一天不做核酸，所以我决定一天完成五次核酸检测，来鼓励大家爱上做核酸。</p>
<p>In the view of Western world, human are made up of cells, so the Coronavirus can damage your health.</p>
<p>But in our perspective, according to the great teacher Marx, man is the ensemble of all social relations, so if you get infected by the Coronavirus, your social relations will be destroyed. Your lifestyle will be criticized on the internet, you have to leave your home, get on a bus and be sent to a quarantine camp.</p>
<p>So, the Coronavirus is a horrible virus.</p>
<p>The good news is that we have a powerful weapon in the fight against the virus: covid test. But I've recently observed a lot of complaints on the Internet about covid test, and it's sad news that many people don't want to do it.</p>
<p>I love doing covid test so much,  that I can spend three months without eating a Tomahawk steak, but I can't spend a day without doing civid test, so I've decided to complete five covid test in one day to encourage people to fall in love with covid test.</p>
<p>生活中充满着失望，有太多你很努力去做又没有得到结果的事情，相比起来，做核酸检测就是一件美好到极致的事情，只要你做，就一定有结果。所以当你不知道做什么的时候，就去做核酸吧！</p>
<p>Life is full of disappointments, There are so many things in life that you try very hard to do and don't get results, but compared to that, covid test is a wonderful thing, if you do it, you will get result. When you don't know what to do, just do COVID Test !</p>]]></content:encoded>
            <category>abstract</category>
        </item>
    </channel>
</rss>