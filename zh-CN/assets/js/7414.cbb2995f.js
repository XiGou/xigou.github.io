"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([["7414"],{73285:function(t,e,r){r.d(e,{IU:()=>m,Jo:()=>K,T_:()=>b,g0:()=>D,jP:()=>x});var a=r(57127),n=r(16719),i=r(27627),l=r(46808),s=r(58155),o=r(13724),d=r(67876),p=r(52274),c=(0,o.K2)((t,e,r,a,n,i)=>{e.arrowTypeStart&&f(t,"start",e.arrowTypeStart,r,a,n,i),e.arrowTypeEnd&&f(t,"end",e.arrowTypeEnd,r,a,n,i)},"addEdgeMarkers"),h={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},f=(0,o.K2)((t,e,r,a,n,i,l)=>{let s=h[r];if(!s)return void o.Rm.warn(`Unknown arrow type: ${r}`);let d=s.type,p=`${n}_${i}-${d}${"start"===e?"Start":"End"}`;if(l&&""!==l.trim()){let r=l.replace(/[^\dA-Za-z]/g,"_"),n=`${p}_${r}`;if(!document.getElementById(n)){let t=document.getElementById(p);if(t){let e=t.cloneNode(!0);e.id=n,e.querySelectorAll("path, circle, line").forEach(t=>{t.setAttribute("stroke",l),s.fill&&t.setAttribute("fill",l)}),t.parentNode?.appendChild(e)}}t.attr(`marker-${e}`,`url(${a}#${n})`)}else t.attr(`marker-${e}`,`url(${a}#${p})`)},"addEdgeMarker"),u=new Map,g=new Map,m=(0,o.K2)(()=>{u.clear(),g.clear()},"clear"),y=(0,o.K2)(t=>t?t.reduce((t,e)=>t+";"+e,""):"","getLabelStyles"),x=(0,o.K2)(async(t,e)=>{let r,a=(0,o._3)((0,o.D7)().flowchart.htmlLabels),i=await (0,l.GZ)(t,e.label,{style:y(e.labelStyle),useHtmlLabels:a,addSvgBackground:!0,isNode:!1});o.Rm.info("abc82",e,e.labelType);let s=t.insert("g").attr("class","edgeLabel"),p=s.insert("g").attr("class","label");p.node().appendChild(i);let c=i.getBBox();if(a){let t=i.children[0],e=(0,d.Ltv)(i);c=t.getBoundingClientRect(),e.attr("width",c.width),e.attr("height",c.height)}if(p.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),u.set(e.id,s),e.width=c.width,e.height=c.height,e.startLabelLeft){let a=await (0,n.DA)(e.startLabelLeft,y(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),l=i.insert("g").attr("class","inner");r=l.node().appendChild(a);let s=a.getBBox();l.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),g.get(e.id)||g.set(e.id,{}),g.get(e.id).startLeft=i,k(r,e.startLabelLeft)}if(e.startLabelRight){let a=await (0,n.DA)(e.startLabelRight,y(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),l=i.insert("g").attr("class","inner");r=i.node().appendChild(a),l.node().appendChild(a);let s=a.getBBox();l.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),g.get(e.id)||g.set(e.id,{}),g.get(e.id).startRight=i,k(r,e.startLabelRight)}if(e.endLabelLeft){let a=await (0,n.DA)(e.endLabelLeft,y(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),l=i.insert("g").attr("class","inner");r=l.node().appendChild(a);let s=a.getBBox();l.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.node().appendChild(a),g.get(e.id)||g.set(e.id,{}),g.get(e.id).endLeft=i,k(r,e.endLabelLeft)}if(e.endLabelRight){let a=await (0,n.DA)(e.endLabelRight,y(e.labelStyle)),i=t.insert("g").attr("class","edgeTerminals"),l=i.insert("g").attr("class","inner");r=l.node().appendChild(a);let s=a.getBBox();l.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.node().appendChild(a),g.get(e.id)||g.set(e.id,{}),g.get(e.id).endRight=i,k(r,e.endLabelRight)}return i},"insertEdgeLabel");function k(t,e){(0,o.D7)().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}(0,o.K2)(k,"setTerminalWidth");var b=(0,o.K2)((t,e)=>{o.Rm.debug("Moving label abc88 ",t.id,t.label,u.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath,a=(0,o.D7)(),{subGraphTitleTotalMargin:n}=(0,i.O)(a);if(t.label){let a=u.get(t.id),i=t.x,l=t.y;if(r){let a=s._K.calcLabelPosition(r);o.Rm.debug("Moving label "+t.label+" from (",i,",",l,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(i=a.x,l=a.y)}a.attr("transform",`translate(${i}, ${l+n/2})`)}if(t.startLabelLeft){let e=g.get(t.id).startLeft,a=t.x,n=t.y;if(r){let e=s._K.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_left",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.startLabelRight){let e=g.get(t.id).startRight,a=t.x,n=t.y;if(r){let e=s._K.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_right",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.endLabelLeft){let e=g.get(t.id).endLeft,a=t.x,n=t.y;if(r){let e=s._K.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_left",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}if(t.endLabelRight){let e=g.get(t.id).endRight,a=t.x,n=t.y;if(r){let e=s._K.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_right",r);a=e.x,n=e.y}e.attr("transform",`translate(${a}, ${n})`)}},"positionEdgeLabel"),w=(0,o.K2)((t,e)=>{let r=t.x,a=t.y,n=Math.abs(e.x-r),i=Math.abs(e.y-a),l=t.width/2,s=t.height/2;return n>=l||i>=s},"outsideNode"),M=(0,o.K2)((t,e,r)=>{o.Rm.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);let a=t.x,n=t.y,i=Math.abs(a-r.x),l=t.width/2,s=r.x<e.x?l-i:l+i,d=t.height/2,p=Math.abs(e.y-r.y),c=Math.abs(e.x-r.x);if(Math.abs(n-e.y)*l>Math.abs(a-e.x)*d){let t=r.y<e.y?e.y-d-n:n-d-e.y;s=c*t/p;let a={x:r.x<e.x?r.x+s:r.x-c+s,y:r.y<e.y?r.y+p-t:r.y-p+t};return 0===s&&(a.x=e.x,a.y=e.y),0===c&&(a.x=e.x),0===p&&(a.y=e.y),o.Rm.debug(`abc89 top/bottom calc, Q ${p}, q ${t}, R ${c}, r ${s}`,a),a}{let t=p*(s=r.x<e.x?e.x-l-a:a-l-e.x)/c,n=r.x<e.x?r.x+c-s:r.x-c+s,i=r.y<e.y?r.y+t:r.y-t;return o.Rm.debug(`sides calc abc89, Q ${p}, q ${t}, R ${c}, r ${s}`,{_x:n,_y:i}),0===s&&(n=e.x,i=e.y),0===c&&(n=e.x),0===p&&(i=e.y),{x:n,y:i}}},"intersection"),L=(0,o.K2)((t,e)=>{o.Rm.warn("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],n=!1;return t.forEach(t=>{if(o.Rm.info("abc88 checking point",t,e),w(e,t)||n)o.Rm.warn("abc88 outside",t,a),a=t,n||r.push(t);else{let i=M(e,a,t);o.Rm.debug("abc88 inside",t,a,i),o.Rm.debug("abc88 intersection",i,e);let l=!1;r.forEach(t=>{l=l||t.x===i.x&&t.y===i.y}),r.some(t=>t.x===i.x&&t.y===i.y)?o.Rm.warn("abc88 no intersect",i,r):r.push(i),n=!0}}),o.Rm.debug("returning points",r),r},"cutPathAtIntersect");function v(t){let e=[],r=[];for(let a=1;a<t.length-1;a++){let n=t[a-1],i=t[a],l=t[a+1];n.x===i.x&&i.y===l.y&&Math.abs(i.x-l.x)>5&&Math.abs(i.y-n.y)>5?(e.push(i),r.push(a)):n.y===i.y&&i.x===l.x&&Math.abs(i.x-n.x)>5&&Math.abs(i.y-l.y)>5&&(e.push(i),r.push(a))}return{cornerPoints:e,cornerPointPositions:r}}(0,o.K2)(v,"extractCornerPoints");var _=(0,o.K2)(function(t,e,r){let a=e.x-t.x,n=e.y-t.y,i=r/Math.sqrt(a*a+n*n);return{x:e.x-i*a,y:e.y-i*n}},"findAdjacentPoint"),$=(0,o.K2)(function(t){let{cornerPointPositions:e}=v(t),r=[];for(let a=0;a<t.length;a++)if(e.includes(a)){let e=t[a-1],n=t[a+1],i=t[a],l=_(e,i,5),s=_(n,i,5),d=s.x-l.x,p=s.y-l.y;r.push(l);let c=2*Math.sqrt(2),h={x:i.x,y:i.y};Math.abs(n.x-e.x)>10&&Math.abs(n.y-e.y)>=10?(o.Rm.debug("Corner point fixing",Math.abs(n.x-e.x),Math.abs(n.y-e.y)),h=i.x===l.x?{x:d<0?l.x-5+c:l.x+5-c,y:p<0?l.y-c:l.y+c}:{x:d<0?l.x-c:l.x+c,y:p<0?l.y-5+c:l.y+5-c}):o.Rm.debug("Corner point skipping fixing",Math.abs(n.x-e.x),Math.abs(n.y-e.y)),r.push(h,s)}else r.push(t[a]);return r},"fixCorners"),K=(0,o.K2)(function(t,e,r,i,l,s,h){let f,u,{handDrawnSeed:g}=(0,o.D7)(),m=e.points,y=!1,x=[];for(let t in e.cssCompiledStyles)(0,n.KX)(t)||x.push(e.cssCompiledStyles[t]);s.intersect&&l.intersect&&((m=m.slice(1,e.points.length-1)).unshift(l.intersect(m[0])),o.Rm.debug("Last point APA12",e.start,"--\x3e",e.end,m[m.length-1],s,s.intersect(m[m.length-1])),m.push(s.intersect(m[m.length-1]))),e.toCluster&&(o.Rm.info("to cluster abc88",r.get(e.toCluster)),m=L(e.points,r.get(e.toCluster).node),y=!0),e.fromCluster&&(o.Rm.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(m,null,2)),m=L(m.reverse(),r.get(e.fromCluster).node).reverse(),y=!0);let k=m.filter(t=>!Number.isNaN(t.y));k=$(k);let b=d.qrM;switch(b=d.lUB,e.curve){case"linear":b=d.lUB;break;case"basis":default:b=d.qrM;break;case"cardinal":b=d.y8u;break;case"bumpX":b=d.Wi0;break;case"bumpY":b=d.PGM;break;case"catmullRom":b=d.oDi;break;case"monotoneX":b=d.nVG;break;case"monotoneY":b=d.uxU;break;case"natural":b=d.Xf2;break;case"step":b=d.GZz;break;case"stepAfter":b=d.UPb;break;case"stepBefore":b=d.dyv}let{x:w,y:M}=(0,a.R)(e),v=(0,d.n8j)().x(w).y(M).curve(b);switch(e.thickness){case"normal":default:f="edge-thickness-normal";break;case"thick":f="edge-thickness-thick";break;case"invisible":f="edge-thickness-invisible"}switch(e.pattern){case"solid":default:f+=" edge-pattern-solid";break;case"dotted":f+=" edge-pattern-dotted";break;case"dashed":f+=" edge-pattern-dashed"}let _=v(k),K=Array.isArray(e.style)?e.style:[e.style],S=K.find(t=>t?.startsWith("stroke:"));if("handDrawn"===e.look){let r=p.A.svg(t);Object.assign([],k);let a=r.path(_,{roughness:.3,seed:g});f+=" transition";let n=(u=(0,d.Ltv)(a).select("path").attr("id",e.id).attr("class"," "+f+(e.classes?" "+e.classes:"")).attr("style",K?K.reduce((t,e)=>t+";"+e,""):"")).attr("d");u.attr("d",n),t.node().appendChild(u.node())}else{let r=x.join(";"),a=K?K.reduce((t,e)=>t+e+";",""):"",n="";e.animate&&(n=" edge-animation-fast"),e.animation&&(n=" edge-animation-"+e.animation);let i=r?r+";"+a+";":a;u=t.append("path").attr("d",_).attr("id",e.id).attr("class"," "+f+(e.classes?" "+e.classes:"")+(n??"")).attr("style",i),S=i.match(/stroke:([^;]+)/)?.[1]}let R="";((0,o.D7)().flowchart.arrowMarkerAbsolute||(0,o.D7)().state.arrowMarkerAbsolute)&&(R=(R=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)")),o.Rm.info("arrowTypeStart",e.arrowTypeStart),o.Rm.info("arrowTypeEnd",e.arrowTypeEnd),c(u,e,R,h,i,S);let O={};return y&&(O.updatedPath=m),O.originalPath=e.points,O},"insertEdge"),S=(0,o.K2)((t,e,r,a)=>{e.forEach(e=>{z[e](t,r,a)})},"insertMarkers"),R=(0,o.K2)((t,e,r)=>{o.Rm.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),O=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),E=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),B=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),C=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),W=(0,o.K2)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),H=(0,o.K2)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),P=(0,o.K2)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),T=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),A=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Y=(0,o.K2)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");let n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),X=(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),U=(0,o.K2)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),z={extension:R,composition:O,aggregation:E,dependency:B,lollipop:C,point:W,circle:H,cross:P,barb:T,only_one:A,zero_or_one:Y,one_or_more:X,zero_or_more:U,requirement_arrow:(0,o.K2)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains:(0,o.K2)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")},D=S},27627:function(t,e,r){r.d(e,{O:()=>a});var a=(0,r(13724).K2)(({flowchart:t})=>{let e=t?.subGraphTitleMargin?.top??0,r=t?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:e+r}},"getSubGraphTitleMargins")},58155:function(t,e,r){r.d(e,{$C:()=>S,$t:()=>D,C4:()=>I,I5:()=>z,Ib:()=>m,KL:()=>Z,Sm:()=>q,Un:()=>P,_K:()=>N,bH:()=>C,dq:()=>X,pe:()=>d,rY:()=>j,ru:()=>H,sM:()=>$,vU:()=>u,yT:()=>O});var a,n=r(13724),i=r(16750),l=r(67876),s=r(43984),o=r(28788),d="\u200B",p={curveBasis:l.qrM,curveBasisClosed:l.Yu4,curveBasisOpen:l.IA3,curveBumpX:l.Wi0,curveBumpY:l.PGM,curveBundle:l.OEq,curveCardinalClosed:l.olC,curveCardinalOpen:l.IrU,curveCardinal:l.y8u,curveCatmullRomClosed:l.Q7f,curveCatmullRomOpen:l.cVp,curveCatmullRom:l.oDi,curveLinear:l.lUB,curveLinearClosed:l.Lx9,curveMonotoneX:l.nVG,curveMonotoneY:l.uxU,curveNatural:l.Xf2,curveStep:l.GZz,curveStepAfter:l.UPb,curveStepBefore:l.dyv},c=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,h=(0,n.K2)(function(t,e){let r=f(t,/(?:init\b)|(?:initialize\b)/),a={};if(Array.isArray(r)){let t=r.map(t=>t.args);(0,n.$i)(t),a=(0,n.hH)(a,[...t])}else a=r.args;if(!a)return;let i=(0,n.Ch)(t,e),l="config";return void 0!==a[l]&&("flowchart-v2"===i&&(i="flowchart"),a[i]=a[l],delete a[l]),a},"detectInit"),f=(0,n.K2)(function(t,e=null){try{let r,a=RegExp(`[%]{2}(?![{]${c.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(a,"").replace(/'/gm,'"'),n.Rm.debug(`Detecting diagram directive${null!==e?" type:"+e:""} based on the text:${t}`);let i=[];for(;null!==(r=n.DB.exec(t));)if(r.index===n.DB.lastIndex&&n.DB.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){let t=r[1]?r[1]:r[2],e=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:t,args:e})}if(0===i.length)return{type:t,args:null};return 1===i.length?i[0]:i}catch(r){return n.Rm.error(`ERROR: ${r.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),u=(0,n.K2)(function(t){return t.replace(n.DB,"")},"removeDirectives"),g=(0,n.K2)(function(t,e){for(let[r,a]of e.entries())if(a.match(t))return r;return -1},"isSubstringInArray");function m(t,e){return t?p[`curve${t.charAt(0).toUpperCase()+t.slice(1)}`]??e:e}function y(t,e){let r=t.trim();if(r)return"loose"!==e.securityLevel?(0,i.sanitizeUrl)(r):r}(0,n.K2)(m,"interpolateToCurve"),(0,n.K2)(y,"formatUrl");var x=(0,n.K2)((t,...e)=>{let r=t.split("."),a=r.length-1,i=r[a],l=window;for(let e=0;e<a;e++)if(!(l=l[r[e]]))return void n.Rm.error(`Function name: ${t} not found in window`);l[i](...e)},"runFunc");function k(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function b(t){let e,r=0;return t.forEach(t=>{r+=k(t,e),e=t}),L(t,r/2)}function w(t){return 1===t.length?t[0]:b(t)}(0,n.K2)(k,"distance"),(0,n.K2)(b,"traverseEdge"),(0,n.K2)(w,"calcLabelPosition");var M=(0,n.K2)((t,e=2)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),L=(0,n.K2)((t,e)=>{let r,a=e;for(let e of t){if(r){let t=k(e,r);if(0===t)return r;if(t<a)a-=t;else{let n=a/t;if(n<=0)return r;if(n>=1)return{x:e.x,y:e.y};if(n>0&&n<1)return{x:M((1-n)*r.x+n*e.x,5),y:M((1-n)*r.y+n*e.y,5)}}}r=e}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),v=(0,n.K2)((t,e,r)=>{n.Rm.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());let a=L(e,25),i=t?10:5,l=Math.atan2(e[0].y-a.y,e[0].x-a.x),s={x:0,y:0};return s.x=Math.sin(l)*i+(e[0].x+a.x)/2,s.y=-Math.cos(l)*i+(e[0].y+a.y)/2,s},"calcCardinalityPosition");function _(t,e,r){let a=structuredClone(r);n.Rm.info("our points",a),"start_left"!==e&&"start_right"!==e&&a.reverse();let i=L(a,25+t),l=10+.5*t,s=Math.atan2(a[0].y-i.y,a[0].x-i.x),o={x:0,y:0};return"start_left"===e?(o.x=Math.sin(s+Math.PI)*l+(a[0].x+i.x)/2,o.y=-Math.cos(s+Math.PI)*l+(a[0].y+i.y)/2):"end_right"===e?(o.x=Math.sin(s-Math.PI)*l+(a[0].x+i.x)/2-5,o.y=-Math.cos(s-Math.PI)*l+(a[0].y+i.y)/2-5):"end_left"===e?(o.x=Math.sin(s)*l+(a[0].x+i.x)/2-5,o.y=-Math.cos(s)*l+(a[0].y+i.y)/2-5):(o.x=Math.sin(s)*l+(a[0].x+i.x)/2,o.y=-Math.cos(s)*l+(a[0].y+i.y)/2),o}function $(t){let e="",r="";for(let a of t)void 0!==a&&(a.startsWith("color:")||a.startsWith("text-align:")?r=r+a+";":e=e+a+";");return{style:e,labelStyle:r}}(0,n.K2)(_,"calcTerminalLabelPosition"),(0,n.K2)($,"getStylesFromArray");var K=0,S=(0,n.K2)(()=>(K++,"id-"+Math.random().toString(36).substr(2,12)+"-"+K),"generateId");function R(t){let e="",r="0123456789abcdef",a=r.length;for(let n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*a));return e}(0,n.K2)(R,"makeRandomHex");var O=(0,n.K2)(t=>R(t.length),"random"),E=(0,n.K2)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),B=(0,n.K2)(function(t,e){let r=e.text.replace(n.Y2.lineBreakRegex," "),[,a]=z(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",a),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),void 0!==e.class&&i.attr("class",e.class);let l=i.append("tspan");return l.attr("x",e.x+2*e.textMargin),l.attr("fill",e.fill),l.text(r),i},"drawSimpleText"),C=(0,s.A)((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),n.Y2.lineBreakRegex.test(t)))return t;let a=t.split(" ").filter(Boolean),i=[],l="";return a.forEach((t,n)=>{let s=P(`${t} `,r),o=P(l,r);if(s>e){let{hyphenatedStrings:a,remainingWord:n}=W(t,e,"-",r);i.push(l,...a),l=n}else o+s>=e?(i.push(l),l=t):l=[l,t].filter(Boolean).join(" ");n+1===a.length&&i.push(l)}),i.filter(t=>""!==t).join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),W=(0,s.A)((t,e,r="-",a)=>{a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},a);let n=[...t],i=[],l="";return n.forEach((t,s)=>{let o=`${l}${t}`;if(P(o,a)>=e){let t=n.length===s+1,e=`${o}${r}`;i.push(t?o:e),l=""}else l=o}),{hyphenatedStrings:i,remainingWord:l}},(t,e,r="-",a)=>`${t}${e}${r}${a.fontSize}${a.fontWeight}${a.fontFamily}`);function H(t,e){return T(t,e).height}function P(t,e){return T(t,e).width}(0,n.K2)(H,"calculateTextHeight"),(0,n.K2)(P,"calculateTextWidth");var T=(0,s.A)((t,e)=>{let{fontSize:r=12,fontFamily:a="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};let[,s]=z(r),o=t.split(n.Y2.lineBreakRegex),p=[],c=(0,l.Ltv)("body");if(!c.remove)return{width:0,height:0,lineHeight:0};let h=c.append("svg");for(let t of["sans-serif",a]){let e=0,r={width:0,height:0,lineHeight:0};for(let a of o){let n=E();n.text=a||d;let l=B(h,n).style("font-size",s).style("font-weight",i).style("font-family",t),o=(l._groups||l)[0][0].getBBox();if(0===o.width&&0===o.height)throw Error("svg element not in render tree");r.width=Math.round(Math.max(r.width,o.width)),e=Math.round(o.height),r.height+=e,r.lineHeight=Math.round(Math.max(r.lineHeight,e))}p.push(r)}h.remove();let f=isNaN(p[1].height)||isNaN(p[1].width)||isNaN(p[1].lineHeight)||p[0].height>p[1].height&&p[0].width>p[1].width&&p[0].lineHeight>p[1].lineHeight?0:1;return p[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),A=class{constructor(t=!1,e){this.count=0,this.count=e?e.length:0,this.next=t?()=>this.count++:()=>Date.now()}static{(0,n.K2)(this,"InitIDGenerator")}},Y=(0,n.K2)(function(t){return a=a||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),a.innerHTML=t,unescape(a.textContent)},"entityDecode");function X(t){return"str"in t}(0,n.K2)(X,"isDetailedError");var U=(0,n.K2)((t,e,r,a)=>{if(!a)return;let n=t.node()?.getBBox();n&&t.append("text").text(a).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",e)},"insertTitle"),z=(0,n.K2)(t=>{if("number"==typeof t)return[t,t+"px"];let e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function D(t,e){return(0,o.A)({},t,e)}(0,n.K2)(D,"cleanAndMerge");var N={assignWithDepth:n.hH,wrapLabel:C,calculateTextHeight:H,calculateTextWidth:P,calculateTextDimensions:T,cleanAndMerge:D,detectInit:h,detectDirective:f,isSubstringInArray:g,interpolateToCurve:m,calcLabelPosition:w,calcCardinalityPosition:v,calcTerminalLabelPosition:_,formatUrl:y,getStylesFromArray:$,generateId:S,random:O,runFunc:x,entityDecode:Y,insertTitle:U,parseFontSize:z,InitIDGenerator:A},I=(0,n.K2)(function(t){let e=t;return(e=(e=e.replace(/style.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/classDef.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/#\w+;/g,function(t){let e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"\uFB02\xb0\xb0"+e+"\xb6\xdf":"\uFB02\xb0"+e+"\xb6\xdf"})},"encodeEntities"),q=(0,n.K2)(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),j=(0,n.K2)((t,e,{counter:r=0,prefix:a,suffix:n},i)=>i||`${a?`${a}_`:""}${t}_${e}_${r}${n?`_${n}`:""}`,"getEdgeId");function Z(t){return t??null}(0,n.K2)(Z,"handleUndefinedAttr")}}]);