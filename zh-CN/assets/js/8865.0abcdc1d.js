"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([["8865"],{99361:function(e,t,n){var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Checker=t.createCheckers=void 0;var o=n(1680),i=n(31977),u=n(1680);Object.defineProperty(t,"TArray",{enumerable:!0,get:function(){return u.TArray}}),Object.defineProperty(t,"TEnumType",{enumerable:!0,get:function(){return u.TEnumType}}),Object.defineProperty(t,"TEnumLiteral",{enumerable:!0,get:function(){return u.TEnumLiteral}}),Object.defineProperty(t,"TFunc",{enumerable:!0,get:function(){return u.TFunc}}),Object.defineProperty(t,"TIface",{enumerable:!0,get:function(){return u.TIface}}),Object.defineProperty(t,"TLiteral",{enumerable:!0,get:function(){return u.TLiteral}}),Object.defineProperty(t,"TName",{enumerable:!0,get:function(){return u.TName}}),Object.defineProperty(t,"TOptional",{enumerable:!0,get:function(){return u.TOptional}}),Object.defineProperty(t,"TParam",{enumerable:!0,get:function(){return u.TParam}}),Object.defineProperty(t,"TParamList",{enumerable:!0,get:function(){return u.TParamList}}),Object.defineProperty(t,"TProp",{enumerable:!0,get:function(){return u.TProp}}),Object.defineProperty(t,"TTuple",{enumerable:!0,get:function(){return u.TTuple}}),Object.defineProperty(t,"TType",{enumerable:!0,get:function(){return u.TType}}),Object.defineProperty(t,"TUnion",{enumerable:!0,get:function(){return u.TUnion}}),Object.defineProperty(t,"TIntersection",{enumerable:!0,get:function(){return u.TIntersection}}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return u.array}}),Object.defineProperty(t,"enumlit",{enumerable:!0,get:function(){return u.enumlit}}),Object.defineProperty(t,"enumtype",{enumerable:!0,get:function(){return u.enumtype}}),Object.defineProperty(t,"func",{enumerable:!0,get:function(){return u.func}}),Object.defineProperty(t,"iface",{enumerable:!0,get:function(){return u.iface}}),Object.defineProperty(t,"lit",{enumerable:!0,get:function(){return u.lit}}),Object.defineProperty(t,"name",{enumerable:!0,get:function(){return u.name}}),Object.defineProperty(t,"opt",{enumerable:!0,get:function(){return u.opt}}),Object.defineProperty(t,"param",{enumerable:!0,get:function(){return u.param}}),Object.defineProperty(t,"tuple",{enumerable:!0,get:function(){return u.tuple}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return u.union}}),Object.defineProperty(t,"intersection",{enumerable:!0,get:function(){return u.intersection}}),Object.defineProperty(t,"BasicType",{enumerable:!0,get:function(){return u.BasicType}});var a=n(31977);Object.defineProperty(t,"VError",{enumerable:!0,get:function(){return a.VError}}),t.createCheckers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Object.assign.apply(Object,r([{},o.basicTypes],e)),i={},u=0;u<e.length;u++)for(var a=e[u],c=0,f=Object.keys(a);c<f.length;c++){var p=f[c];i[p]=new s(n,a[p])}return i};var s=function(){function e(e,t,n){if(void 0===n&&(n="value"),this.suite=e,this.ttype=t,this._path=n,this.props=new Map,t instanceof o.TIface)for(var r=0,i=t.props;r<i.length;r++){var u=i[r];this.props.set(u.name,u.ttype)}this.checkerPlain=this.ttype.getChecker(e,!1),this.checkerStrict=this.ttype.getChecker(e,!0)}return e.prototype.setReportedPath=function(e){this._path=e},e.prototype.check=function(e){return this._doCheck(this.checkerPlain,e)},e.prototype.test=function(e){return this.checkerPlain(e,new i.NoopContext)},e.prototype.validate=function(e){return this._doValidate(this.checkerPlain,e)},e.prototype.strictCheck=function(e){return this._doCheck(this.checkerStrict,e)},e.prototype.strictTest=function(e){return this.checkerStrict(e,new i.NoopContext)},e.prototype.strictValidate=function(e){return this._doValidate(this.checkerStrict,e)},e.prototype.getProp=function(t){var n=this.props.get(t);if(!n)throw Error("Type has no property "+t);return new e(this.suite,n,this._path+"."+t)},e.prototype.methodArgs=function(t){var n=this._getMethod(t);return new e(this.suite,n.paramList)},e.prototype.methodResult=function(t){var n=this._getMethod(t);return new e(this.suite,n.result)},e.prototype.getArgs=function(){if(!(this.ttype instanceof o.TFunc))throw Error("getArgs() applied to non-function");return new e(this.suite,this.ttype.paramList)},e.prototype.getResult=function(){if(!(this.ttype instanceof o.TFunc))throw Error("getResult() applied to non-function");return new e(this.suite,this.ttype.result)},e.prototype.getType=function(){return this.ttype},e.prototype._doCheck=function(e,t){if(!e(t,new i.NoopContext)){var n=new i.DetailContext;throw e(t,n),n.getError(this._path)}},e.prototype._doValidate=function(e,t){if(e(t,new i.NoopContext))return null;var n=new i.DetailContext;return e(t,n),n.getErrorDetail(this._path)},e.prototype._getMethod=function(e){var t=this.props.get(e);if(!t)throw Error("Type has no property "+e);if(!(t instanceof o.TFunc))throw Error("Property "+e+" is not a method");return t},e}();t.Checker=s},1680:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.basicTypes=t.BasicType=t.TParamList=t.TParam=t.param=t.TFunc=t.func=t.TProp=t.TOptional=t.opt=t.TIface=t.iface=t.TEnumLiteral=t.enumlit=t.TEnumType=t.enumtype=t.TIntersection=t.intersection=t.TUnion=t.union=t.TTuple=t.tuple=t.TArray=t.array=t.TLiteral=t.lit=t.TName=t.name=t.TType=void 0;var i=n(31977),u=function(){};function a(e){return"string"==typeof e?c(e):e}function s(e,t){var n=e[t];if(!n)throw Error("Unknown type "+t);return n}function c(e){return new f(e)}t.TType=u,t.name=c;var f=function(e){function t(t){var n=e.call(this)||this;return n.name=t,n._failMsg="is not a "+t,n}return o(t,e),t.prototype.getChecker=function(e,n,r){var o=this,i=s(e,this.name),u=i.getChecker(e,n,r);return i instanceof O||i instanceof t?u:function(e,t){return!!u(e,t)||t.fail(null,o._failMsg,0)}},t}(u);t.TName=f,t.lit=function(e){return new p(e)};var p=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n.name=JSON.stringify(t),n._failMsg="is not "+n.name,n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this;return function(e,t){return e===n.value||t.fail(null,n._failMsg,-1)}},t}(u);t.TLiteral=p,t.array=function(e){return new l(a(e))};var l=function(e){function t(t){var n=e.call(this)||this;return n.ttype=t,n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this.ttype.getChecker(e,t);return function(e,t){if(!Array.isArray(e))return t.fail(null,"is not an array",0);for(var r=0;r<e.length;r++)if(!n(e[r],t))return t.fail(r,null,1);return!0}},t}(u);t.TArray=l,t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new h(e.map(function(e){return a(e)}))};var h=function(e){function t(t){var n=e.call(this)||this;return n.ttypes=t,n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this.ttypes.map(function(n){return n.getChecker(e,t)}),r=function(e,t){if(!Array.isArray(e))return t.fail(null,"is not an array",0);for(var r=0;r<n.length;r++)if(!n[r](e[r],t))return t.fail(r,null,1);return!0};return t?function(e,t){return!!r(e,t)&&(e.length<=n.length||t.fail(n.length,"is extraneous",2))}:r},t}(u);t.TTuple=h,t.union=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new y(e.map(function(e){return a(e)}))};var y=function(e){function t(t){var n=e.call(this)||this;n.ttypes=t;var r=t.map(function(e){return e instanceof f||e instanceof p?e.name:null}).filter(function(e){return e}),o=t.length-r.length;return r.length?(o>0&&r.push(o+" more"),n._failMsg="is none of "+r.join(", ")):n._failMsg="is none of "+o+" types",n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this,r=this.ttypes.map(function(n){return n.getChecker(e,t)});return function(e,t){for(var o=t.unionResolver(),i=0;i<r.length;i++)if(r[i](e,o.createContext()))return!0;return t.resolveUnion(o),t.fail(null,n._failMsg,0)}},t}(u);t.TUnion=y,t.intersection=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new d(e.map(function(e){return a(e)}))};var d=function(e){function t(t){var n=e.call(this)||this;return n.ttypes=t,n}return o(t,e),t.prototype.getChecker=function(e,t){var n=new Set,r=this.ttypes.map(function(r){return r.getChecker(e,t,n)});return function(e,t){return!!r.every(function(n){return n(e,t)})||t.fail(null,null,0)}},t}(u);t.TIntersection=d,t.enumtype=function(e){return new g(e)};var g=function(e){function t(t){var n=e.call(this)||this;return n.members=t,n.validValues=new Set,n._failMsg="is not a valid enum value",n.validValues=new Set(Object.keys(t).map(function(e){return t[e]})),n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this;return function(e,t){return!!n.validValues.has(e)||t.fail(null,n._failMsg,0)}},t}(u);t.TEnumType=g,t.enumlit=function(e,t){return new v(e,t)};var v=function(e){function t(t,n){var r=e.call(this)||this;return r.enumName=t,r.prop=n,r._failMsg="is not "+t+"."+n,r}return o(t,e),t.prototype.getChecker=function(e,t){var n=this,r=s(e,this.enumName);if(!(r instanceof g))throw Error("Type "+this.enumName+" used in enumlit is not an enum type");var o=r.members[this.prop];if(!r.members.hasOwnProperty(this.prop))throw Error("Unknown value "+this.enumName+"."+this.prop+" used in enumlit");return function(e,t){return e===o||t.fail(null,n._failMsg,-1)}},t}(u);t.TEnumLiteral=v,t.iface=function(e,t){return new m(e,Object.keys(t).map(function(e){var n,r;return n=e,(r=t[e])instanceof b?new T(n,r.ttype,!0):new T(n,a(r),!1)}))};var m=function(e){function t(t,n){var r=e.call(this)||this;return r.bases=t,r.props=n,r.propSet=new Set(n.map(function(e){return e.name})),r}return o(t,e),t.prototype.getChecker=function(e,t,n){var r=this,o=this.bases.map(function(n){return s(e,n).getChecker(e,t)}),u=this.props.map(function(n){return n.ttype.getChecker(e,t)}),a=new i.NoopContext,c=this.props.map(function(e,t){return!e.isOpt&&!u[t](void 0,a)}),f=function(e,t){if("object"!=typeof e||null===e)return t.fail(null,"is not an object",0);for(var n=0;n<o.length;n++)if(!o[n](e,t))return!1;for(var n=0;n<u.length;n++){var i=r.props[n].name,a=e[i];if(void 0===a){if(c[n])return t.fail(i,"is missing",1)}else if(!u[n](a,t))return t.fail(i,null,1)}return!0};if(!t)return f;var p=this.propSet;return n&&(this.propSet.forEach(function(e){return n.add(e)}),p=n),function(e,t){if(!f(e,t))return!1;for(var n in e)if(!p.has(n))return t.fail(n,"is extraneous",2);return!0}},t}(u);t.TIface=m,t.opt=function(e){return new b(a(e))};var b=function(e){function t(t){var n=e.call(this)||this;return n.ttype=t,n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this.ttype.getChecker(e,t);return function(e,t){return void 0===e||n(e,t)}},t}(u);t.TOptional=b;var T=function(e,t,n){this.name=e,this.ttype=t,this.isOpt=n};t.TProp=T,t.func=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new w(new C(t),a(e))};var w=function(e){function t(t,n){var r=e.call(this)||this;return r.paramList=t,r.result=n,r}return o(t,e),t.prototype.getChecker=function(e,t){return function(e,t){return"function"==typeof e||t.fail(null,"is not a function",0)}},t}(u);t.TFunc=w,t.param=function(e,t,n){return new _(e,a(t),!!n)};var _=function(e,t,n){this.name=e,this.ttype=t,this.isOpt=n};t.TParam=_;var C=function(e){function t(t){var n=e.call(this)||this;return n.params=t,n}return o(t,e),t.prototype.getChecker=function(e,t){var n=this,r=this.params.map(function(n){return n.ttype.getChecker(e,t)}),o=new i.NoopContext,u=this.params.map(function(e,t){return!e.isOpt&&!r[t](void 0,o)}),a=function(e,t){if(!Array.isArray(e))return t.fail(null,"is not an array",0);for(var o=0;o<r.length;o++){var i=n.params[o];if(void 0===e[o]){if(u[o])return t.fail(i.name,"is missing",1)}else if(!r[o](e[o],t))return t.fail(i.name,null,1)}return!0};return t?function(e,t){return!!a(e,t)&&(e.length<=r.length||t.fail(r.length,"is extraneous",2))}:a},t}(u);t.TParamList=C;var O=function(e){function t(t,n){var r=e.call(this)||this;return r.validator=t,r.message=n,r}return o(t,e),t.prototype.getChecker=function(e,t){var n=this;return function(e,t){return!!n.validator(e)||t.fail(null,n.message,0)}},t}(u);t.BasicType=O,t.basicTypes={any:new O(function(e){return!0},"is invalid"),number:new O(function(e){return"number"==typeof e},"is not a number"),object:new O(function(e){return"object"==typeof e&&e},"is not an object"),boolean:new O(function(e){return"boolean"==typeof e},"is not a boolean"),string:new O(function(e){return"string"==typeof e},"is not a string"),symbol:new O(function(e){return"symbol"==typeof e},"is not a symbol"),void:new O(function(e){return null==e},"is not void"),undefined:new O(function(e){return void 0===e},"is not undefined"),null:new O(function(e){return null===e},"is not null"),never:new O(function(e){return!1},"is unexpected"),Date:new O(E("[object Date]"),"is not a Date"),RegExp:new O(E("[object RegExp]"),"is not a RegExp")};var k=Object.prototype.toString;function E(e){return function(t){return"object"==typeof t&&t&&k.call(t)===e}}"undefined"!=typeof Buffer&&(t.basicTypes.Buffer=new O(function(e){return Buffer.isBuffer(e)},"is not a Buffer"));for(var P=function(e){t.basicTypes[e.name]=new O(function(t){return t instanceof e},"is not a "+e.name)},j=0,x=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,ArrayBuffer];j<x.length;j++)P(x[j])},31977:function(e,t){var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DetailContext=t.NoopContext=t.VError=void 0;var o=function(e){function t(n,r){var o=e.call(this,r)||this;return o.path=n,Object.setPrototypeOf(o,t.prototype),o}return r(t,e),t}(Error);t.VError=o,t.NoopContext=function(){function e(){}return e.prototype.fail=function(e,t,n){return!1},e.prototype.unionResolver=function(){return this},e.prototype.createContext=function(){return this},e.prototype.resolveUnion=function(e){},e}();var i=function(){function e(){this._propNames=[""],this._messages=[null],this._score=0}return e.prototype.fail=function(e,t,n){return this._propNames.push(e),this._messages.push(t),this._score+=n,!1},e.prototype.unionResolver=function(){return new u},e.prototype.resolveUnion=function(e){for(var t,n,r=null,o=0,i=e.contexts;o<i.length;o++){var u=i[o];(!r||u._score>=r._score)&&(r=u)}r&&r._score>0&&((t=this._propNames).push.apply(t,r._propNames),(n=this._messages).push.apply(n,r._messages))},e.prototype.getError=function(e){for(var t=[],n=this._propNames.length-1;n>=0;n--){var r=this._propNames[n];e+="number"==typeof r?"["+r+"]":r?"."+r:"";var i=this._messages[n];i&&t.push(e+" "+i)}return new o(e,t.join("; "))},e.prototype.getErrorDetail=function(e){for(var t=[],n=this._propNames.length-1;n>=0;n--){var r=this._propNames[n];e+="number"==typeof r?"["+r+"]":r?"."+r:"";var o=this._messages[n];o&&t.push({path:e,message:o})}for(var i=null,n=t.length-1;n>=0;n--)i&&(t[n].nested=[i]),i=t[n];return i},e}();t.DetailContext=i;var u=function(){function e(){this.contexts=[]}return e.prototype.createContext=function(){var e=new i;return this.contexts.push(e),e},e}()},93816:function(e,t,n){n.d(t,{Y:()=>f});var r=n(96540),o={characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0};function i(e){var t=window.getSelection();t.empty(),t.addRange(e)}function u(e){return(e.metaKey||e.ctrlKey)&&!e.altKey&&"KeyZ"===e.code}function a(e){e=[e.firstChild];for(var t,n="";t=e.pop();)t.nodeType===Node.TEXT_NODE?n+=t.textContent:t.nodeType===Node.ELEMENT_NODE&&"BR"===t.nodeName&&(n+="\n"),t.nextSibling&&e.push(t.nextSibling),t.firstChild&&e.push(t.firstChild);return"\n"!==n[n.length-1]&&(n+="\n"),n}function s(e){var t=window.getSelection().getRangeAt(0),n=t.collapsed?0:t.toString().length,r=document.createRange();return r.setStart(e,0),r.setEnd(t.startContainer,t.startOffset),{position:e=(r=r.toString()).length,extent:n,content:r=(r=r.split("\n"))[t=r.length-1],line:t}}function c(e,t,n){0>=t&&(t=0),(!n||0>n)&&(n=t);var r=document.createRange();e=[e.firstChild];for(var o,i=0,u=t;o=e[e.length-1];){if(o.nodeType===Node.TEXT_NODE){if(i+o.textContent.length>=u){var a=u-i;if(u===t)if(u=r,a<o.textContent.length?u.setStart(o,a):u.setStartAfter(o),n!==t){u=n;continue}else break;t=r,a<(n=o).textContent.length?t.setEnd(n,a):t.setEndAfter(n);break}i+=o.textContent.length}else if(o.nodeType===Node.ELEMENT_NODE&&"BR"===o.nodeName){if(i+1>=u)if(u===t)if(a=r,0<o.textContent.length?a.setStart(o,0):a.setStartAfter(o),n!==t){u=n;continue}else break;else{t=r,0<(n=o).textContent.length?t.setEnd(n,0):t.setEndAfter(n);break}i++}e.pop(),o.nextSibling&&e.push(o.nextSibling),o.firstChild&&e.push(o.firstChild)}return r}function f(e,t,n){function f(t){var n=e.current;if(n){var r=s(n);n=a(n),r.position+=t.length-n.length,g.position=r,g.onChange(t,r)}}function p(t,n){var r=e.current;if(r){var o=window.getSelection().getRangeAt(0);o.deleteContents(),o.collapse();var u=n||0;(o=c(r,n=(o=s(r)).position+(0>u?u:0),o.position+(0<u?u:0))).deleteContents(),t&&o.insertNode(document.createTextNode(t)),i(c(r,n+t.length))}}function l(t){var n=e.current;if(n){n.focus();var r=0;if("number"==typeof t)r=t;else{var o=a(n).split("\n").slice(0,t.row);t.row&&(r+=o.join("\n").length+1),r+=t.column}i(c(n,r))}}function h(){var t=e.current;return{text:a(t),position:t=s(t)}}function y(){g.observer.disconnect()}n||(n={});var d=(0,r.useState)([])[1],g=(0,r.useState)(function(){var e={observer:null,disconnected:!1,onChange:t,queue:[],history:[],historyAt:-1,position:null};return"undefined"!=typeof MutationObserver&&(e.observer=new MutationObserver(function(t){var n;(n=e.queue).push.apply(n,t)})),e})[0],v=(0,r.useMemo)(function(){return{update:f,insert:p,move:l,getState:h}},[]);return"object"!=typeof navigator||((0,r.useLayoutEffect)(function(){if(g.onChange=t,e.current&&!n.disabled){if(g.disconnected=!1,g.observer.observe(e.current,o),g.position){var r=g.position,u=r.position;i(c(e.current,u,u+r.extent))}return y}}),(0,r.useLayoutEffect)(function(){if(!e.current||n.disabled)g.history.length=0,g.historyAt=-1;else{var t=e.current;if(g.position){t.focus();var r=g.position,o=r.position;i(c(t,o,o+r.extent))}var f=t.style.whiteSpace,p=t.contentEditable,l=!0;try{t.contentEditable="plaintext-only"}catch(e){t.contentEditable="true",l=!1}"pre"!==f&&(t.style.whiteSpace="pre-wrap"),n.indentation&&(t.style.tabSize=t.style.MozTabSize=""+n.indentation);var h,y=RegExp("^(?:"+(r=""+" ".repeat(n.indentation||0))+")"),m=RegExp("^(?:"+r+")*("+r+")$"),b=function(n){if(e.current&&g.position){var r=a(t),o=s(t),i=(new Date).valueOf(),u=g.history[g.historyAt];!n&&500>i-h||u&&u[1]===r?h=i:(n=++g.historyAt,g.history[n]=[o,r],g.history.splice(n+1),500<n&&(g.historyAt--,g.history.shift()))}},T=function(){var e;if((e=g.queue).push.apply(e,g.observer.takeRecords()),e=s(t),g.queue.length){g.observer.disconnect(),g.disconnected=!0;var n,r,o=a(t);for(g.position=e;n=g.queue.pop();){for(null!==n.oldValue&&(n.target.textContent=n.oldValue),r=n.removedNodes.length-1;0<=r;r--)n.target.insertBefore(n.removedNodes[r],n.nextSibling);for(r=n.addedNodes.length-1;0<=r;r--)n.addedNodes[r].parentNode&&n.target.removeChild(n.addedNodes[r])}g.onChange(o,e)}},w=function(e){if(!e.defaultPrevented&&e.target===t){if(g.disconnected)return e.preventDefault(),d([]);if(u(e))e.preventDefault(),e.shiftKey?(e=++g.historyAt,(e=g.history[e])||(g.historyAt=g.history.length-1)):(e=--g.historyAt,(e=g.history[e])||(g.historyAt=0)),e&&(g.observer.disconnect(),g.disconnected=!0,g.position=e[0],g.onChange(e[1],e[0]));else{if(b(),"Enter"===e.key){e.preventDefault();var r=s(t),o=/\S/g.exec(r.content);r="\n"+r.content.slice(0,o?o.index:r.content.length),v.insert(r)}else if((!l||n.indentation)&&"Backspace"===e.key)e.preventDefault(),window.getSelection().getRangeAt(0).collapsed?(r=s(t),r=m.exec(r.content),v.insert("",r?-r[1].length:-1)):v.insert("",0);else if(n.indentation&&"Tab"===e.key){e.preventDefault(),o=(r=s(t)).position-r.content.length;var i=a(t);r=e.shiftKey?i.slice(0,o)+r.content.replace(y,"")+i.slice(o+r.content.length):i.slice(0,o)+(n.indentation?" ".repeat(n.indentation):"	")+i.slice(o),v.update(r)}e.repeat&&T()}}},_=function(e){e.defaultPrevented||e.isComposing||(u(e)||b(),T(),t.focus())},C=function(e){g.position=window.getSelection().rangeCount&&e.target===t?s(t):null},O=function(e){e.preventDefault(),b(!0),v.insert(e.clipboardData.getData("text/plain")),b(!0),T()};return document.addEventListener("selectstart",C),window.addEventListener("keydown",w),t.addEventListener("paste",O),t.addEventListener("keyup",_),function(){document.removeEventListener("selectstart",C),window.removeEventListener("keydown",w),t.removeEventListener("paste",O),t.removeEventListener("keyup",_),t.style.whiteSpace=f,t.contentEditable=p}}},[e.current,n.disabled,n.indentation])),v}}}]);