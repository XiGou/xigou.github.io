"use strict";(self.webpackChunkpersonal_blog=self.webpackChunkpersonal_blog||[]).push([[8558],{28453:(e,s,d)=>{d.d(s,{R:()=>c,x:()=>r});var i=d(96540);const n={},t=i.createContext(n);function c(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(t.Provider,{value:s},e.children)}},83916:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>o,frontMatter:()=>c,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"UsefulSnipets/iscsiadm common commands","title":"iscsiadm common commands","description":"This is a useful iscsiadm command cheat-sheet\uff1a","source":"@site/knowledges/UsefulSnipets/iscsiadm common commands.md","sourceDirName":"UsefulSnipets","slug":"/UsefulSnipets/iscsiadm common commands","permalink":"/zh-CN/knowledges/UsefulSnipets/iscsiadm common commands","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"dg-publish":true,"Last Edited":"2023-11-17T23:58","date":"2022-11-05T00:22:33.000Z"},"sidebar":"readings","previous":{"title":"Nvme Device Operation cmds","permalink":"/zh-CN/knowledges/UsefulSnipets/Nvme Device Operation cmds"},"next":{"title":"\u300a\u9752\u697c\u97f5\u8bed \u300b\u6458\u5f55","permalink":"/zh-CN/knowledges/Zettelkasten/2024-05-04-2305"}}');var n=d(74848),t=d(28453);const c={"dg-publish":!0,"Last Edited":"2023-11-17T23:58",date:new Date("2022-11-05T00:22:33.000Z")},r=void 0,l={},h=[];function x(e){const s={code:"code",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["This is a useful ",(0,n.jsx)(s.code,{children:"iscsiadm"})," command cheat-sheet\uff1a"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Target\uff08Discovery\uff09"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547d\u4ee4"}),(0,n.jsx)(s.th,{children:"\u63cf\u8ff0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m discovery -t st -p <IP>"})}),(0,n.jsx)(s.td,{children:"\u53d1\u73b0\u6307\u5b9a IP \u5730\u5740\u7684 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m discovery -t sendtargets"})}),(0,n.jsx)(s.td,{children:"\u53d1\u73b0\u6240\u6709\u53ef\u7528\u7684 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m discovery -t sendtargets -p <IP>"})}),(0,n.jsx)(s.td,{children:"\u53d1\u73b0\u6307\u5b9a IP \u5730\u5740\u7684\u6240\u6709 iSCSI \u76ee\u6807"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"\uff08Login/Logout\uff09"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547d\u4ee4"}),(0,n.jsx)(s.th,{children:"\u63cf\u8ff0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --login"})}),(0,n.jsx)(s.td,{children:"\u767b\u5f55\u6307\u5b9a IP \u5730\u5740\u7684 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> -u"})}),(0,n.jsx)(s.td,{children:"\u767b\u51fa\u6307\u5b9a IP \u5730\u5740\u7684 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node --logoutall=all"})}),(0,n.jsx)(s.td,{children:"\u767b\u51fa\u6240\u6709\u5df2\u767b\u5f55\u7684 iSCSI \u76ee\u6807"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Session Managemen"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547d\u4ee4"}),(0,n.jsx)(s.th,{children:"\u63cf\u8ff0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session"})}),(0,n.jsx)(s.td,{children:"\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u7684 iSCSI \u4f1a\u8bdd\u4fe1\u606f"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session -r <session_id>"})}),(0,n.jsx)(s.td,{children:"\u79fb\u9664\u6307\u5b9a\u4f1a\u8bdd ID \u7684 iSCSI \u4f1a\u8bdd"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session --rescan"})}),(0,n.jsx)(s.td,{children:"\u91cd\u65b0\u626b\u63cf\u6240\u6709 iSCSI \u4f1a\u8bdd"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session --rescan-target=<IQN>"})}),(0,n.jsx)(s.td,{children:"\u91cd\u65b0\u626b\u63cf\u6307\u5b9a IQN \u7684 iSCSI \u4f1a\u8bdd"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Target Management"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547d\u4ee4"}),(0,n.jsx)(s.th,{children:"\u63cf\u8ff0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node"})}),(0,n.jsx)(s.td,{children:"\u663e\u793a\u5f53\u524d\u5df2\u914d\u7f6e\u7684 iSCSI \u76ee\u6807\u4fe1\u606f"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --op=new"})}),(0,n.jsx)(s.td,{children:"\u6dfb\u52a0\u65b0\u7684 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --op=delete"})}),(0,n.jsx)(s.td,{children:"\u5220\u9664\u6307\u5b9a iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -T <target_name> -p <IP> --op=update"})}),(0,n.jsx)(s.td,{children:"\u66f4\u65b0\u6307\u5b9a iSCSI \u76ee\u6807\u7684\u5c5e\u6027"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"**Other Usual Commands  **"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"\u547d\u4ee4"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"\u63cf\u8ff0"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m iface"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663e\u793a\u5f53\u524d\u7684\u7f51\u7edc\u63a5\u53e3\u4fe1\u606f"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m fw"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663e\u793a iSCSI \u9002\u914d\u5668\u56fa\u4ef6\u4fe1\u606f"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m fw --op=update"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u66f4\u65b0 iSCSI \u9002\u914d\u5668\u56fa\u4ef6"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m sessionstats"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663e\u793a iSCSI \u4f1a\u8bdd\u7edf\u8ba1\u4fe1\u606f"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m statistics"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u663e\u793a iSCSI \u7edf\u8ba1\u4fe1\u606f"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -p <IP> -l"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u4f7f\u7528 CHAP \u8ba4\u8bc1\u767b\u5f55 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m node -p <IP> -I <iface>"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u6307\u5b9a\u7f51\u7edc\u63a5\u53e3\u767b\u5f55 iSCSI \u76ee\u6807"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"iscsiadm -m session -P 3  "})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:"\u6bcf\u4e2alun\u7684\u672c\u5730\u8def\u5f84"})]})]})]})]})}function o(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}}}]);